(function(e){function t(t){for(var r,s,o=t[0],l=t[1],u=t[2],p=0,d=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00c2":function(e,t,n){"use strict";var r=n("5eaa"),i=n("1108");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.textField({id:"externalTaskPriority",label:a("Task Priority"),modelProperty:"taskPriority",get:function(e,t){var n=s(e);return{taskPriority:n.get("flowable:taskPriority")}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:taskPriority":t.taskPriority||void 0})}});return[o]}},"02f8":function(e,t,n){"use strict";var r=n("7a6b").is,i=n("7dc1"),a=n("114d"),s=n("6cd4");e.exports=function(e,t,n,o){var l=["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"];s(l,(function(s){if(r(t,s)){var l=i.getErrorEventDefinition(t);if(l){var u=r(t,"bpmn:StartEvent")||r(t,"bpmn:BoundaryEvent"),c=u,p=u;a(e,t,n,l,c,p,o)}}}))}},"034f":function(e,t,n){"use strict";var r=n("85ec"),i=n.n(r);i.a},"0693":function(e,t,n){"use strict";var r=1e3;function i(e,t){var n=this;t=t||r,e.on("propertiesPanel.isEntryVisible",t,(function(e){return n.isEntryVisible(e.entry,e.element)})),e.on("propertiesPanel.isPropertyEditable",t,(function(e){return n.isPropertyEditable(e.entry,e.propertyName,e.element)}))}i.$inject=["eventBus"],e.exports=i,i.prototype.isEntryVisible=function(e,t){return!0},i.prototype.isPropertyEditable=function(e,t,n){return!0}},"0f7f":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("1108"),a=n("7a6b").is,s=n("dbc8").isEventSubProcess;e.exports=function(e,t,n,o,l,u){var c=function(e){return function(t){var n=o.get("flowable:"+e),r={};return r[e]=n,r}},p=function(e){return function(t,n){var r={};return r["flowable:"+e]=n[e]||void 0,i.updateBusinessObject(t,o,r)}};e.entries.push(r.textField({id:"variableName",label:u("Variable Name"),modelProperty:"variableName",get:c("variableName"),set:p("variableName")}));var d=a(t,"bpmn:StartEvent")&&!s(t.parent);d||e.entries.push(r.textField({id:"variableEvent",label:u("Variable Event"),description:u("Specify more than one variable change event as a comma separated list."),modelProperty:"variableEvent",get:c("variableEvent"),set:p("variableEvent")}))}},1037:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("dd28"),i=n("ef82");e.exports=function(e,t,n,a,s){e.entries=e.entries.concat(r(t,a,n,{label:s("Message"),elementName:"message",elementType:"bpmn:Message",referenceProperty:"messageRef",newElementIdPrefix:"Message_"})),e.entries=e.entries.concat(i(t,a,n,{id:"message-element-name",label:s("Message Name"),referenceProperty:"messageRef",modelProperty:"name",shouldValidate:!0}))}},1108:function(e,t,n){"use strict";var r={};e.exports=r,r.updateProperties=function(e,t){return{cmd:"element.updateProperties",context:{element:e,properties:t}}},r.updateBusinessObject=function(e,t,n){return{cmd:"properties-panel.update-businessobject",context:{element:e,businessObject:t,properties:n}}},r.addElementsTolist=function(e,t,n,r){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,objectsToAdd:r}}},r.removeElementsFromList=function(e,t,n,r,i){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,referencePropertyName:r,objectsToRemove:i}}},r.addAndRemoveElementsFromList=function(e,t,n,r,i,a){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,referencePropertyName:r,objectsToAdd:i,objectsToRemove:a}}},r.setList=function(e,t,n,r){return{cmd:"properties-panel.update-businessobject-list",context:{element:e,currentObject:t,propertyName:n,updatedObjectList:r}}}},"114d":function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("1108"),a=n("ef82");e.exports=function(e,t,n,s,o,l,u){var c=function(e){return function(t){var n=s.get("flowable:"+e),r={};return r[e]=n,r}},p=function(e){return function(t,n){var r={};return r["flowable:"+e]=n[e]||void 0,i.updateBusinessObject(t,s,r)}};e.entries=e.entries.concat(a(t,s,n,{id:"error-element-message",label:u("Error Message"),referenceProperty:"errorRef",modelProperty:"errorMessage"})),o&&e.entries.push(r.textField({id:"errorCodeVariable",label:u("Error Code Variable"),modelProperty:"errorCodeVariable",get:c("errorCodeVariable"),set:p("errorCodeVariable")})),l&&e.entries.push(r.textField({id:"errorMessageVariable",label:u("Error Message Variable"),modelProperty:"errorMessageVariable",get:c("errorMessageVariable"),set:p("errorMessageVariable")}))}},"143b":function(e,t,n){"use strict";var r=n("dce5"),i=n("5eaa"),a=n("27de"),s=n("7dc1"),o=n("1108");function l(e){return a.isAsyncBefore(e)}function u(e){return a.isAsyncAfter(e)}function c(e){return a.isExclusive(e)}function p(e,t){return a.removeFailedJobRetryTimeCycle(e,t)}function d(e){return!s.getTimerEventDefinition(e)}e.exports=function(e,t,n,a){var s=n.getBusinessObject,m=n.idPrefix||"",f=n.labelPrefix||"",b=i.checkbox({id:m+"asyncBefore",label:f+a("Asynchronous Before"),modelProperty:"asyncBefore",get:function(e,t){var n=s(e);return{asyncBefore:l(n)}},set:function(e,t){var n=s(e),i=!!t.asyncBefore,a={"flowable:asyncBefore":i,"flowable:async":!1},l=[];return u(n)||i||(a=r({"flowable:exclusive":!0},a),d(e)&&l.push(p(n,e))),l.push(o.updateBusinessObject(e,n,a)),l}}),v=i.checkbox({id:m+"asyncAfter",label:f+a("Asynchronous After"),modelProperty:"asyncAfter",get:function(e,t){var n=s(e);return{asyncAfter:u(n)}},set:function(e,t){var n=s(e),i=!!t.asyncAfter,a={"flowable:asyncAfter":i},u=[];return l(n)||i||(a=r({"flowable:exclusive":!0},a),d(e)&&u.push(p(n,e))),u.push(o.updateBusinessObject(e,n,a)),u}}),h=i.checkbox({id:m+"exclusive",label:f+a("Exclusive"),modelProperty:"exclusive",get:function(e,t){var n=s(e);return{exclusive:c(n)}},set:function(e,t){var n=s(e);return o.updateBusinessObject(e,n,{"flowable:exclusive":!!t.exclusive})},hidden:function(e){var t=s(e);return t&&!u(t)&&!l(t)}});return[b,v,h]}},1540:function(e,t,n){},1572:function(e,t,n){"use strict";var r=n("7a6b").is,i=n("dce5"),a=n("5eaa"),s=n("1108");e.exports=function(e,t,n,o){var l=n.getBusinessObject,u=n.hideResultVariable,c=n.id||"resultVariable",p=a.textField({id:c,label:o("Result Variable"),modelProperty:"resultVariable",get:function(e,t){var n=l(e);return{resultVariable:n.get("flowable:resultVariable")}},set:function(e,t,n){var a=l(e),o=t.resultVariable||void 0,u={"flowable:resultVariable":o};return r(a,"flowable:DmnCapable")&&!o&&(u=i({"flowable:mapDecisionResult":"resultList"},u)),s.updateBusinessObject(e,a,u)},hidden:function(e,t){if("function"===typeof u)return u.apply(p,arguments)}});return[p]}},1721:function(e,t,n){"use strict";n("99af"),n("a623"),n("c975"),n("b0c0"),n("d3b7"),n("ddb0");var r=n("922e").escapeHTML,i=n("e506").domify,a=n("e506").query,s=n("e506").queryAll,o=n("e506").remove,l=n("e506").classes,u=n("e506").closest,c=n("e506").attr,p=n("e506").delegate,d=n("e506").matches,m=n("6cd4"),f=n("9380"),b=n("9b02"),v=n("ec69"),h=n("13ea"),g=n("6747"),y=n("41c6"),E=n("b047c"),x=n("7d17"),w=n("ffbf").default,T=n("7a6b").getBusinessObject,S="bpp-hidden",C=300;function P(e){return"checkbox"===e.type||"radio"===e.type}function k(e){return"select-one"===e.type}function O(e){return c(e,"contenteditable")}function B(e){var t="input[name], textarea[name], [data-value], [contenteditable]",n=s(t,e);return n&&n.length||!d(e,t)||(n=[e]),n}function _(e,t){var n=s("input[name], textarea[name], select[name], [contenteditable]",e);return n&&n.length||(n=d(e,"option")?[e]:n),t||(n=f(n,(function(e){return!u(e,"."+S)}))),n}function j(e){var t={},n=_(e);return m(n,(function(e){var n=e.value,r=c(e,"name")||c(e,"data-name");P(e)?n=e.checked?!c(e,"value")||e.value:null:O(e)&&(n=e.innerText),null!==n&&(t[r]=n)})),t}function D(e){var t,n=a("[data-list-entry-container]",e);if(n){t=[];var r=n.children||[];m(r,(function(e){t.push(j(e))}))}else t=j(e);return t}function I(e,t){if(e&&!t)return!1;var n=v(e).concat(v(t));return n.every((function(n){return e[n]===t[n]}))}function L(e,t){return g(e)?e.length===t.length&&e.every((function(e,n){return I(e,t[n])})):I(e,t)}function A(e){return R(V(N(V(N(e,"groups")),"entries")),"id")}function F(e){return R(V(N(e,"groups")),"id")}function M(e,t,n,r,i,a){this._eventBus=t,this._modeling=n,this._commandStack=i,this._canvas=a,this._propertiesProvider=r,this._init(e)}M.$inject=["config.propertiesPanel","eventBus","modeling","propertiesProvider","commandStack","canvas"],e.exports=M,M.prototype._init=function(e){var t=this._canvas,n=this._eventBus,r=this;n.on("root.added",(function(e){var t=e.element;J(t)||r.update(t)})),n.on("selection.changed",(function(e){var n=e.newSelection[0],i=t.getRootElement();J(i)||r.update(n)})),n.on(["propertiesPanel.changed","propertiesPanel.resized"],(function(e){var t=a(".bpp-properties-tab-bar",r._container);if(t){var n=w.get(t);n||(n=w(t,{selectors:{tabsContainer:".bpp-properties-tabs-links",tab:".bpp-properties-tabs-links li",ignore:".bpp-hidden",active:".bpp-active"}}),n.on("scroll",(function(e,t,n){var i=a("[data-tab-target]",e),s=c(i,"data-tab-target");r.activateTab(s)}))),n.update()}})),n.on("elements.changed",(function(e){var t=r._current,n=t&&t.element;n&&-1!==e.elements.indexOf(n)&&r.update(n)})),n.on("elementTemplates.changed",(function(){var e=r._current,t=e&&e.element;t&&r.update(t)})),n.on("diagram.destroy",(function(){r.detach()})),this._container=i('<div class="bpp-properties-panel"></div>'),this._bindListeners(this._container),e&&e.parent&&this.attachTo(e.parent)},M.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"===typeof e&&(e=a(e));var t=this._container;e.appendChild(t),this._emit("attach")},M.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach"),t.removeChild(e))},M.prototype.activateTab=function(e){var t="string"===typeof e?e:e.id,n=this._current,r=n.panel,i=s(".bpp-properties-tab",r),o=s(".bpp-properties-tab-link",r);m(i,(function(e){var n=c(e,"data-tab");l(e).toggle("bpp-active",t===n)})),m(o,(function(e){var n=a("[data-tab-target]",e),r=c(n,"data-tab-target");l(e).toggle("bpp-active",t===r)}))},M.prototype.update=function(e){var t=this._current,n=!0;"undefined"===typeof e&&(e=this._canvas.getRootElement());var r=this._propertiesProvider.getTabs(e);if(t&&t.element===e&&(n=this._entriesChanged(t,r)),n){if(t){var i,s=a(".bpp-properties-tab.bpp-active",t.panel);s&&(i=c(s,"data-tab")),o(t.panel)}this._current=this._create(e,r),i?this.activateTab(i):this.activateTab(this._current.tabs[0])}this._current&&this._updateActivation(this._current),this._emit("changed")},M.prototype._entriesChanged=function(e,t){var n=v(e.entries),r=v(A(t));return!h(y(n,r))},M.prototype._emit=function(e){this._eventBus.fire("propertiesPanel."+e,{panel:this,current:this._current})},M.prototype._bindListeners=function(e){var t=this,n=function(e){var n,r,i=e.delegateTarget,a=u(i,"[data-entry]");if(a){n=c(a,"data-entry"),r=t.getEntry(n);var s=D(a);if("change"===e.type){var o=c(i,"data-on-change");if(o){var l=t.executeAction(r,a,o,e);if(!l)return t.update(t._current.element)}}t.applyChanges(r,s,a),t.updateState(r,a)}};function r(e,n){var r=e.delegateTarget,i=u(r,"[data-entry]");if(i){var a=c(r,"data-blur"),s=c(i,"data-entry"),o=t.getEntry(s),l=t.executeAction(o,i,a,e);if(l){var p=D(i);t.applyChanges(o,p,i)}t.updateState(o,i)}}p.bind(e,"input, textarea, [contenteditable]","input",E(n,C)),p.bind(e,"input, textarea, select, [contenteditable]","change",n),p.bind(e,"select","keydown",(function(e){46===e.keyCode&&(e.stopPropagation(),e.preventDefault())})),p.bind(e,"[data-action]","click",(function(e){var n=e.delegateTarget,r=u(n,"[data-entry]"),i=c(n,"data-action"),a=c(r,"data-entry"),s=t.getEntry(a),o=t.executeAction(s,r,i,e);if(o){var l=D(r);t.applyChanges(s,l,r)}t.updateState(s,r)})),p.bind(e,"[data-blur]","blur",r,!0),p.bind(e,".bpp-properties-tabs-links [data-tab-target]","click",(function(e){e.preventDefault();var n=e.delegateTarget,r=c(n,"data-tab-target");t.activateTab(r)}))},M.prototype.updateState=function(e,t){this.updateShow(e,t),this.updateDisable(e,t)},M.prototype.updateShow=function(e,t){var n=this._current;if(n){var r=s("[data-show]",t)||[];m(r,(function(r){var i=c(r,"data-show"),a=b(e,i);if(a){var s=u(r,"[data-scope]")||t,o=a(n.element,t,r,s)||!1;o?l(r).remove(S):l(r).add(S)}}))}},M.prototype.updateDisable=function(e,t){var n=this._current;if(n){var r=s("[data-disable]",t)||[];m(r,(function(r){var i=c(r,"data-disable"),a=b(e,i);if(a){var s=u(r,"[data-scope]")||t,o=a(n.element,t,r,s)||!1;c(r,"disabled",o?"":null)}}))}},M.prototype.executeAction=function(e,t,n,r){var i=this._current;if(i){var a=b(e,n);if(a){var s=u(r.target,"[data-scope]")||t;return a.apply(e,[i.element,t,r,s])}}},M.prototype.applyChanges=function(e,t,n){var r=this._current.element;if(!L(t,e.oldValues)){var i,a=e.set(r,t,n);g(a)?a.length&&(i={cmd:"properties-panel.multi-command-executor",context:V(a)}):i=a,i?this._commandStack.execute(i.cmd,i.context||{element:r}):this.update(r)}},M.prototype.applyValidationErrors=function(e,t){var n=!0,r=_(t,!0);return m(r,(function(t){var r=c(t,"name")||c(t,"data-name"),s=e&&e[r],o=a(".bpp-error-message",t.parentNode);s?(n=!1,o||(o=i("<div></div>"),l(o).add("bpp-error-message"),t.parentNode.insertBefore(o,t.nextSibling)),o.textContent=s,l(t).add("invalid")):(l(t).remove("invalid"),o&&t.parentNode.removeChild(o))})),n},M.prototype.validate=function(e,t,n){var r=this,i=this._current,s=!0;if(n=n||a('[data-entry="'+e.id+'"]',i.panel),t instanceof Array)for(var o=a("[data-list-entry-container]",n),l=o.children||[],u=0;u<t.length;u++){var c=t[u];if(e.validateListItem){var p=e.validateListItem(i.element,c,n,u),d=l[u];s=r.applyValidationErrors(p,d)&&s}}else e.validate&&(this.validationErrors=e.validate(i.element,t,n),s=r.applyValidationErrors(this.validationErrors,n)&&s);return s},M.prototype.getEntry=function(e){return this._current&&this._current.entries[e]};var V=n("991b"),R=n("4151"),N=n("dd61");function $(e,t){var n,r=O(e),i=r?e.innerText:e.value;void 0===t&&(t=""),i!==t&&(document.activeElement===e&&(n=x(G(e),i,t)),r?e.innerText=t:e.value=t,n&&z(e,n))}function U(e,t){void 0!==t&&(e.value=t)}function K(e,t){var n=e.value;e.checked=t===n||!c(e,"value")&&t}function q(e,t){e.textContent=t}function G(e){return O(e)?H(e):{start:e.selectionStart,end:e.selectionEnd}}function H(e){var t=window.getSelection(),n=t.focusNode,r=t.focusOffset,i=t.anchorOffset;if(!n)throw new Error("not selected");if(!e.contains(n))throw new Error("not selected");return{start:Math.min(r,i),end:Math.max(r,i)}}function z(e,t){O(e)?X(e,t):(e.selectionStart=t.start,e.selectionEnd=t.end)}function X(e,t){var n,r,i;n=e.firstChild||e,r=document.createRange(),r.setStart(n,t.start),r.setEnd(n,t.end),i=window.getSelection(),i.removeAllRanges(),i.addRange(r)}function J(e){return"__implicitroot"===e.id}M.prototype._create=function(e,t){if(!e)return null;var n=this._container,r=this._createPanel(e,t);n.appendChild(r);var i=A(t),a=F(t);return{tabs:t,groups:a,entries:i,element:e,panel:r}},M.prototype._bindTemplate=function(e,t,n,r,i){var a=this._eventBus;function s(t,n){return a.fire("propertiesPanel.isPropertyEditable",{entry:t,propertyName:n,element:e})}var o=B(r);m(o,(function(a){var o,l,u;"value"in a||"true"===O(a)?(o=c(a,"name")||c(a,"data-name"),l=n[o],u=s(t,o),u&&t.editable&&(u=t.editable(e,r,a,o,l,i)),c(a,"readonly",u?null:""),c(a,"disabled",u?null:""),t.setControlValue?t.setControlValue(e,r,a,o,l,i):P(a)?K(a,l):k(a)?U(a,l):$(a,l)):(o=c(a,"data-value"),l=n[o],t.setControlValue?t.setControlValue(e,r,a,o,l,i):q(a,l))}))},M.prototype._updateActivation=function(e){var t=this,n=this._eventBus,r=e.element;function s(e){return n.fire("propertiesPanel.isEntryVisible",{entry:e,element:r})}function o(e,t,n){return"function"!==typeof e.enabled||e.enabled(t,n)}function u(e,t){return"function"!==typeof e.enabled||e.enabled(t)}function p(e,t){l(e).toggle(S,!t)}function d(n,r){var i=l(n).has("bpp-active");!r&&i&&t.activateTab(e.tabs[0])}function f(e,t,n){var r=a(t,e);r&&(r.textContent=n)}var b=e.panel;m(e.tabs,(function(e){var n=a("[data-tab="+e.id+"]",b),l=a("[data-tab-target="+e.id+"]",b).parentNode,v=!1;m(e.groups,(function(e){var l=!1,u=a("[data-group="+e.id+"]",n);m(e.entries,(function(e){var n=a('[data-entry="'+e.id+'"]',u),o=s(e);l=l||o,p(n,o);var d="get"in e?e.get(r,n):{};if(d instanceof Array){for(var m=a("[data-list-entry-container]",n),f=m.children||[],b=0;b<d.length;b++){var v=d[b],h=f[b];h||(h=i(e.createListEntryTemplate(v,b,m)),m.appendChild(h)),c(h,"data-index",b),t._bindTemplate(r,e,v,h,b)}for(var g=f.length-d.length,y=0;y<g;y++)m.removeChild(m.lastChild)}else t._bindTemplate(r,e,d,n);t.updateState(e,n),t.validate(e,d,n),e.oldValues=D(n)})),"function"===typeof e.label&&f(u,".group-label",e.label(r,u)),l=l&&o(e,r,u),v=v||l,p(u,l)})),v=v&&u(e,r),p(n,v),p(l,v),d(n,v)})),f(b,"[data-label-id]",T(r).name||"")},M.prototype._createPanel=function(e,t){var n=this,a=i('<div class="bpp-properties"></div>'),s=i('<div class="bpp-properties-header"><div class="label" data-label-id></div><div class="search"><input type="search" placeholder="Search for property" /><button><span>Search</span></button></div></div>'),o=i('<div class="bpp-properties-tab-bar"></div>'),u=i('<ul class="bpp-properties-tabs-links"></ul>'),c=i('<div class="bpp-properties-tabs-container"></div>');return a.appendChild(s),m(t,(function(e,t){if(!e.id)throw new Error("tab must have an id");var a=i('<div class="bpp-properties-tab" data-tab="'+r(e.id)+'"></div>'),s=i('<li class="bpp-properties-tab-link"><a href data-tab-target="'+r(e.id)+'">'+r(e.label)+"</a></li>"),o=e.groups;m(o,(function(e){if(!e.id)throw new Error("group must have an id");var t=i('<div class="bpp-properties-group" data-group="'+r(e.id)+'"><span class="group-toggle"></span><span class="group-label">'+r(e.label)+"</span></div>");t.querySelector(".group-toggle").addEventListener("click",(function(e){l(t).toggle("group-closed"),e.preventDefault(),e.stopPropagation()})),t.addEventListener("click",(function(e){!e.defaultPrevented&&l(t).has("group-closed")&&l(t).remove("group-closed")})),m(e.entries,(function(e){if(!e.id)throw new Error("entry must have an id");var a=e.html;"string"===typeof a&&(a=i(a)),a.get&&a.constructor.prototype.jquery&&(a=a.get(0));var s=i('<div class="bpp-properties-entry" data-entry="'+r(e.id)+'"></div>');m(e.cssClasses||[],(function(e){l(s).add(e)})),s.appendChild(a),t.appendChild(s),n.updateState(e,s)})),a.appendChild(t)})),u.appendChild(s),c.appendChild(a)})),o.appendChild(u),a.appendChild(o),a.appendChild(c),a}},1827:function(e,t,n){"use strict";n("b0c0"),n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("c8f6"),a=n("ee7d"),s=n("1108"),o=n("922e"),l=n("5eaa"),u=n("ed92");function c(e,t,n,r){return i.createElement(e,r,t,n)}function p(e){return r(e,"flowable:Script")}function d(e){return r(e,"flowable:List")}function m(e){return r(e,"flowable:Map")}function f(e,t){return a.isInputOutputSupported(e,t)}e.exports=function(e,t,n,r){var i={"flowable:Map":{value:"map",label:r("Map")},"flowable:List":{value:"list",label:r("List")},"flowable:Script":{value:"script",label:r("Script")}};n=n||{};var a=!!n.insideConnector,b=n.idPrefix||"",v=n.getSelectedParameter;if(!f(e,a))return[];var h=[],g=function(e,t){return v(e,t)};h.push(l.validationAwareTextField({id:b+"parameterName",label:r("Name"),modelProperty:"name",getProperty:function(e,t){return(v(e,t)||{}).name},setProperty:function(e,t,n){var r=v(e,n);return s.updateBusinessObject(e,r,t)},validate:function(e,t,n){var i=v(e,n),a={};if(i){var s=t.name;s?o.containsSpace(s)&&(a.name=r("Name must not contain spaces")):a.name=r("Parameter must have a name")}return a},hidden:function(e,t){return!g(e,t)}}));var y=[{value:"text",name:r("Text")},{value:"script",name:r("Script")},{value:"list",name:r("List")},{value:"map",name:r("Map")}];h.push(l.selectBox({id:b+"parameterType",label:r("Type"),selectOptions:y,modelProperty:"parameterType",get:function(e,t){var n=v(e,t),r="text";if("undefined"!==typeof n){var a=n.get("definition");if("undefined"!==typeof a){var s=a.$type;r=i[s].value}}return{parameterType:r}},set:function(e,n,r){var i=v(e,r),a={value:void 0,definition:void 0},o=function(e){return c(e,i,t)},l=n.parameterType;return"script"===l?a.definition=o("flowable:Script"):"list"===l?a.definition=o("flowable:List"):"map"===l&&(a.definition=o("flowable:Map")),s.updateBusinessObject(e,i,a)},show:function(e,t){return g(e,t)}})),h.push(l.textBox({id:b+"parameterType-text",label:r("Value"),modelProperty:"value",get:function(e,t){return{value:(v(e,t)||{}).value}},set:function(e,t,n){var r=v(e,n);return t.value=t.value||void 0,s.updateBusinessObject(e,r,t)},show:function(e,t){var n=v(e,t);return n&&!n.definition}}));var E=u("scriptFormat","value",!0,r);return h.push({id:b+"parameterType-script",html:'<div data-show="isScript">'+E.template+"</div>",get:function(e,t){var n=v(e,t);return n&&p(n.definition)?E.get(e,n.definition):{}},set:function(e,t,n){var r=v(e,n),i=E.set(e,t);return s.updateBusinessObject(e,r.definition,i)},validate:function(e,t,n){var r=v(e,n);return r&&p(r.definition)?E.validate(e,r.definition):{}},isScript:function(e,t){var n=v(e,t);return n&&p(n.definition)},script:E}),h.push(l.table({id:b+"parameterType-list",modelProperties:["value"],labels:[r("Value")],addLabel:r("Add Value"),getElements:function(e,t){var n=v(e,t);return n&&d(n.definition)?n.definition.items:[]},updateElement:function(e,t,n,r){var i=v(e,n),a=i.definition.items[r];return s.updateBusinessObject(e,a,t)},addElement:function(e,n){var r=v(e,n),i=c("flowable:Value",r.definition,t,{value:void 0});return s.addElementsTolist(e,r.definition,"items",[i])},removeElement:function(e,t,n){var r=v(e,t);return s.removeElementsFromList(e,r.definition,"items",null,[r.definition.items[n]])},editable:function(e,t,n,r){var i=v(e,t),a=i.definition.items[r];return!m(a)&&!d(a)&&!p(a)},setControlValue:function(e,t,n,r,a,s){var o=v(e,t),l=o.definition.items[s];m(l)||d(l)||p(l)?n.value=i[l.$type].label:n.value=a},show:function(e,t){var n=v(e,t);return n&&n.definition&&d(n.definition)}})),h.push(l.table({id:b+"parameterType-map",modelProperties:["key","value"],labels:[r("Key"),r("Value")],addLabel:r("Add Entry"),getElements:function(e,t){var n=v(e,t);return n&&m(n.definition)?n.definition.entries:[]},updateElement:function(e,t,n,r){var i=v(e,n),a=i.definition.entries[r];return(m(a.definition)||d(a.definition)||p(a.definition))&&(t={key:t.key}),s.updateBusinessObject(e,a,t)},addElement:function(e,n){var r=v(e,n),i=c("flowable:Entry",r.definition,t,{key:void 0,value:void 0});return s.addElementsTolist(e,r.definition,"entries",[i])},removeElement:function(e,t,n){var r=v(e,t);return s.removeElementsFromList(e,r.definition,"entries",null,[r.definition.entries[n]])},editable:function(e,t,n,r){var i=v(e,t),a=i.definition.entries[r];return"key"===n||!m(a.definition)&&!d(a.definition)&&!p(a.definition)},setControlValue:function(e,t,n,r,a,s){var o=v(e,t),l=o.definition.entries[s];"key"!==r&&(m(l.definition)||d(l.definition)||p(l.definition))?n.value=i[l.definition.$type].label:n.value=a},show:function(e,t){var n=v(e,t);return n&&n.definition&&m(n.definition)}})),h}},"18aa":function(e,t,n){"use strict";n("99af"),n("d3b7"),n("9911"),n("ddb0");var r=n("ba77"),i=n("ee7d"),a=n("922e"),s=a.escapeHTML,o=a.triggerClickEvent,l=n("5948"),u=n("8124"),c=n("299c"),p=n("4e5b"),d=n("1572"),m=n("5eaa"),f=n("e506").query,b=n("e506").closest,v=n("e506").classes;function h(e){return r.getImplementationType(e)}function g(e){return r.getServiceTaskLikeBusinessObject(e)}function y(e){return r.isDmnCapable(e)}function E(e){return r.isExternalCapable(e)}function x(e){return r.isServiceTaskLike(e)}function w(e,t){var n=b(e,".bpp-properties-panel");return f('a[data-tab-target="'+t+'"]',n)}e.exports=function(e,t,n,r){if(x(g(t))){var a=y(t),b=E(g(t));e.entries=e.entries.concat(l(t,n,{getBusinessObject:g,getImplementationType:h,hasDmnSupport:a,hasExternalSupport:b,hasServiceTaskLikeSupport:!0},r)),e.entries=e.entries.concat(u(t,n,{getBusinessObject:g,getImplementationType:h},r)),e.entries=e.entries.concat(d(t,n,{getBusinessObject:g,getImplementationType:h,hideResultVariable:function(e,t){return"expression"!==h(e)}},r)),b&&(e.entries=e.entries.concat(c(t,n,{getBusinessObject:g,getImplementationType:h},r))),a&&(e.entries=e.entries.concat(p(t,n,{getCallableType:h},r)));var T=function(e){return"connector"===h(e)};e.entries.push(m.link({id:"configureConnectorLink",label:r("Configure Connector"),handleClick:function(e,t,n){var r=w(t,"connector");return r&&o(r),!1},showLink:function(e,t){var n=f("a",t);if(n.textContent="",v(n).remove("bpp-error-message"),T(e)){var a=i.getConnector(e).get("connectorId");return a?n.textContent=r("Configure Connector"):(n.innerHTML='<span class="bpp-icon-warning"></span> '+s(r("Must configure Connector")),v(n).add("bpp-error-message")),!0}return!1}}))}}},"18aa9":function(e,t,n){"use strict";n("c975"),n("d3b7"),n("ddb0");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("5eaa"),s=n("c8f6"),o=n("e470"),l=n("1108"),u=n("922e"),c=n("dce5"),p=n("6cd4"),d=n("2769");function m(){return u.nextId("Button_")}function f(e){var t=e&&b(e);return t&&t.values?t.values:[]}function b(e){return h(e)?v(e):e.buttons}function v(e){return d(e.values,(function(e){return i(e,"flowable:Buttons")}))}function h(e){return i(e,"bpmn:ExtensionElements")}e.exports=function(e,t,n,d){var v=n.getParent,g=n.modelProperties,y=n.createParent,E=r(e);if(i(e,"bpmn:Participant")&&(E=E.get("processRef")),E)return c(n,{addLabel:d("Add Button"),getElements:function(e,t){var n=v(e,t,E);return f(n)},addElement:function(e,n){var r=[],i=v(e,n,E);if(!i&&"function"===typeof y){var a=y(e,E);i=a.parent,r.push(a.cmd)}var o=b(i);o||(o=s.createElement("flowable:Buttons",{},i,t),h(i)?r.push(l.addAndRemoveElementsFromList(e,i,"values","extensionElements",[o],[])):r.push(l.updateBusinessObject(e,i,{buttons:o})));var u={};p(g,(function(e){u[e]=void 0})),g.indexOf("id")>=0&&(u.id=m());var c=s.createElement("flowable:Button",u,o,t);return r.push(l.addElementsTolist(e,o,"values",[c])),r},updateElement:function(e,t,n,r){var i=v(e,n,E),a=f(i)[r];return p(g,(function(e){t[e]=t[e]||void 0})),l.updateBusinessObject(e,a,t)},validate:function(e,t,n,r){if(g.indexOf("id")>=0){var i=v(e,n,E),a=f(i),s=a[r];if(s){var o=u.isIdValid(s,t.id,d);if(o)return{id:o}}}},removeElement:function(e,t,n){var r=[],a=v(e,t,E),s=b(a),u=f(a),c=u[n];return r.push(l.removeElementsFromList(e,s,"values",null,[c])),1===u.length&&(h(a)?p(a.values,(function(t){i(t,"flowable:Buttons")&&r.push(o.removeEntry(E,e,t))})):r.push(l.updateBusinessObject(e,a,{buttons:void 0}))),r}}),a.table(n)}},"18b5":function(e,t,n){"use strict";var r=n("5eaa"),i=n("1108");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.textField({id:"jobPriority",label:a("Job Priority"),modelProperty:"jobPriority",get:function(e,t){var n=s(e);return{jobPriority:n.get("flowable:jobPriority")}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:jobPriority":t.jobPriority||void 0})}});return[o]}},2587:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("ae41"),i=n("c4c5").createCategoryValue,a=n("7a6b").is,s=n("7a6b").getBusinessObject;e.exports=function(e,t,n,o,l){function u(e){var t=o.getRootElement(),r=s(t).$parent,a=i(r,n);e.categoryValueRef=a}function c(e,t){var n=s(e),r=n.categoryValueRef;return r||u(n),{cmd:"element.updateLabel",context:{element:e,newLabel:t.categoryValue}}}function p(e){var t=s(e),n=(t.categoryValueRef||{}).value;return{categoryValue:n}}var d;a(t,"bpmn:Collaboration")||(a(t,"bpmn:TextAnnotation")?d={modelProperty:"text",label:l("Text")}:a(t,"bpmn:Group")&&(d={modelProperty:"categoryValue",label:l("Category Value"),get:p,set:c}),e.entries=e.entries.concat(r(t,d,l)))}},"25f2":function(e,t,n){"use strict";var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("1108"),s={};e.exports=s,s.modifyProcessBusinessObject=function(e,t,n){if(!r(e,"bpmn:Participant"))return{};var s=i(e).get("processRef"),o={};return o[t]=n[t],a.updateBusinessObject(e,s,o)},s.getProcessBusinessObject=function(e,t){if(!r(e,"bpmn:Participant"))return{};var n=i(e).get("processRef"),a={};return a[t]=n.get(t),a}},"275c":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").getBusinessObject,i=n("e470").getExtensionElements,a={};e.exports=a,a.getFormData=function(e){var t=r(e),n=i(t,"flowable:FormData");if("undefined"!==typeof n)return n[0]},a.getFormFields=function(e){var t=this.getFormData(e);return"undefined"===typeof t?[]:t.fields||[]},a.getFormField=function(e,t){var n=this.getFormFields(e);return n[t]},a.getConstraints=function(e){return e&&e.validation&&e.validation.constraints?e.validation.constraints:[]},a.getEnumValues=function(e){return e&&e.values?e.values:[]}},"27de":function(e,t,n){"use strict";var r=n("dd61"),i=n("e470");function a(e){return!(!e.get("flowable:asyncBefore")&&!e.get("flowable:async"))}function s(e){return!!e.get("flowable:asyncAfter")}function o(e){return!!e.get("flowable:exclusive")}function l(e){return(i.getExtensionElements(e,"flowable:FailedJobRetryTimeCycle")||[])[0]}function u(e,t){var n=i.getExtensionElements(e,"flowable:FailedJobRetryTimeCycle");return r(n,(function(n){return i.removeEntry(e,t,n)}))}e.exports.isAsyncBefore=a,e.exports.isAsyncAfter=s,e.exports.isExclusive=o,e.exports.getFailedJobRetryTimeCycle=l,e.exports.removeFailedJobRetryTimeCycle=u},2841:function(e,t,n){e.exports={__depends__:[n("b71e").default],__init__:["customElementsPropertiesActivator","elementTemplatesLoader"],customElementsPropertiesActivator:["type",n("7602")],elementTemplates:["type",n("6552")],elementTemplatesLoader:["type",n("cab0")]}},"299c":function(e,t,n){"use strict";var r=n("5eaa"),i=n("1108");e.exports=function(e,t,n,a){var s=n.getImplementationType,o=n.getBusinessObject;function l(e){return"external"===s(e)}var u=r.textField({id:"externalTopic",label:a("Topic"),modelProperty:"externalTopic",get:function(e,t){var n=o(e);return{externalTopic:n.get("flowable:topic")}},set:function(e,t,n){var r=o(e);return i.updateBusinessObject(e,r,{"flowable:topic":t.externalTopic})},validate:function(e,t,n){return l(e)&&!t.externalTopic?{externalTopic:a("Must provide a value")}:{}},hidden:function(e,t){return!l(e)}});return[u]}},"2f32":function(e,t,n){"use strict";var r=n("a833"),i=function(e,t){var n=e.modelProperty;t.get=function(t,r){var i=this.__lastInvalidValue;delete this.__lastInvalidValue;var a={};return a[n]=void 0!==i?i:e.getProperty(t,r),a},t.set=function(t,r,a){var s=i.apply(this,[t,r,a]),o=r[n];if(s&&s[n])return this.__lastInvalidValue=o,e.setProperty(t,{},a);var l={};return l[n]=o,e.setProperty(t,l,a)};var i=t.validate=function(t,r,i){var a=r[n]||this.__lastInvalidValue,s={};return s[n]=a,e.validate(t,s,i)};return r(e,t)};e.exports=i},"314a":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("5eaa"),a=n("25f2"),s=n("7a6b").getBusinessObject,o=n("ae41"),l=n("922e");e.exports=function(e,t,n,u){var c=s(t),p=u&&u.processIdDescription;if((r(t,"bpmn:Process")||r(t,"bpmn:Participant")&&c.get("processRef"))&&r(t,"bpmn:Participant")){var d=i.validationAwareTextField({id:"process-id",label:n("Process Id"),description:p&&n(p),modelProperty:"processId"});d.get=function(e){var t=a.getProcessBusinessObject(e,"id");return{processId:t.id}},d.set=function(e,t){return a.modifyProcessBusinessObject(e,"id",{id:t.processId})},d.validate=function(e,t){var r=t.processId,i=s(e),a=l.isIdValid(i.processRef,r,n);return a?{processId:a}:{}},e.entries.push(d);var m=o(t,{id:"process-name",label:n("Process Name")})[0];m.get=function(e){return a.getProcessBusinessObject(e,"name")},m.set=function(e,t){return a.modifyProcessBusinessObject(e,"name",t)},e.entries.push(m)}}},3238:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("99af"),n("a623"),n("c975"),n("d81d");var r=n("922e").escapeHTML,i=n("1108"),a=n("e506").query,s=n("e506").attr,o=n("e506").closest,l=n("9380"),u=n("6cd4"),c=n("ec69"),p=n("e506").domify,d=n("672b"),m=n("7d17"),f='<div class="bpp-field-wrapper bpp-table-row">',b='<button class="clear" data-action="deleteElement"><span>X</span></button>';function v(e,t){var n=f;return n+=h(e,t),n+=t?b:"",n+="</div>",n}function h(e,t){var n=e.length,i="";return u(e,(function(e){i+='<input class="bpp-table-row-columns-'+n+" "+(t?"bpp-table-row-removable":"")+'" id="flowable-table-row-cell-input-value" type="text" name="'+r(e)+'" />'})),i}function g(e){var t=f;return t+=y(e),t+="</div>",t}function y(e){var t=e.length,n="";return u(e,(function(e){n+='<label class="bpp-table-row-columns-'+t+'">'+r(e)+"</label>"})),n}function E(e,t){return(e||[]).map((function(e){var n={};return u(t,(function(t){n[t]=e[t]||""})),n}))}function x(e,t,n,r,i){return l(n,(function(n,a){return!w(e,t,n,r[a],i,a)}))}function w(e,t,n,r,i,a){if(n&&!r)return!1;var s=c(n).concat(c(r));return s.every((function(s){var o=n[s]||void 0,l=r[s]||void 0;return!i(e,t,s,a)||o===l}))}function T(e){return o(e,"[data-entry]",!0)}function S(e){return a("div[data-list-entry-container]",e)}function C(e){return{start:e.selectionStart,end:e.selectionEnd}}function P(e,t){e.selectionStart=t.start,e.selectionEnd=t.end}e.exports=function(e){var t=e.id,n=e.modelProperties,a=e.labels,l=e.description,c=g(a),f=e.getElements,b=e.removeElement,h="function"===typeof b,y=e.addElement,w="function"===typeof y,k=e.addLabel||"Add Value",O=e.updateElement,B="function"===typeof O,_=e.editable||function(){return!0},j=e.setControlValue,D=e.show,I="function"===typeof D,L=function(e,t){return E(f(e,t),n)},A={id:t,html:(w?'<div class="bpp-table-add-row" '+(I?'data-show="show"':"")+"><label>"+r(k)+'</label><button class="add" data-action="addElement"><span>+</span></button></div>':"")+'<div class="bpp-table" data-show="showTable"><div class="bpp-field-wrapper bpp-table-row">'+c+"</div><div data-list-entry-container></div></div>"+(l?d(l):""),get:function(e,t){var r=L(e,t,this.__invalidValues),i=this.__invalidValues;return delete this.__invalidValues,u(i,(function(e,t){var i=r[t];u(n,(function(t){i[t]=e[t]}))})),r},set:function(t,n,r){var a=this.__action||{};if(delete this.__action,"delete-element"===a.id)return b(t,r,a.idx);if("add-element"===a.id)return y(t,r);if(B){var s=[],o=n;"function"!==typeof e.validate&&(o=x(t,r,n,L(t,r),_));var l=this;return u(o,(function(a){var o,u=n.indexOf(a);if("function"===typeof e.validate&&(o=e.validate(t,a,r,u)),o)l.__invalidValues=l.__invalidValues||{},l.__invalidValues[u]=a,s.push(i.updateProperties(t,{}));else{var c=O(t,a,r,u);c&&s.push(c)}})),s}},createListEntryTemplate:function(e,t,r){return v(n,h)},addElement:function(e,t,r,i){var a=p(v(n,h)),s=S(t);return s.appendChild(a),this.__action={id:"add-element"},!0},deleteElement:function(e,t,n,r){var i=S(t),a=n.delegateTarget.parentNode,o=parseInt(s(a,"data-index"),10);return i.removeChild(a),this.__action={id:"delete-element",idx:o},!0},editable:function(e,t,n,r,i,a){var s=o(t,"[data-entry]");return _(e,s,r,a)},show:function(e,t,n,r){return t=T(t),D(e,t,n,r)},showTable:function(e,t,n,r){t=T(t);var i=L(e,t);return i&&i.length&&(!I||D(e,t,n,r))},validateListItem:function(t,n,r,i){if("function"===typeof e.validate)return e.validate(t,n,r,i)}};return j&&(A.setControlValue=function(e,t,n,r,i,a){var o,l=T(t),u=s(n,"readonly"),c=n.value;void 0===i&&(i=""),u&&c===i||(document.activeElement===n&&(o=m(C(n),c,i)),j(e,l,n,r,i,a),o&&P(n,o))}),A}},"34e2":function(e){e.exports=JSON.parse('{"name":"Flowable","uri":"http://flowable.org/bpmn","prefix":"flowable","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","flowable:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"flowable:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"fromflow","isAttr":true,"type":"String"},{"name":"flowKey","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Assignable2","extends":["bpmn:SequenceFlow"],"properties":[{"name":"assignee","isAttr":true,"type":"String"},{"name":"candidateUsers","isAttr":true,"type":"String"},{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"userType","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"},{"name":"color","isAttr":true,"type":"String"},{"name":"branch","isAttr":true,"type":"String"},{"name":"condition","isAttr":true,"type":"String"},{"name":"condiInput","isAttr":true,"type":"String"},{"name":"branchNameSelect","isAttr":true,"type":"String"},{"name":"arrayData","isAttr":true,"type":"String"}]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"assignee","isAttr":true,"type":"String"},{"name":"customOne","isAttr":true,"type":"String"},{"name":"customTwo","isAttr":true,"type":"String"},{"name":"nouser","isAttr":true,"type":"String"},{"name":"candidateUsers","isAttr":true,"type":"String"},{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"userType","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"},{"name":"color","isAttr":true,"type":"String"},{"name":"branch","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"customOne","isAttr":true,"type":"String"},{"name":"customTwo","isAttr":true,"type":"String"},{"name":"inheritVariables","isAttr":true,"type":"String"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["flowable:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","flowable:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true},{"name":"nouser","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","flowable:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike","flowable:ExecutionListener","flowable:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","type":"String"},{"name":"stringValue","isAttr":true,"type":"String"},{"name":"string","type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["flowable:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["flowable:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"Button","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"code","type":"String","isAttr":true},{"name":"formKey","type":"String","isAttr":true},{"name":"checkedAlls","type":"String","isAttr":true},{"name":"isHide","type":"String","isAttr":true},{"name":"next","type":"String","isAttr":true},{"name":"sort","type":"String","isAttr":true}]},{"name":"NoUser","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"code","type":"String","isAttr":true},{"name":"formKey","type":"String","isAttr":true},{"name":"checkedAlls","type":"String","isAttr":true},{"name":"isHide","type":"String","isAttr":true},{"name":"next","type":"String","isAttr":true},{"name":"sort","type":"String","isAttr":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true},{"name":"nouser","type":"Nouser","isMany":true}]},{"name":"FormData","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"fields","type":"FormField","isMany":true},{"name":"businessKey","type":"String","isAttr":true}]},{"name":"FormField","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true},{"name":"nouser","type":"Nouser","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvent","isAttr":true,"type":"String"}]}],"emumerations":[]}')},"361f":function(e,t,n){"use strict";var r=function(e){return{id:e.id,html:'<label data-value="label" data-show="showLabel" class="entry-label'+(e.divider?" divider":"")+'"></label>',get:function(t,n){return"function"===typeof e.get?e.get(t,n):{label:e.labelText}},showLabel:function(t,n){return"function"!==typeof e.showLabel||e.showLabel(t,n)}}};e.exports=r},3624:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("145d").isAny,a=n("7a6b").getBusinessObject,s=n("9380"),o=n("e470"),l=n("1108"),u=n("c8f6"),c=n("7dc1"),p=n("634a"),d=n("5eaa");function m(e,t){var n=a(e),r=c.getSignalEventDefinition(n);return o.getExtensionElements(r||n,t)||[]}function f(e,t){var n=m(e,t);return s(n,(function(e){return!e.businessKey}))}function b(e){var t="source";return"all"===e.variables?t="variables":"undefined"!==typeof e.source?t="source":"undefined"!==typeof e.sourceExpression&&(t="sourceExpression"),t}var v="flowable:In",h="flowable:Out",g=/\s/;e.exports=function(e,t,n,s){var m=[{name:s("Source"),value:"source"},{name:s("Source Expression"),value:"sourceExpression"},{name:s("All"),value:"variables"}],y=c.getSignalEventDefinition(t);if((r(t,"flowable:CallActivity")||y)&&(!y||i(t,["bpmn:IntermediateThrowEvent","bpmn:EndEvent"]))){var E=function(e,t){return!!x(e,t)},x=function(e,t){var n=t.parentNode,r=C.getSelected(e,n),i=f(e,v)[r.idx];return!i&&P&&(r=P.getSelected(e,n),i=f(e,h)[r.idx]),i},w=function(e){return function(t,n,r,i,a,s){var o=f(t,e),l=o[s],u=(l.target||"<undefined>")+" := ",c=b(l);"variables"===c?u="all":u+="source"===c?l.source||"<empty>":"sourceExpression"===c&&l.sourceExpression||"<empty>",r.text=u}},T=function(e){return function(t,r,i){var a=u.createElement(e,{source:""},r,n);return l.addElementsTolist(t,r,"values",[a])}},S=function(e){return function(t,n,r,i){var s=f(t,e),l=s[i];if(l)return o.removeEntry(y||a(t),t,l)}},C=p(t,n,{id:"variableMapping-in",label:s("In Mapping"),modelProperty:"source",prefix:"In",idGeneration:!1,resizable:!0,businessObject:y||a(t),createExtensionElement:T(v),removeExtensionElement:S(v),getExtensionElements:function(e){return f(e,v)},onSelectionChange:function(e,t,n,r){P&&P.deselect(e,t.parentNode)},setOptionLabelValue:w(v)});if(e.entries.push(C),!y){var P=p(t,n,{id:"variableMapping-out",label:s("Out Mapping"),modelProperty:"source",prefix:"Out",idGeneration:!1,resizable:!0,createExtensionElement:T(h),removeExtensionElement:S(h),getExtensionElements:function(e){return f(e,h)},onSelectionChange:function(e,t,n,r){C.deselect(e,t.parentNode)},setOptionLabelValue:w(h)});e.entries.push(P)}e.entries.push(d.label({id:"variableMapping-typeLabel",get:function(e,t){var n=x(e,t),i="";return r(n,v)?i=s("In Mapping"):r(n,h)&&(i=s("Out Mapping")),{label:i}},showLabel:function(e,t){return E(e,t)}})),e.entries.push(d.selectBox({id:"variableMapping-inOutType",label:s("Type"),selectOptions:m,modelProperty:"inOutType",get:function(e,t){var n=x(e,t)||{};return{inOutType:b(n)}},set:function(e,t,n){var r=t.inOutType,i={source:void 0,sourceExpression:void 0,variables:void 0};"source"===r?i.source="":"sourceExpression"===r?i.sourceExpression="":"variables"===r&&(i.variables="all",i.target=void 0);var a=x(e,n);return l.updateBusinessObject(e,a,i)},hidden:function(e,t){return!E(e,t)}})),e.entries.push(d.textField({id:"variableMapping-source",dataValueLabel:"sourceLabel",modelProperty:"source",get:function(e,t){var n=x(e,t)||{},r="",i=b(n);return"source"===i?r=s("Source"):"sourceExpression"===i&&(r=s("Source Expression")),{source:n[i],sourceLabel:r}},set:function(e,t,n){t.source=t.source||void 0;var r=x(e,n),i=b(r),a={};return a[i]=t.source||"",l.updateBusinessObject(e,r,a)},validate:function(e,t,n){var r=x(e,n),i={};if(r){t.source||(i.source=i.source=t.sourceLabel?s("Mapping must have a {value}",{value:t.sourceLabel.toLowerCase()}):s("Mapping must have a value"));var a=b(r);g.test(t.source)&&"sourceExpression"!==a&&(i.source=s("{label} must not contain whitespace",{label:t.sourceLabel}))}return i},hidden:function(e,t){var n=x(e,t);return!n||n&&n.variables}})),e.entries.push(d.textField({id:"variableMapping-target",label:s("Target"),modelProperty:"target",get:function(e,t){return{target:(x(e,t)||{}).target}},set:function(e,t,n){t.target=t.target||void 0;var r=x(e,n);return l.updateBusinessObject(e,r,t)},validate:function(e,t,n){var r=x(e,n),i={};if(r){var a=b(r);t.target||"variables"===a||(i.target=s("Mapping must have a target")),t.target&&g.test(t.target)&&"variables"!==a&&(i.target=s("Target must not contain whitespace"))}return i},hidden:function(e,t){var n=x(e,t);return!n||n&&n.variables}})),e.entries.push(d.checkbox({id:"variableMapping-local",label:s("Local"),modelProperty:"local",get:function(e,t){return{local:(x(e,t)||{}).local}},set:function(e,t,n){t.local=t.local||!1;var r=x(e,n);return l.updateBusinessObject(e,r,t)},hidden:function(e,t){return!E(e,t)}}))}}},3633:function(e,t,n){"use strict";var r=n("1540"),i=n.n(r);i.a},3676:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("dd28"),i=n("ef82");e.exports=function(e,t,n,a,s){e.entries=e.entries.concat(r(t,a,n,{label:s("Error"),elementName:"error",elementType:"bpmn:Error",referenceProperty:"errorRef",newElementIdPrefix:"Error_"})),e.entries=e.entries.concat(i(t,a,n,{id:"error-element-name",label:s("Error Name"),referenceProperty:"errorRef",modelProperty:"name",shouldValidate:!0})),e.entries=e.entries.concat(i(t,a,n,{id:"error-element-code",label:s("Error Code"),referenceProperty:"errorRef",modelProperty:"errorCode"}))}},"37c9":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("5eaa"),s=n("4e5b"),o=n("1108"),l=n("991b"),u=n("dce5");function c(e){var t=r(e),n=t.get("calledElement"),i=t.get("flowable:caseRef"),a="";return"undefined"!==typeof n?a="bpmn":"undefined"!==typeof i&&(a="cmmn"),a}var p={calledElement:void 0,"flowable:calledElementBinding":"latest","flowable:calledElementVersion":void 0,"flowable:calledElementTenantId":void 0,"flowable:variableMappingClass":void 0,"flowable:variableMappingDelegateExpression":void 0,"flowable:caseRef":void 0,"flowable:caseBinding":"latest","flowable:caseVersion":void 0,"flowable:caseTenantId":void 0};e.exports=function(e,t,n,r){i(t,"flowable:CallActivity")&&(e.entries.push(a.selectBox({id:"callActivity",label:r("CallActivity Type"),selectOptions:[{name:"BPMN",value:"bpmn"},{name:"CMMN",value:"cmmn"}],emptyParameter:!0,modelProperty:"callActivityType",get:function(e,t){return{callActivityType:c(e)}},set:function(e,t,n){var r=t.callActivityType,i=u({},p);return"bpmn"===r?i.calledElement="":"cmmn"===r&&(i["flowable:caseRef"]=""),o.updateProperties(e,i)}})),e.entries.push(s(t,n,{getCallableType:c},r)),e.entries=l(e.entries))}},3805:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("b0c0");var r=n("922e").escapeHTML,i=n("e506").query,a=n("672b"),s=function(e,t){var n=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return r.value="",!0},s=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return""!==r.value},o=t,l=e.label||o.id,u=e.dataValueLabel,c=e.buttonLabel||"X",p="undefined"!==typeof e.buttonAction?e.buttonAction.name:"clear",d="undefined"!==typeof e.buttonAction?e.buttonAction.method:n,m="undefined"!==typeof e.buttonShow?e.buttonShow.name:"canClear",f="undefined"!==typeof e.buttonShow?e.buttonShow.method:s,b=!!e.disabled&&"function"===typeof e.disabled,v=!!e.hidden&&"function"===typeof e.hidden,h=e.description;return o.html='<label for="flowable-'+r(o.id)+'" '+(b?'data-disable="isDisabled" ':"")+(v?'data-show="isHidden" ':"")+(u?'data-value="'+r(u)+'"':"")+">"+r(l)+'</label><div class="bpp-field-wrapper" '+(b?'data-disable="isDisabled"':"")+(v?'data-show="isHidden"':"")+'><input id="flowable-'+r(o.id)+'" type="text" name="'+r(e.modelProperty)+'" '+(b?'data-disable="isDisabled"':"")+(v?'data-show="isHidden"':"")+' /><button class="'+r(p)+'" data-action="'+r(p)+'" data-show="'+r(m)+'" '+(b?'data-disable="isDisabled"':"")+(v?' data-show="isHidden"':"")+"><span>"+r(c)+'</span></button><button class="add" data-action="selectUser"  data-show="'+r(m)+'" '+(b?'data-disable="isDisabled"':"")+(v?' data-show="isHidden"':"")+"><span>+</span></button></div>",h&&(o.html+=a(h)),o[p]=d,o[m]=f,b&&(o.isDisabled=function(){return e.disabled.apply(o,arguments)}),v&&(o.isHidden=function(){return!e.hidden.apply(o,arguments)}),o.cssClasses=["bpp-textfield"],o};e.exports=s},"3c4c":function(e,t,n){"use strict";n("99af"),n("c975");var r=n("6cd4");function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function a(e,t){if(!e)throw new Error(t+"required");return e}i.$inject=["elementRegistry","bpmnFactory"],e.exports=i,i.prototype.execute=function(e){var t,n=a(e.currentObject,"currentObject"),i=a(e.propertyName,"propertyName"),s=e.updatedObjectList,o=e.objectsToRemove||[],l=e.objectsToAdd||[],u=[e.element];e.referencePropertyName&&(t=e.referencePropertyName);var c=n[i];if(e.previousList=n[i],s)n[i]=s;else{var p=[];if(r(c,(function(e){-1==o.indexOf(e)&&p.push(e)})),p=p.concat(l),p.length>0||!t)n[i]=p;else if(t){var d=n.$parent;d.set(t,void 0)}}return e.changed=u,u},i.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,r=e.previousList,i=t.$parent;return e.referencePropertyName&&i.set(e.referencePropertyName,t),t.set(n,r),e.changed}},"3cba":function(e,t,n){},"3f15":function(e,t,n){"use strict";var r=n("7a6b").is,i=n("145d").isAny,a=n("7a6b").getBusinessObject,s=n("7dc1"),o=n("6cd4"),l=n("1037"),u=n("9c32"),c=n("3676"),p=n("dc10"),d=n("b696"),m=n("8b9e"),f=n("0f7f");e.exports=function(e,t,n,b,v){var h=["bpmn:StartEvent","bpmn:EndEvent","bpmn:IntermediateThrowEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"];o(h,(function(i){if(r(t,i)){var a=s.getMessageEventDefinition(t),o=s.getSignalEventDefinition(t);a&&l(e,t,n,a,v),o&&u(e,t,n,o,v)}})),r(t,"bpmn:ReceiveTask")&&l(e,t,n,a(t),v);var g=["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:EndEvent"];o(g,(function(i){if(r(t,i)){var a=s.getErrorEventDefinition(t);a&&c(e,t,n,a,v)}}));var y=["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent"];o(y,(function(i){if(r(t,i)){var a=r(t,"bpmn:StartEvent")||r(t,"bpmn:BoundaryEvent"),o=s.getEscalationEventDefinition(t);o&&p(e,t,n,o,a,v)}}));var E=["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateCatchEvent"];o(E,(function(i){if(r(t,i)){var a=s.getTimerEventDefinition(t);a&&d(e,t,n,a,v)}}));var x=["bpmn:EndEvent","bpmn:IntermediateThrowEvent"];o(x,(function(i){if(r(t,i)){var a=s.getCompensateEventDefinition(t);a&&m(e,t,n,a,b,v)}}));var w=["bpmn:StartEvent","bpmn:BoundaryEvent","bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"];if(i(t,w)){var T=s.getConditionalEventDefinition(t);T&&f(e,t,n,T,b,v)}}},4064:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("1108"),a=n("7a6b").is,s=n("7a6b").getBusinessObject;e.exports=function(e,t,n){var o=s(t);if(o&&(a(t,"bpmn:Process")||a(t,"bpmn:Participant")&&o.get("processRef"))){var l=r.textField({id:"versionTag",label:n("Version Tag"),modelProperty:"versionTag"});a(t,"bpmn:Participant")&&(l.get=function(e){var t=o.get("processRef");return{versionTag:t.get("flowable:versionTag")}},l.set=function(e,t){var n=o.get("processRef");return i.updateBusinessObject(e,n,{"flowable:versionTag":t.versionTag||void 0})}),e.entries.push(l)}}},"418b":function(e,t,n){"use strict";n("4160"),n("159b");var r=n("3fb5"),i=n("0693"),a=n("27de"),s=n("ba77"),o=n("7a6b").is,l=n("314a"),u=n("3f15"),c=n("dee8"),p=n("a134"),d=n("b0d9"),m=n("2587"),f=n("f9f7"),b=n("18aa"),v=n("f3d8"),h=n("a76b"),g=n("37c9"),y=n("d712"),E=n("f221"),x=n("c6e1"),w=n("02f8"),T=n("4880"),S=n("99bb"),C=n("3624"),P=n("4064"),k=n("f274"),O=n("999c"),B=n("dd97"),_=n("a333"),j=n("9bcf"),D=n("441a"),I=n("70aa"),L=n("8319"),A=n("a7a2"),F=n("e5b2"),M=n("7da0"),V=n("a6da"),R=n("6af2"),N=n("aaec"),$=n("c7fd"),U=n("c144"),K=n("f6da"),q=n("6d8d"),G=n("7a6b").getBusinessObject,H=n("7dc1"),z=n("ba77"),X=function(e){var t=G(e);if(o(e,"bpmn:Process")||o(e,"bpmn:Participant")&&t.get("processRef"))return!0;var n=s.getServiceTaskLikeBusinessObject(e),r="external"===s.getImplementationType(n);return!!s.isExternalCapable(n)&&r},J=function(e){var t=G(e);if(o(e,"bpmn:Process")||o(e,"bpmn:Participant")&&t.get("processRef"))return!0;var n=G(e);return!(!a.isAsyncBefore(n)&&!a.isAsyncAfter(n))||!!o(e,"bpmn:Event")&&!!H.getTimerEventDefinition(e)},W=function(e,t){return o(e,"flowable:InputParameter")?t("Input Parameter"):o(e,"flowable:OutputParameter")?t("Output Parameter"):""},Q=function(e,t){return o(e,"flowable:ExecutionListener")?t("Execution Listener"):o(e,"flowable:TaskListener")?t("Task Listener"):""},Y="This maps to the process definition key.",Z="This maps to the task definition key.";function ee(e,t,n,r,i,a){e=e.labelTarget||e;var s,T,C={id:"general",label:a("General"),entries:[]};o(e,"bpmn:Process")&&(s={description:Y}),o(e,"bpmn:UserTask")&&(s={description:Z}),o(e,"bpmn:Participant")&&(T={processIdDescription:Y}),d(C,e,a,s),m(C,e,n,t,a),l(C,e,a,T),P(C,e,a),f(C,e,a),_(C,e,i,a);var k=j(e,i,n,a),O={id:"details",label:a("Details"),entries:[]};b(O,e,n,a),v(O,e,a),x(O,e,n,a),c(O,e,a),g(O,e,n,a),u(O,e,n,r,a),w(O,e,n,a),E(O,e,n,a),S(O,e,a);var B={id:"multiInstance",label:a("Multi Instance"),entries:[]};y(B,e,n,a);var D={id:"async",label:a("Asynchronous Continuations"),entries:[]};h(D,e,n,a);var I={id:"jobConfiguration",label:a("Job Configuration"),entries:[],enabled:J};R(I,e,n,a);var L={id:"externalTaskConfiguration",label:a("External Task Configuration"),entries:[],enabled:X};K(L,e,n,a);var A={id:"candidateStarterConfiguration",label:a("Candidate Starter Configuration"),entries:[]};$(A,e,n,a);var F={id:"historyConfiguration",label:a("History Configuration"),entries:[]};N(F,e,n,a);var M={id:"tasklist",label:a("Tasklist Configuration"),entries:[]};U(M,e,n,a);var V={id:"documentation",label:a("Documentation"),entries:[]};p(V,e,n,a);var q=[];return q.push(C),k.forEach((function(e){q.push(e)})),q.push(O),q.push(L),q.push(B),q.push(D),q.push(I),q.push(A),q.push(F),q.push(M),q.push(V),q}function te(e,t,n,r){var i={id:"variables",label:r("Variables"),entries:[]};return C(i,e,t,r),[i]}function ne(e,t,n,r){var i={id:"forms",label:r("Forms"),entries:[]};return T(i,e,t,r),[i]}function re(e,t,n,r){var i={id:"listeners",label:r("Listeners"),entries:[]},a=k(i,e,t,r),s={id:"listener-details",entries:[],enabled:function(e,t){return a.getSelectedListener(e,t)},label:function(e,t){var n=a.getSelectedListener(e,t);return Q(n,r)}};O(s,e,t,a,r);var o={id:"listener-fields",label:r("Field Injection"),entries:[],enabled:function(e,t){return a.getSelectedListener(e,t)}};return B(o,e,t,a,r),[i,s,o]}function ie(e,t,n,r){var i={id:"input-output",label:r("Parameters"),entries:[]},a=D(i,e,t,r),s={id:"input-output-parameter",entries:[],enabled:function(e,t){return a.getSelectedParameter(e,t)},label:function(e,t){var n=a.getSelectedParameter(e,t);return W(n,r)}};return I(s,e,t,a,r),[i,s]}function ae(e,t,n,r){var i={id:"connector-details",label:r("Details"),entries:[]};L(i,e,t,r);var a={id:"connector-input-output",label:r("Input/Output"),entries:[]},s=A(a,e,t,r),o={id:"connector-input-output-parameter",entries:[],enabled:function(e,t){return s.getSelectedParameter(e,t)},label:function(e,t){var n=s.getSelectedParameter(e,t);return W(n,r)}};return F(o,e,t,s,r),[i,a,o]}function se(e,t,n,r){var i={id:"field-injections-properties",label:r("Field Injections"),entries:[]};return q(i,e,t,r),[i]}function oe(e,t,n,r){var i={id:"extensionElements-properties",label:r("Properties"),entries:[]};return M(i,e,t,r),[i]}function le(e,t,n,r){var i={id:"buttons-properties",label:r("Buttons"),entries:[]};return V(i,e,t,r),[i]}function ue(e,t,n,r,a,s){i.call(this,e),this.getTabs=function(e){var i={id:"general",label:s("General"),groups:ee(e,t,n,r,a,s)},l={id:"variables",label:s("Variables"),groups:te(e,n,r,s)},u={id:"forms",label:s("Forms"),groups:ne(e,n,r,s)},c={id:"listeners",label:s("Listeners"),groups:re(e,n,r,s),enabled:function(e){return!H.getLinkEventDefinition(e)||!o(e,"bpmn:IntermediateThrowEvent")&&H.getLinkEventDefinition(e)}},p={id:"input-output",label:s("Input/Output"),groups:ie(e,n,r,s)},d={id:"button-tab",label:s("Buttons Settings"),groups:le(e,n,r,s)},m={id:"connector",label:s("Connector"),groups:ae(e,n,r,s),enabled:function(e){var t=z.getServiceTaskLikeBusinessObject(e);return t&&"connector"===z.getImplementationType(t)}},f={id:"field-injections",label:s("Field Injections"),groups:se(e,n,r,s)},b={id:"extensionElements",label:s("Extensions"),groups:oe(e,n,r,s)};return[i,l,m,u,c,p,d,f,b]}}ue.$inject=["eventBus","canvas","bpmnFactory","elementRegistry","elementTemplates","translate"],r(ue,i),e.exports=ue},"441a":function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("9366");e.exports=function(e,t,n,i){var a=r(t,n,{},i);return e.entries=e.entries.concat(a.entries),{getSelectedParameter:a.getSelectedParameter}}},4542:function(e,t,n){"use strict";n("a4d3"),n("e01a");var r=n("7a6b").getBusinessObject,i=n("1108"),a=n("922e").escapeHTML,s=n("672b"),o=function(e,t){var n=t,o=n.id,l=e.label||o,u=!!e.disabled&&"function"===typeof e.disabled,c=!!e.hidden&&"function"===typeof e.hidden,p=e.description;return n.html='<input id="flowable-'+a(o)+'" type="checkbox" name="'+a(e.modelProperty)+'" '+(u?'data-disable="isDisabled"':"")+(c?'data-show="isHidden"':"")+' /><label for="flowable-'+a(o)+'" '+(u?'data-disable="isDisabled"':"")+(c?'data-show="isHidden"':"")+">"+a(l)+"</label>",p&&(n.html+=s(p)),n.get=function(t){var n=r(t),i={};return i[e.modelProperty]=n.get(e.modelProperty),i},n.set=function(t,n){var r={};return r[e.modelProperty]=!!n[e.modelProperty],i.updateProperties(t,r)},"function"===typeof e.set&&(n.set=e.set),"function"===typeof e.get&&(n.get=e.get),u&&(n.isDisabled=function(){return e.disabled.apply(n,arguments)}),c&&(n.isHidden=function(){return!e.hidden.apply(n,arguments)}),n.cssClasses=["bpp-checkbox"],n};e.exports=o},4880:function(e,t,n){"use strict";n("b0c0"),n("d3b7"),n("498a"),n("ddb0");var r=n("7a6b").getBusinessObject,i=n("e470").getExtensionElements,a=n("e470").removeEntry,s=n("634a"),o=n("b9b5"),l=n("5eaa"),u=n("c8f6"),c=n("1108"),p=n("275c"),d=n("922e"),m=n("7a6b").is,f=n("2769"),b=n("6cd4");function v(){return d.nextId("Value_")}function h(e,t){var n=e.id,r=e.label,i=e.modelProperty,a=e.validate;return l.textField({id:n,label:r,modelProperty:i,get:function(e,n){var r=t(e,n)||{},a={};return a[i]=r[i],a},set:function(n,r,a){var s=[];if("function"===typeof e.set){var o=e.set(n,r,a);o&&s.push(o)}var l=t(n,a),u={};return u[i]=r[i]||void 0,s.push(c.updateBusinessObject(n,l,u)),s},hidden:function(e,n){return!t(e,n)},validate:a})}function g(e){return m(e,"bpmn:StartEvent")&&!m(e.parent,"bpmn:SubProcess")||m(e,"bpmn:UserTask")}e.exports=function(e,t,n,y){if(g(t)){e.entries.push(l.textField({id:"form-key",label:y("Form Key"),modelProperty:"formKey",get:function(e,t){var n=r(e);return{formKey:n.get("flowable:formKey")}},set:function(e,t,n){var i=r(e),a=t.formKey||void 0;return c.updateBusinessObject(e,i,{"flowable:formKey":a})}}));var E=s(t,n,{id:"form-fields",label:y("Form Fields"),modelProperty:"id",prefix:"FormField",createExtensionElement:function(e,t,i){var a=r(e),s=[];t||(t=u.createElement("bpmn:ExtensionElements",{values:[]},a,n),s.push(c.updateProperties(e,{extensionElements:t})));var o=p.getFormData(e);o||(o=u.createElement("flowable:FormData",{fields:[]},t,n),s.push(c.addAndRemoveElementsFromList(e,t,"values","extensionElements",[o],[])));var l=u.createElement("flowable:FormField",{id:i},o,n);return"undefined"!==typeof o.fields?s.push(c.addElementsTolist(e,o,"fields",[l])):s.push(c.updateBusinessObject(e,o,{fields:[l]})),s},removeExtensionElement:function(e,t,n,s){var o=i(r(e),"flowable:FormData")[0],l=o.fields[s],u=[];return o.fields.length<2?u.push(a(r(e),e,o)):(u.push(c.removeElementsFromList(e,o,"fields",null,[l])),l.id===o.get("businessKey")&&u.push(c.updateBusinessObject(e,o,{businessKey:void 0}))),u},getExtensionElements:function(e){return p.getFormFields(e)},hideExtensionElements:function(e,t){return!1}});e.entries.push(E);var x=l.selectBox({id:"form-business-key",label:y("Business Key"),modelProperty:"businessKey",selectOptions:function(e,t){var n=[{name:"",value:""}],r=p.getFormFields(e);return b(r,(function(e){"boolean"!==e.type&&n.push({name:e.id,value:e.id})})),n},get:function(e,t){var n={businessKey:""},a=r(e),s=i(a,"flowable:FormData");if(s){var o=s[0],l=o.get("businessKey");n={businessKey:l}}return n},set:function(e,t,n){var a=i(r(e),"flowable:FormData")[0];return c.updateBusinessObject(e,a,{businessKey:t.businessKey||void 0})},hidden:function(e,t){var n=m(e,"bpmn:StartEvent");return!(n&&p.getFormFields(e).length>0)}});e.entries.push(x),e.entries.push(l.label({id:"form-field-header",labelText:y("Form Field"),showLabel:function(e,t){return!!w(e,t)}})),e.entries.push(l.validationAwareTextField({id:"form-field-id",label:y("ID"),modelProperty:"id",getProperty:function(e,t){var n=w(e,t)||{};return n.id},setProperty:function(e,t,n){var r=w(e,n);return c.updateBusinessObject(e,r,t)},hidden:function(e,t){return!w(e,t)},validate:function(e,t,n){var r=w(e,n);if(r){var i=t.id;if(!i||""===i.trim())return{id:"Form field id must not be empty"};var a=p.getFormFields(e),s=f(a,(function(e){return e!==r&&e.id===i}));if(s)return{id:"Form field id already used in form data."}}}})),e.entries.push(l.comboBox({id:"form-field-type",label:y("Type"),selectOptions:[{name:"string",value:"string"},{name:"long",value:"long"},{name:"boolean",value:"boolean"},{name:"date",value:"date"},{name:"enum",value:"enum"}],modelProperty:"type",emptyParameter:!0,get:function(e,t){var n=w(e,t);return n?{type:n.type}:{}},set:function(e,t,n){var a=w(e,n),s=i(r(e),"flowable:FormData")[0],o=[];return"enum"===a.type&&"enum"!==t.type&&o.push(c.updateBusinessObject(e,a,{values:void 0})),"boolean"===t.type&&a.get("id")===s.get("businessKey")&&o.push(c.updateBusinessObject(e,s,{businessKey:void 0})),o.push(c.updateBusinessObject(e,a,t)),o},hidden:function(e,t){return!w(e,t)}})),e.entries.push(h({id:"form-field-label",label:y("Label"),modelProperty:"label"},w)),e.entries.push(h({id:"form-field-defaultValue",label:y("Default Value"),modelProperty:"defaultValue"},w)),e.entries.push(l.label({id:"form-field-enum-values-header",labelText:y("Values"),divider:!0,showLabel:function(e,t){var n=w(e,t);return n&&"enum"===n.type}})),e.entries.push(l.table({id:"form-field-enum-values",labels:[y("Id"),y("Name")],modelProperties:["id","name"],show:function(e,t){var n=w(e,t);return n&&"enum"===n.type},getElements:function(e,t){var n=w(e,t);return p.getEnumValues(n)},addElement:function(e,t){var i=w(e,t),a=v(),s=u.createElement("flowable:Value",{id:a,name:void 0},r(e),n);return c.addElementsTolist(e,i,"values",[s])},removeElement:function(e,t,n){var r=w(e,t),i=r.values[n];return c.removeElementsFromList(e,r,"values",null,[i])},updateElement:function(e,t,n,r){var i=w(e,n),a=i.values[r];return t.name=t.name||void 0,c.updateBusinessObject(e,a,t)},validate:function(e,t,n,r){var i=w(e,n),a=i.values[r];if(a){var s=d.isIdValid(a,t.id,y);if(s)return{id:s}}}})),e.entries.push(l.label({id:"form-field-validation-header",labelText:y("Validation"),divider:!0,showLabel:function(e,t){return!!w(e,t)}})),e.entries.push(l.table({id:"constraints-list",modelProperties:["name","config"],labels:[y("Name"),y("Config")],addLabel:y("Add Constraint"),getElements:function(e,t){var n=w(e,t);return p.getConstraints(n)},addElement:function(e,t){var i=[],a=w(e,t),s=a.validation;s||(s=u.createElement("flowable:Validation",{},r(e),n),i.push(c.updateBusinessObject(e,a,{validation:s})));var o=u.createElement("flowable:Constraint",{name:void 0,config:void 0},s,n);return i.push(c.addElementsTolist(e,s,"constraints",[o])),i},updateElement:function(e,t,n,r){var i=w(e,n),a=p.getConstraints(i)[r];return t.name=t.name||void 0,t.config=t.config||void 0,c.updateBusinessObject(e,a,t)},removeElement:function(e,t,n){var r=[],i=w(e,t),a=p.getConstraints(i),s=a[n];return r.push(c.removeElementsFromList(e,i.validation,"constraints",null,[s])),1===a.length&&r.push(c.updateBusinessObject(e,i,{validation:void 0})),r},show:function(e,t){return!!w(e,t)}})),e.entries.push(l.label({id:"form-field-properties-header",labelText:y("Properties"),divider:!0,showLabel:function(e,t){return!!w(e,t)}})),e.entries.push(o(t,n,{id:"form-field-properties",modelProperties:["id","value"],labels:[y("Id"),y("Value")],getParent:function(e,t){return w(e,t)},show:function(e,t){return!!w(e,t)}},y))}function w(e,t){var n=E.getSelected(e,t.parentNode);if(-1!==n.idx)return p.getFormField(e,n.idx)}}},4974:function(e,t,n){"use strict";n("a4d3"),n("e01a");var r=n("922e").escapeHTML,i=n("672b"),a=function(e,t){var n=t,a=e.label||n.id,s=!!e.show&&"function"===typeof e.show,o=e.description;return n.html='<label for="flowable-'+r(n.id)+'" '+(s?'data-show="isShown"':"")+">"+a+'</label><div class="bpp-field-wrapper" '+(s?'data-show="isShown"':"")+'><div contenteditable="true" id="flowable-'+r(n.id)+'" name="'+r(e.modelProperty)+'" /></div>',o&&(n.html+=i(o)),s&&(n.isShown=function(){return e.show.apply(n,arguments)}),n.cssClasses=["bpp-textbox"],n};e.exports=a},"4e5b":function(e,t,n){"use strict";n("99af"),n("4de4"),n("c975");var r=n("1108"),i=n("5eaa"),a=n("c8f6"),s=n("e470"),o=n("1572"),l=n("7a6b").getBusinessObject,u=n("7a6b").is,c=n("6cd4"),p={bpmn:{element:"calledElement",binding:"flowable:calledElementBinding",version:"flowable:calledElementVersion",versionTag:"flowable:calledElementVersionTag",tenantId:"flowable:calledElementTenantId"},cmmn:{element:"flowable:caseRef",binding:"flowable:caseBinding",version:"flowable:caseVersion",tenantId:"flowable:caseTenantId"},dmn:{element:"flowable:decisionRef",binding:"flowable:decisionRefBinding",version:"flowable:decisionRefVersion",versionTag:"flowable:decisionRefVersionTag",tenantId:"flowable:decisionRefTenantId"}},d=[{name:"singleEntry (TypedValue)",value:"singleEntry"},{name:"singleResult (Map<String, Object>)",value:"singleResult"},{name:"collectEntries (List<Object>)",value:"collectEntries"},{name:"resultList (List<Map<String, Object>>)",value:"resultList"}],m=[{name:"variableMappingClass",value:"variableMappingClass"},{name:"variableMappingDelegateExpression",value:"variableMappingDelegateExpression"}];function f(e){var t=[],n=l(e),r=s.getExtensionElements(n,"flowable:In");return r&&c(r,(function(e){void 0!==e.businessKey&&t.push(e)})),t}function b(e,t,n){var i=[],s=f(e);if(s.length)i.push(r.updateBusinessObject(e,s[0],{businessKey:t}));else{var o=l(e),u=o.extensionElements;u||(u=a.createElement("bpmn:ExtensionElements",{values:[]},o,n),i.push(r.updateProperties(e,{extensionElements:u})));var c=a.createElement("flowable:In",{businessKey:t},u,n);i.push(r.addAndRemoveElementsFromList(e,u,"values","extensionElements",[c],[]))}return i}function v(e){var t=f(e),n=[];return c(t,(function(t){n.push(s.removeEntry(l(e),e,t))})),n}function h(e){return-1!==["bpmn","cmmn","dmn"].indexOf(e)}e.exports=function(e,t,n,a){var s=[{name:a("latest"),value:"latest"},{name:a("deployment"),value:"deployment"},{name:a("version"),value:"version"},{name:a("versionTag"),value:"versionTag"}],c=n.getCallableType,g=[];function y(e,t){var n=c(e);return(p[n]||{})[t]}function E(e){var t=c(e),n=l(e),r=(p[t]||{}).binding;return n.get(r)}function x(e){var t=l(e),n=t.get("flowable:variableMappingClass"),r=t.get("flowable:variableMappingDelegateExpression"),i="";return"undefined"!==typeof n?i="variableMappingClass":"undefined"!==typeof r&&(i="variableMappingDelegateExpression"),i}return g.push(i.textField({id:"callable-element-ref",dataValueLabel:"callableElementLabel",modelProperty:"callableElementRef",get:function(e,t){var n,r=y(e,"element");if(r){var i=l(e);n=i.get(r)}var s="",o=c(e);return"bpmn"===o?s=a("Called Element"):"cmmn"===o?s=a("Case Ref"):"dmn"===o&&(s=a("Decision Ref")),{callableElementRef:n,callableElementLabel:s}},set:function(e,t,n){var i=t.callableElementRef,a=y(e,"element"),s={};return s[a]=i||"",r.updateProperties(e,s)},validate:function(e,t,n){var r=t.callableElementRef,i=c(e);return h(i)&&!r?{callableElementRef:a("Must provide a value")}:{}},hidden:function(e,t){return!h(c(e))}})),g.push(i.selectBox({id:"callable-binding",label:a("Binding"),selectOptions:function(e){var t,n=c(e);return t="cmmn"===n?s.filter((function(e){return"versionTag"!==e.value})):s,t},modelProperty:"callableBinding",get:function(e,t){var n,r=y(e,"binding");if(r){var i=l(e);n=i.get(r)||"latest"}return{callableBinding:n}},set:function(e,t,n){var i=t.callableBinding,a=y(e,"binding"),s=y(e,"version"),o=y(e,"versionTag"),l={};return l[a]=i,l[s]=void 0,l[o]=void 0,r.updateProperties(e,l)},hidden:function(e,t){return!h(c(e))}})),g.push(i.textField({id:"callable-version",label:a("Version"),modelProperty:"callableVersion",get:function(e,t){var n,r=y(e,"version");if(r){var i=l(e);n=i.get(r)}return{callableVersion:n}},set:function(e,t,n){var i=t.callableVersion,a=y(e,"version"),s={};return s[a]=i||void 0,r.updateProperties(e,s)},validate:function(e,t,n){var r=t.callableVersion,i=c(e);return h(i)&&"version"===E(e)&&(r?{}:{callableVersion:a("Must provide a value")})},hidden:function(e,t){var n=c(e);return!h(n)||"version"!==E(e)}})),g.push(i.textField({id:"callable-version-tag",label:a("Version Tag"),modelProperty:"versionTag",get:function(e,t){var n,r=y(e,"versionTag");if(r){var i=l(e);n=i.get(r)}return{versionTag:n}},set:function(e,t,n){var i=t.versionTag,a=y(e,"versionTag"),s={};return s[a]=i||void 0,r.updateProperties(e,s)},validate:function(e,t,n){var r=t.versionTag,i=c(e);return h(i)&&"versionTag"===E(e)&&(r?{}:{versionTag:a("Must provide a value")})},hidden:function(e,t){var n=c(e);return!h(n)||"versionTag"!==E(e)}})),g.push(i.textField({id:"tenant-id",label:a("Tenant Id"),modelProperty:"tenantId",get:function(e,t){var n,r=y(e,"tenantId");if(r){var i=l(e);n=i.get(r)}return{tenantId:n}},set:function(e,t,n){var i=t.tenantId,a=y(e,"tenantId"),s={};return s[a]=i||void 0,r.updateProperties(e,s)},hidden:function(e,t){var n=c(e);return!h(n)}})),u(l(e),"bpmn:CallActivity")&&g.push(i.checkbox({id:"callable-business-key",label:a("Business Key"),modelProperty:"callableBusinessKey",get:function(e,t){var n=f(e);return{callableBusinessKey:!!(n&&n.length>0)}},set:function(e,n,r){return n.callableBusinessKey?b(e,"#{execution.processBusinessKey}",t):v(e)}})),g.push(i.textField({id:"business-key-expression",label:a("Business Key Expression"),modelProperty:"businessKey",get:function(e,t){var n=f(e);return{businessKey:n.length?n[0].get("flowable:businessKey"):void 0}},set:function(e,n,r){var i=n.businessKey;return b(e,i,t)},validate:function(e,t,n){var r=t.businessKey;return""===r?{businessKey:a("Must provide a value")}:{}},hidden:function(e,t){return!f(e).length}})),g=g.concat(o(e,t,{id:"dmn-resultVariable",getBusinessObject:l,getImplementationType:c,hideResultVariable:function(e,t){return"dmn"!==c(e)}},a)),g.push(i.selectBox({id:"dmn-map-decision-result",label:a("Map Decision Result"),selectOptions:d,modelProperty:"mapDecisionResult",get:function(e,t){var n=l(e);return{mapDecisionResult:n.get("flowable:mapDecisionResult")||"resultList"}},set:function(e,t,n){return r.updateProperties(e,{"flowable:mapDecisionResult":t.mapDecisionResult||"resultList"})},hidden:function(e,t){var n=l(e),r=n.get("flowable:resultVariable");return!("dmn"===c(e)&&"undefined"!==typeof r)}})),g.push(i.selectBox({id:"delegateVariableMappingType",label:a("Delegate Variable Mapping"),selectOptions:m,emptyParameter:!0,modelProperty:"delegateVariableMappingType",get:function(e,t){return{delegateVariableMappingType:x(e)}},set:function(e,t,n){var i=t.delegateVariableMappingType,a={"flowable:variableMappingClass":void 0,"flowable:variableMappingDelegateExpression":void 0};return"variableMappingClass"===i?a["flowable:variableMappingClass"]="":"variableMappingDelegateExpression"===i&&(a["flowable:variableMappingDelegateExpression"]=""),r.updateProperties(e,a)},hidden:function(e,t){return"bpmn"!==c(e)}})),g.push(i.textField({id:"delegateVariableMapping",dataValueLabel:"delegateVariableMappingLabel",modelProperty:"delegateVariableMapping",get:function(e,t){var n=l(e),r="",i=void 0,s=x(e);return"variableMappingClass"===s?(r=a("Class"),i=n.get("flowable:variableMappingClass")):"variableMappingDelegateExpression"===s&&(r=a("Delegate Expression"),i=n.get("flowable:variableMappingDelegateExpression")),{delegateVariableMapping:i,delegateVariableMappingLabel:r}},set:function(e,t,n){var i=t.delegateVariableMapping,a="flowable:"+x(e),s={};return s[a]=i||void 0,r.updateProperties(e,s)},validate:function(e,t,n){var r=t.delegateVariableMapping;return"bpmn"===c(e)&&(r?{}:{delegateVariableMapping:a("Must provide a value")})},hidden:function(e,t){return!("bpmn"===c(e)&&""!==x(e))}})),g}},"4ea5":function(e,t,n){},"4f2a":function(e,t,n){"use strict";var r=n("3cba"),i=n.n(r);i.a},"4f31":function(e,t,n){"use strict";var r=n("7a6b").is,i=n("5eaa"),a=n("27de"),s=n("c8f6"),o=n("7dc1"),l=n("1108");function u(e){return a.isAsyncBefore(e)}function c(e){return a.isAsyncAfter(e)}function p(e){return a.getFailedJobRetryTimeCycle(e)}function d(e,t){return a.removeFailedJobRetryTimeCycle(e,t)}function m(e,t){return s.createElement("bpmn:ExtensionElements",{values:[]},e,t)}function f(e,t,n){return s.createElement("flowable:FailedJobRetryTimeCycle",{body:n},e,t)}e.exports=function(e,t,n,a){var s=n.getBusinessObject,b=n.idPrefix||"",v=n.labelPrefix||"",h=i.textField({id:b+"retryTimeCycle",label:v+a("Retry Time Cycle"),modelProperty:"cycle",get:function(e,t){var n=p(s(e)),r=n&&n.get("body");return{cycle:r}},set:function(e,n,r){var i=n.cycle,a=s(e);if(""===i||"undefined"===typeof i)return d(a,e);var o=p(a);if(!o){var u=[],c=a.get("extensionElements");return c||(c=m(a,t),u.push(l.updateBusinessObject(e,a,{extensionElements:c}))),o=f(c,t,i),u.push(l.addAndRemoveElementsFromList(e,c,"values","extensionElements",[o],[])),u}return l.updateBusinessObject(e,o,{body:i})},hidden:function(e){var t=s(e);return(!t||!u(t)&&!c(t))&&(!r(e,"bpmn:Event")||!o.getTimerEventDefinition(e))}});return[h]}},5657:function(e,t,n){"use strict";var r=n("5eaa"),i=n("1108");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.textField({id:"historyTimeToLive",label:a("History Time To Live"),modelProperty:"historyTimeToLive",get:function(e,t){var n=s(e),r=n.get("flowable:historyTimeToLive");return{historyTimeToLive:r||""}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:historyTimeToLive":t.historyTimeToLive||void 0})}});return[o]}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("flow-designer",{ref:"FlowDesigner",attrs:{"is-add":!0}})],1)},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flowdesigner"},[n("el-tabs",{staticClass:"custom-tabs",attrs:{type:"border-card"},on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"流程设计器",name:"1"}},[n("el-container",{staticClass:"wrap",attrs:{id:"wrap"}},[n("el-main",{ref:"canvas",staticClass:"canvas",attrs:{id:"canvas"}}),n("el-aside",{staticClass:"aside",attrs:{width:"400px"}},[e.bpmnModeler?n("panel",{attrs:{modeler:e.bpmnModeler,code:e.form.code,formKey:e.form.formKey,processDes:e.form.processDes,processKey:e.processKey},on:{"update:code":function(t){return e.$set(e.form,"code",t)},"update:formKey":function(t){return e.$set(e.form,"formKey",t)},"update:form-key":function(t){return e.$set(e.form,"formKey",t)},"update:processDes":function(t){return e.$set(e.form,"processDes",t)},"update:process-des":function(t){return e.$set(e.form,"processDes",t)}},model:{value:e.form.processName,callback:function(t){e.$set(e.form,"processName",t)},expression:"form.processName"}}):e._e()],1)],1)],1),n("el-tab-pane",{attrs:{label:"BPMN XML",name:"2"}},[n("codemirror",{staticClass:"wrap",attrs:{options:e.cmOptions},model:{value:e.bpmnXml,callback:function(t){e.bpmnXml=t},expression:"bpmnXml"}})],1)],1),"1"===e.activeName?n("div",{staticClass:"dialog-footers",attrs:{slot:"footer"},slot:"footer"},[n("el-button-group",[n("el-button",{directives:[{name:"tips",rawName:"v-tips",value:"导入本地BPMN",expression:"'导入本地BPMN'"}],on:{click:e.openFile}},[n("i",{staticClass:"icon-folder",attrs:{title:"导入本地BPMN"}}),n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.showRealPath}})]),n("el-button",{directives:[{name:"tips",rawName:"v-tips",value:"撤消",expression:"'撤消'"}],on:{click:function(t){return e.undo()}}},[n("i",{staticClass:"icon-undo",attrs:{title:"撤消"}})]),n("el-button",{directives:[{name:"tips",rawName:"v-tips",value:"恢复",expression:"'恢复'"}],on:{click:function(t){return e.redo()}}},[n("i",{staticClass:"icon-redo",attrs:{title:"恢复"}})]),n("el-button",{directives:[{name:"tips",rawName:"v-tips",value:"保存",expression:"'保存'"}],attrs:{loading:e.fullscreenLoading},on:{click:e.saveFlow}},[n("i",{staticClass:"icon-floppy-disk",attrs:{title:"保存"}})]),n("el-button",{directives:[{name:"tips",rawName:"v-tips",value:"发布",expression:"'发布'"}],attrs:{loading:e.issueLoading},on:{click:e.releaseFlow}},[n("i",{staticClass:"el-icon-s-promotion",attrs:{title:"发布"}})])],1)],1):e._e(),n("div",{staticClass:"basicInfo",attrs:{hidden:"hidden"}},[n("el-form",{attrs:{model:e.form,"label-width":"80px","label-position":"top"}},[n("el-form-item",{staticClass:"inputShow",attrs:{label:"表单",hidden:""}},[n("el-select",{key:"1",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.formKey,callback:function(t){e.$set(e.form,"formKey",t)},expression:"form.formKey"}},e._l(e.fromflow,(function(e){return n("el-option",{key:e.formKey,attrs:{label:e.formName,value:e.formKey}})})),1)],1),n("el-form-item",{staticClass:"inputShow",attrs:{label:"工单编号",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),n("el-form-item",{staticClass:"inputShow",attrs:{label:"流程名称",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.processName,callback:function(t){e.$set(e.form,"processName",t)},expression:"form.processName"}})],1),n("el-form-item",{staticClass:"inputShow",attrs:{label:"流程实例描述 ",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.processDes,callback:function(t){e.$set(e.form,"processDes",t)},expression:"form.processDes"}})],1),n("el-form-item",{attrs:{label:"id",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),n("el-form-item",{attrs:{label:"processDes",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.processDes,callback:function(t){e.$set(e.form,"processDes",t)},expression:"form.processDes"}})],1),n("el-form-item",{attrs:{label:"property",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.property,callback:function(t){e.$set(e.form,"property",t)},expression:"form.property"}})],1),n("el-form-item",{attrs:{label:"processGroup",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.processGroup,callback:function(t){e.$set(e.form,"processGroup",t)},expression:"form.processGroup"}})],1)],1)],1)],1)},o=[],l=(n("a4d3"),n("e01a"),n("99af"),n("b0c0"),n("d3b7"),n("ac1f"),n("3ca3"),n("841c"),n("1276"),n("ddb0"),n("2b3d"),n("7024")),u=n("3fb5"),c=n.n(u),p=(n("5319"),n("87f2"));function d(e,t,n,r,i,a,s,o){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=r,this._lassoTool=i,this._handTool=a,this._globalConnect=s,this._translate=o,e.registerProvider(this)}d.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],d.prototype.getPaletteEntries=function(e){var t={},n=this._create,r=this._elementFactory,i=this._spaceTool,a=this._lassoTool,s=this._handTool,o=this._globalConnect,l=this._translate;function u(e,t,i,a,s){function o(t){var i=r.createShape(Object(p["a"])({type:e},s));s&&(i.businessObject.di.isExpanded=s.isExpanded),n.start(t,i)}var u=e.replace(/^bpmn:/,"");return{group:t,className:i,title:a||l("Create {type}",{type:u}),action:{dragstart:o,click:o}}}function c(e){var t=r.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),i=r.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:t});n.start(e,[t,i],{hints:{autoSelect:[i]}})}function d(e){n.start(e,r.createParticipantShape())}return Object(p["a"])(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:l("Activate the hand tool"),action:{click:function(e){s.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:l("Activate the lasso tool"),action:{click:function(e){a.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:l("Activate the create/remove space tool"),action:{click:function(e){i.activateSelection(e)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:l("Activate the global connect tool"),action:{click:function(e){o.toggle(e)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":u("bpmn:StartEvent","event","bpmn-icon-start-event-none",l("Create StartEvent")),"create.intermediate-event":u("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",l("Create Intermediate/Boundary Event")),"create.end-event":u("bpmn:EndEvent","event","bpmn-icon-end-event-none",l("Create EndEvent")),"create.exclusive-gateway":u("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",l("Create Gateway")),"create.task":u("bpmn:Task","activity","bpmn-icon-task",l("Create Task")),"create.data-object":u("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",l("Create DataObjectReference")),"create.data-store":u("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",l("Create DataStoreReference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:l("Create expanded SubProcess"),action:{dragstart:c,click:c}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:l("Create Pool/Participant"),action:{dragstart:d,click:d}},"create.group":u("bpmn:Group","artifact","bpmn-icon-group",l("Create Group"))}),t};var m=n("7a6b"),f=n("dbc8"),b=n("145d"),v=n("cf0a"),h=n("78f9");function g(e,t,n,r,i,a,s,o,l,u,c,p){e=e||{},r.registerProvider(this),this._contextPad=r,this._modeling=i,this._elementFactory=a,this._connect=s,this._create=o,this._popupMenu=l,this._canvas=u,this._rules=c,this._translate=p,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){var t=e.context,n=t.shape;if(Object(h["a"])(e)&&r.isOpen(n)){var i=r.getEntries(n);i.replace&&i.replace.action.click(e,n)}}))}function y(e,t,n){var r=e.$instanceOf(t),i=!1,a=e.eventDefinitions||[];return Object(p["i"])(a,(function(e){e.$type===n&&(i=!0)})),r&&i}g.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate"],g.prototype.getContextPadEntries=function(e){var t=this._contextPad,n=this._modeling,r=this._elementFactory,i=this._connect,a=this._create,s=this._popupMenu,o=this._canvas,l=this._rules,u=this._autoPlace,c=this._translate,d={};if("label"===e.type)return d;var h=e.businessObject;function g(e,t){i.start(e,t)}function E(t){n.removeElements([e])}function x(e){var n=5,r=o.getContainer(),i=t.getPad(e).html,a=r.getBoundingClientRect(),s=i.getBoundingClientRect(),l=s.top-a.top,u=s.left-a.left,c={x:u,y:l+s.height+n};return c}function w(e,t,n,i){function s(t,n){var s=r.createShape(Object(p["a"])({type:e},i));a.start(t,s,{source:n})}"string"!==typeof n&&(i=n,n=c("Append {type}",{type:e.replace(/^bpmn:/,"")}));var o=u?function(t,n){var a=r.createShape(Object(p["a"])({type:e},i));u.append(n,a)}:s;return{group:"model",className:t,title:n,action:{dragstart:s,click:o}}}function T(e){return function(r,i){n.splitLane(i,e),t.open(i,!0)}}if(Object(b["isAny"])(h,["bpmn:Lane","bpmn:Participant"])&&Object(f["isExpanded"])(h)){var S=Object(v["d"])(e);Object(p["a"])(d,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:c("Add Lane above"),action:{click:function(e,t){n.addLane(t,"top")}}}}),S.length<2&&(e.height>=120&&Object(p["a"])(d,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:c("Divide into two Lanes"),action:{click:T(2)}}}),e.height>=180&&Object(p["a"])(d,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:c("Divide into three Lanes"),action:{click:T(3)}}})),Object(p["a"])(d,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:c("Add Lane below"),action:{click:function(e,t){n.addLane(t,"bottom")}}}})}Object(m["is"])(h,"bpmn:FlowNode")&&(Object(m["is"])(h,"bpmn:EventBasedGateway")?Object(p["a"])(d,{"append.receive-task":w("bpmn:ReceiveTask","bpmn-icon-receive-task"),"append.message-intermediate-event":w("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",c("Append MessageIntermediateCatchEvent"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":w("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",c("Append TimerIntermediateCatchEvent"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":w("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",c("Append ConditionIntermediateCatchEvent"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":w("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",c("Append SignalIntermediateCatchEvent"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):y(h,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Object(p["a"])(d,{"append.compensation-activity":w("bpmn:Task","bpmn-icon-task",c("Append compensation activity"),{isForCompensation:!0})}):Object(m["is"])(h,"bpmn:EndEvent")||h.isForCompensation||y(h,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Object(f["isEventSubProcess"])(h)||Object(p["a"])(d,{"append.end-event":w("bpmn:EndEvent","bpmn-icon-end-event-none",c("Append EndEvent")),"append.gateway":w("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",c("Append Gateway")),"append.user-task":w("bpmn:UserTask","bpmn-icon-user-task",c("Append UserTask"))})),s.isEmpty(e,"bpmn-replace")||Object(p["a"])(d,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:c("Change type"),action:{click:function(e,t){var n=Object(p["a"])(x(t),{cursor:{x:e.x,y:e.y}});s.open(t,"bpmn-replace",n)}}}}),Object(b["isAny"])(h,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(p["a"])(d,{"append.text-annotation":w("bpmn:TextAnnotation","bpmn-icon-text-annotation"),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:c("Connect using "+(h.isForCompensation?"":"Sequence/MessageFlow or ")+"Association"),action:{click:g,dragstart:g}}}),Object(b["isAny"])(h,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Object(p["a"])(d,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:c("Connect using DataInputAssociation"),action:{click:g,dragstart:g}}});var C=l.allowed("elements.delete",{elements:[e]});return Object(p["l"])(C)&&(C=C[0]===e),C&&Object(p["a"])(d,{delete:{group:"edit",className:"bpmn-icon-trash",title:c("Remove"),action:{click:E}}}),d};var E={__init__:["paletteProvider","contextPadProvider"],paletteProvider:["type",d],contextPadProvider:["type",g]};function x(e){l["a"].call(this,e),this._customElements=[]}c()(x,l["a"]),x.prototype._modules=[].concat(x.prototype._modules,[E]);var w={"Activate the global connect tool":"激活全局连接工具","Append {type}":"添加 {type}","Add Lane above":"在上面添加道","Divide into two Lanes":"分割成两个道","Divide into three Lanes":"分割成三个道","Add Lane below":"在下面添加道","Append compensation activity":"追加补偿活动","Change type":"修改类型","Connect using Association":"使用关联连接","Connect using Sequence/MessageFlow or Association":"使用顺序/消息流或者关联连接","Connect using DataInputAssociation":"使用数据输入关联连接",Remove:"移除","Activate the hand tool":"激活抓手工具","Activate the lasso tool":"激活套索工具","Activate the create/remove space tool":"激活创建/删除空间工具","Create expanded SubProcess":"创建扩展子过程","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出事件/边界事件","Create Pool/Participant":"创建池/参与者","Parallel Multi Instance":"并行多重事件","Sequential Multi Instance":"时序多重事件",DataObjectReference:"数据对象参考",DataStoreReference:"数据存储参考",Loop:"循环","Ad-hoc":"即席","Create {type}":"创建 {type}",Task:"任务","Send Task":"发送任务","Receive Task":"接收任务","User Task":"用户任务","Manual Task":"手工任务","Business Rule Task":"业务规则任务","Service Task":"服务任务","Script Task":"脚本任务","Call Activity":"调用活动","Sub Process (collapsed)":"子流程（折叠的）","Sub Process (expanded)":"子流程（展开的）","Start Event":"开始事件",StartEvent:"开始事件","Intermediate Throw Event":"中间事件","End Event":"结束事件",EndEvent:"结束事件","Create Gateway":"创建网关","Create Intermediate/Boundary Event":"创建中间/边界事件","Message Start Event":"消息开始事件","Timer Start Event":"定时开始事件","Conditional Start Event":"条件开始事件","Signal Start Event":"信号开始事件","Error Start Event":"错误开始事件","Escalation Start Event":"升级开始事件","Compensation Start Event":"补偿开始事件","Message Start Event (non-interrupting)":"消息开始事件（非中断）","Timer Start Event (non-interrupting)":"定时开始事件（非中断）","Conditional Start Event (non-interrupting)":"条件开始事件（非中断）","Signal Start Event (non-interrupting)":"信号开始事件（非中断）","Escalation Start Event (non-interrupting)":"升级开始事件（非中断）","Message Intermediate Catch Event":"消息中间捕获事件","Message Intermediate Throw Event":"消息中间抛出事件","Timer Intermediate Catch Event":"定时中间捕获事件","Escalation Intermediate Throw Event":"升级中间抛出事件","Conditional Intermediate Catch Event":"条件中间捕获事件","Link Intermediate Catch Event":"链接中间捕获事件","Link Intermediate Throw Event":"链接中间抛出事件","Compensation Intermediate Throw Event":"补偿中间抛出事件","Signal Intermediate Catch Event":"信号中间捕获事件","Signal Intermediate Throw Event":"信号中间抛出事件","Message End Event":"消息结束事件","Escalation End Event":"定时结束事件","Error End Event":"错误结束事件","Cancel End Event":"取消结束事件","Compensation End Event":"补偿结束事件","Signal End Event":"信号结束事件","Terminate End Event":"终止结束事件","Message Boundary Event":"消息边界事件","Message Boundary Event (non-interrupting)":"消息边界事件（非中断）","Timer Boundary Event":"定时边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件（非中断）","Escalation Boundary Event":"升级边界事件","Escalation Boundary Event (non-interrupting)":"升级边界事件（非中断）","Conditional Boundary Event":"条件边界事件","Conditional Boundary Event (non-interrupting)":"条件边界事件（非中断）","Error Boundary Event":"错误边界事件","Cancel Boundary Event":"取消边界事件","Signal Boundary Event":"信号边界事件","Signal Boundary Event (non-interrupting)":"信号边界事件（非中断）","Compensation Boundary Event":"补偿边界事件","Exclusive Gateway":"互斥网关","Parallel Gateway":"并行网关","Inclusive Gateway":"相容网关","Complex Gateway":"复杂网关","Event based Gateway":"事件网关",Transaction:"转运","Sub Process":"子流程","Event Sub Process":"事件子流程","Collapsed Pool":"折叠池","Expanded Pool":"展开池","no parent for {element} in {parent}":"在{parent}里，{element}没有父类","no shape type specified":"没有指定的形状类型","flow elements must be children of pools/participants":"流元素必须是池/参与者的子类","out of bounds release":"out of bounds release","more than {count} child lanes":"子道大于{count} ","element required":"元素不能为空","diagram not part of bpmn:Definitions":"流程图不符合bpmn规范","no diagram to display":"没有可展示的流程图","no process or collaboration to display":"没有可展示的流程/协作","element {element} referenced by {referenced}#{property} not yet drawn":"由{referenced}#{property}引用的{element}元素仍未绘制","already rendered {element}":"{element} 已被渲染","failed to import {element}":"导入{element}失败",Id:"编号",Name:"名称",General:"常规",Details:"详情","Message Name":"消息名称",Message:"消息",Initiator:"创建者","Asynchronous Continuations":"持续异步","Asynchronous Before":"异步前","Asynchronous After":"异步后","Job Configuration":"工作配置",Exclusive:"排除","Job Priority":"工作优先级","Retry Time Cycle":"重试时间周期",Documentation:"文档","Element Documentation":"元素文档","History Configuration":"历史配置","History Time To Live":"历史的生存时间",Forms:"表单","Form Key":"表单key","Form Fields":"表单字段","Business Key":"业务key","Form Field":"表单字段",ID:"编号",Type:"类型",Label:"名称","Default Value":"默认值",Validation:"校验","Add Constraint":"添加约束",Config:"配置",Properties:"属性","Add Property":"添加属性",Value:"值",Listeners:"监听器","Execution Listener":"执行监听","Event Type":"事件类型","Listener Type":"监听器类型","Java Class":"Java类",Expression:"表达式","Must provide a value":"必须提供一个值","Delegate Expression":"代理表达式",Script:"脚本","Script Format":"脚本格式","Script Type":"脚本类型","Inline Script":"内联脚本","External Script":"外部脚本",Resource:"资源","Field Injection":"字段注入",Extensions:"扩展","Input/Output":"输入/输出","Input Parameters":"输入参数","Output Parameters":"输出参数",Parameters:"参数","Output Parameter":"输出参数","Timer Definition Type":"定时器定义类型","Timer Definition":"定时器定义",Date:"日期",Duration:"持续",Cycle:"循环",Signal:"信号","Signal Name":"信号名称",Escalation:"升级",Error:"错误","Link Name":"链接名称",Condition:"条件名称","Variable Name":"变量名称","Variable Event":"变量事件","Specify more than one variable change event as a comma separated list.":"多个变量事件以逗号隔开","Wait for Completion":"等待完成","Activity Ref":"活动参考","Version Tag":"版本标签",Executable:"可执行文件","External Task Configuration":"扩展任务配置","Task Priority":"任务优先级",External:"外部",Connector:"连接器","Must configure Connector":"必须配置连接器","Connector Id":"连接器编号",Implementation:"实现方式","Field Injections":"字段注入",Fields:"字段","Result Variable":"结果变量",Topic:"主题","Configure Connector":"配置连接器","Input Parameter":"输入参数",Assignee:"代理人","Candidate Users":"候选用户","Candidate Groups":"候选组","Due Date":"到期时间","Follow Up Date":"跟踪日期","Specify more than one group as a comma separated list.":"多个用户使用逗号隔开",Priority:"优先级","The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00","The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00",Variables:"变量","Candidate Starter Users":"选择启动候选人","Candidate Starter Configuration":"候选人启动器配置","Candidate Starter Groups":"候选人启动组","This maps to the process definition key.":"编号将映射到流程主键.",save:"保存",Tools:"工具",FlowGateway:"流程网关",ProcessControl:"流程节点","Create StartEvent":"开始节点","Create EndEvent":"结束节点","Create ExclusiveGateway":"互斥网关","Create ParallelGateway":"并行网关","Create Task":"任务节点","Create UserTask":"用户任务节点","Condition Type":"条件类型","Create Group":"创建组","Create DataObjectReference":"创建数据对象引用","Create DataStoreReference":"创建数据存储引用","Append EndEvent":"追加结束事件节点","Append Gateway":"追加网关节点","Append UserTask":"追加用户任务节点","Append Intermediate/Boundary Event":"追加中间或边界事件","Append TextAnnotation":"追加文本批注"};function T(e,t){return t=t||{},e=w[e]||e,e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}var S=n("949b"),C=n.n(S),P=n("bc26"),k=n.n(P),O=n("34e2"),B=(n("21a6"),n("8f94")),_=n("d4ec"),j=n("bee2"),D=function(){function e(t,n,r,i,a){Object(_["a"])(this,e),this.bpmnFactory=t,this.create=n,this.elementFactory=r,this.translate=a,i.registerProvider(this)}return Object(j["a"])(e,[{key:"getPaletteEntries",value:function(e){var t=this.bpmnFactory,n=this.create,r=this.elementFactory,i=this.translate;function a(){return function(e){var i=t.create("bpmn:UserTask");i["custom"]=1,i["name"]="用户任务",i["assignee"]="";var a=r.createShape({type:"bpmn:UserTask",businessObject:i});n.start(e,a)}}function s(){return function(e){var i=t.create("bpmn:CallActivity");i["custom"]=1,i["name"]="引用子流程",i["inheritVariables"]=!0;var a=r.createShape({type:"bpmn:CallActivity",businessObject:i});n.start(e,a)}}function o(){return function(e){var i=t.create("bpmn:BoundaryEvent");i["custom"]=1,i["name"]="超时提醒";var a=r.createShape({type:"bpmn:TimerEventDefinition",businessObject:i});n.start(e,a)}}return{"create.lindaidai-task":{group:"gatewaysss",className:"bpmn-icon-user-task",title:i("用户任务节点"),action:{dragstart:a(),click:a()}},"create.lindaidai-callactivity":{group:"message",className:"bpmn-icon-call-activity",title:i("子流程"),action:{dragstart:s(),click:s()}},"create.lindaidai-startEvent":{group:"sadss",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",title:i("定时器 ( 非中断 )"),action:{dragstart:o(),click:o()}}}}}]),e}();D.$inject=["bpmnFactory","create","elementFactory","palette","translate"];var I={__init__:["customPalette"],customPalette:["type",D]},L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"propertyPanel",staticClass:"property-panel"},[n("el-collapse",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.rootElement?e._e():n("div",{staticClass:"maxhead"},[null!=e.form.name?n("h1",[e._v(e._s(e.form.name))]):e._e()]),e.rootElement?n("div",{staticClass:"maxhead"},[null!=e.form.name?n("h1",[e._v(e._s(e.parentName))]):e._e()]):e._e(),n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[n("span",{staticClass:"el_title"},[e._v(" 基本设置 "),n("i",{staticClass:"header-icon el-icon-info"})])]),e.isUserTask||e.isCallActivity?n("div",{staticStyle:{"text-align":"center","margin-bottom":"10px"}},[n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.openFormFieldLayer()}}},[e._v("表单属性设置")])],1):e._e(),n("el-dialog",{attrs:{title:"表单设置",visible:e.dialogVisible,width:"615px","before-close":e.closedDialog},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-tabs",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-tab-pane",{attrs:{label:"属性",name:"shuxing"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.properties,height:"250",border:""}},[n("el-table-column",{attrs:{prop:"name",label:"字段描述",width:"158",align:"center"}}),n("el-table-column",{attrs:{prop:"model",label:"字段名称",width:"158",align:"center"}}),n("el-table-column",{attrs:{prop:"readonly",label:"只读",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{checked:"true"===t.row.readonly},on:{change:function(n){return e.changeCheckbox(t)}}})]}}])}),n("el-table-column",{attrs:{prop:"required",label:"必填",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{checked:"true"===t.row.required},on:{change:function(n){return e.changeCheckbox(t)}}})]}}])}),n("el-table-column",{attrs:{prop:"processVariable",label:"流程变量",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{checked:"true"===t.row.processVariable},on:{change:function(n){return e.changeCheckbox(t)}}})]}}])})],1)],1),n("el-tab-pane",{attrs:{label:"布局设置",name:"buju"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.LayoutSettings,height:"250",border:""}},[n("el-table-column",{attrs:{prop:"name",label:"字段描述",width:"238",align:"center"}}),n("el-table-column",{attrs:{prop:"model",label:"字段名称",width:"238",align:"center"}}),n("el-table-column",{attrs:{prop:"hide",label:"隐藏",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{checked:"true"===t.row.hide},on:{change:function(n){return e.changeCheckbox(t)}}})]}}])})],1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancelForm}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmFormFieldLayer()}}},[e._v("保 存")])],1)],1),n("el-form",{attrs:{model:e.form,"label-width":"100px",size:"small"}},[e.rootElement?n("el-form-item",{attrs:{label:"流程key"}},[n("el-input",{staticClass:"el_input",attrs:{clearable:"",placeholder:"请输入key",disabled:!0},on:{input:e.updateKey},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1):e._e(),e.rootElement?e._e():n("el-form-item",{attrs:{label:"节点key"}},[n("el-input",{staticClass:"el_input",attrs:{clearable:"",placeholder:"请输入key",disabled:!0},on:{input:e.updateKey},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e.rootElement?e._e():n("el-form-item",{attrs:{label:"节点名称"}},[n("el-input",{staticClass:"el_input",attrs:{clearable:"",placeholder:"请输入名称"},on:{input:e.updateName},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e.rootElement?n("el-form-item",{attrs:{label:"流程名称"}},[n("el-input",{staticClass:"el_input",attrs:{clearable:"",placeholder:"请输入名称"},on:{input:e.updateName},model:{value:e.parentName,callback:function(t){e.parentName=t},expression:"parentName"}})],1):e._e(),e.rootElement?n("div",[n("el-form-item",{attrs:{label:"表单"}},[n("el-select",{key:"1",attrs:{clearable:"",placeholder:"请选择表单"},on:{change:function(t){return e.updateProperties({formKey:e.form.formKey||void 0},"fkey")}},model:{value:e.fkey,callback:function(t){e.fkey=t},expression:"fkey"}},e._l(e.fromflow,(function(e){return n("el-option",{key:e.formKey,attrs:{label:e.formName,value:e.formKey}})})),1)],1),n("el-form-item",{attrs:{label:"工单编号"}},[n("el-input",{staticClass:"el_input",attrs:{clearable:"",placeholder:"请输入工单编号"},on:{input:e.processCodeChange},model:{value:e.codes,callback:function(t){e.codes=t},expression:"codes"}})],1),n("el-form-item",{attrs:{label:"实例描述 "}},[n("el-input",{staticClass:"el_input",attrs:{type:"textarea",placeholder:"请输入流程实例描述",clearable:""},on:{input:e.processDesChange},model:{value:e.proDes,callback:function(t){e.proDes=t},expression:"proDes"}})],1),n("el-form-item",{attrs:{label:"id",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),n("el-form-item",{attrs:{label:"processDes",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.processDes,callback:function(t){e.$set(e.form,"processDes",t)},expression:"form.processDes"}})],1),n("el-form-item",{attrs:{label:"property",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.property,callback:function(t){e.$set(e.form,"property",t)},expression:"form.property"}})],1),n("el-form-item",{attrs:{label:"processGroup",hidden:""}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.processGroup,callback:function(t){e.$set(e.form,"processGroup",t)},expression:"form.processGroup"}})],1)],1):e._e(),e.isCallActivity||e.isSequenceFlow||e.rootElement?e._e():n("el-form-item",{attrs:{label:"提醒方式"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.remindMsgs},model:{value:e.remindMsg,callback:function(t){e.remindMsg=t},expression:"remindMsg"}},e._l(e.RemindMsgList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.isUserTask||e.isCallActivity||e.isSequenceFlow||e.rootElement?e._e():n("div",[n("div",[!1===e.ifTimer?n("el-form-item",{attrs:{label:"超时告警"}},[n("el-select",{key:"1",attrs:{placeholder:"请选择",clearable:""},on:{change:e.TimeoutAlarm},model:{value:e.FormalExpression.body,callback:function(t){e.$set(e.FormalExpression,"body",t)},expression:"FormalExpression.body"}},e._l(e.FormalExList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e()],1)])],1),e.isUserTask||e.isCallActivity?n("div",{staticClass:"el_title"},[n("el-divider",{staticStyle:{width:"90%"}},[e._v("按钮配置")]),n("flow-button",{ref:"FlowButton",staticStyle:{width:"100%","margin-top":"5px"},attrs:{buttonsList:e.buttonsList},on:{callback:e.handleButtonCallback,removeButton:e.removeButton}})],1):e._e()],2),e.isUserTask?n("el-collapse-item",[n("template",{slot:"title"},[n("span",{staticClass:"el_title"},[e._v(" 处理人 "),n("i",{staticClass:"header-icon el-icon-info"})])]),n("el-form",{ref:"userTaskForm",attrs:{model:e.form,"label-width":"100px",size:"small"}},[n("div",{staticStyle:{margin:"5px 40px"}},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.command}},[n("span",{staticClass:"el-dropdown-link"},[e._v(" 自定义设置 "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"${applyUser}"}},[e._v("发起人处理")])],1)],1)],1),0==!e.checkedUser?n("el-form-item",{attrs:{label:"自定义"}},[n("el-input",{staticClass:"el_input",attrs:{clearable:"",placeholder:"请输入自定义角色"},on:{input:function(t){return e.updateProperties({assignee:e.form.assignee||void 0})}},model:{value:e.checkedUser,callback:function(t){e.checkedUser=t},expression:"checkedUser"}})],1):1==!e.checkedUser?n("el-form-item",{attrs:{label:"自定义"}},[n("el-input",{staticClass:"el_input",attrs:{clearable:"",placeholder:"请输入自定义角色"},on:{input:function(t){return e.updateProperties({assignee:e.form.assignee||void 0})}},model:{value:e.form.assignee,callback:function(t){e.$set(e.form,"assignee",t)},expression:"form.assignee"}})],1):e._e(),n("el-form-item",{attrs:{label:"处理角色"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择处理角色"},on:{input:function(t){return e.updateProperties({candidateGroups:e.form.candidateGroups||void 0})}},model:{value:e.form.candidateGroups,callback:function(t){e.$set(e.form,"candidateGroups",t)},expression:"form.candidateGroups"}},e._l(e.rolesUser,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("div",{staticClass:"el_title"},[n("flow-no-user",{ref:"FlowNoUser",staticStyle:{width:"100%"},attrs:{noUserData:e.noUserData},on:{callback:e.handleUserCallback,removeNoUser:e.removeNoUser}})],1)],2):e._e(),e.isCallActivity?n("el-collapse-item",[n("template",{slot:"title"},[n("span",{staticClass:"el_title"},[e._v(" 调用流程 "),n("i",{staticClass:"header-icon el-icon-info"})])]),n("el-form",{attrs:{model:e.form,"label-width":"100px",size:"small"}},[n("el-form-item",{attrs:{label:"调用流程"}},[n("el-select",{key:"2",attrs:{clearable:"",placeholder:"请选择"},on:{input:function(t){return e.updateProperties({calledElement:e.form.calledElement||void 0})}},model:{value:e.form.calledElement,callback:function(t){e.$set(e.form,"calledElement",t)},expression:"form.calledElement"}},e._l(e.proKey,(function(e){return n("el-option",{key:e.processKey,attrs:{label:e.processName,value:e.processKey}})})),1)],1)],1)],2):e._e(),e.isUserTask||e.isCallActivity?n("el-collapse-item",[n("template",{slot:"title"},[n("span",{staticClass:"el_title"},[e._v(" 多实例配置 "),n("i",{staticClass:"header-icon el-icon-info"})])]),n("el-form",{ref:"multiInstanceForm",attrs:{model:e.selectedMultiInstance,rules:e.multiInstanceRules,"label-width":"100px",size:"small"}},[n("div",[e.element.businessObject.loopCharacteristics?e._e():n("el-alert",{staticClass:"alerty",attrs:{title:"请选择多实例类型",type:"warning","show-icon":""}}),n("el-form-item",{attrs:{label:"集合"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择处理集合"},on:{input:function(t){return e.updateMultiInstanceProperty("collection",e.selectedMultiInstance.collection)}},model:{value:e.selectedMultiInstance.collection,callback:function(t){e.$set(e.selectedMultiInstance,"collection",t)},expression:"selectedMultiInstance.collection"}},e._l(e.collection,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"元素变量"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择元素变量"},on:{input:function(t){return e.updateMultiInstanceProperty("elementVariable",e.selectedMultiInstance.elementVariable)}},model:{value:e.selectedMultiInstance.elementVariable,callback:function(t){e.$set(e.selectedMultiInstance,"elementVariable",t)},expression:"selectedMultiInstance.elementVariable"}},e._l(e.elementVariable,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"完成条件"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择完成条件"},on:{input:function(t){return e.updateFormalExpression("completionCondition",e.selectedMultiInstance.completionCondition)}},model:{value:e.selectedMultiInstance.completionCondition,callback:function(t){e.$set(e.selectedMultiInstance,"completionCondition",t)},expression:"selectedMultiInstance.completionCondition"}},e._l(e.completionCondition,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)])],2):e._e(),e.isSequenceFlow?n("el-collapse-item",[n("template",{slot:"title"},[n("span",{staticClass:"el_title"},[e._v(" 表达式 "),n("i",{staticClass:"header-icon el-icon-info"})])]),n("el-form",{ref:"userTaskForm",attrs:{model:e.exclusiveSequence,"label-width":"100px",size:"small"}},[n("el-form-item",{attrs:{label:"流程表达式"}},[n("el-input",{staticClass:"el_input",attrs:{clearable:"",placeholder:"请选择流程表达式"},on:{input:e.updateConditionExpression},model:{value:e.exclusiveSequence.conditionExpression,callback:function(t){e.$set(e.exclusiveSequence,"conditionExpression",t)},expression:"exclusiveSequence.conditionExpression"}})],1)],1)],2):e._e(),e.rootElement||e.isSequenceFlow?e._e():n("el-collapse-item",[n("template",{slot:"title"},[n("span",{staticClass:"el_title"},[e._v(" 监听器 "),n("i",{staticClass:"header-icon el-icon-info"})])]),n("div",{staticClass:"el_title"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addListeners(!1)}}},[e._v("添加")]),e.listenerData.length>0?n("el-table",{staticStyle:{width:"98%","margin-top":"5px"},attrs:{data:e.listenerData,border:""}},[n("el-table-column",{attrs:{prop:"eventType",label:"事件",align:"center"}}),n("el-table-column",{attrs:{prop:"listenerType",label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.listenerType[t.row.listenerType]))])]}}],null,!1,3871754048)}),n("el-table-column",{attrs:{prop:"value",label:"实现",align:"center"}}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){return e.updateListener(t.row,!1)}}},[e._v("修改")]),n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){return e.listenerDel(t.row,!1)}}},[e._v("删除")])]}}],null,!1,919771995)})],1):e._e()],1)],2)],1),n("user-select",{ref:"UserSelect",on:{callback:e.handleCallback}}),n("flow-listener",{ref:"FlowListener",on:{callback:e.handleListenerCallback}}),n("flow-task-listener",{ref:"FlowTaskListener",on:{callback:e.handleListenerCallback}})],1)},A=[],F=(n("c740"),n("4160"),n("caad"),n("c975"),n("a15b"),n("a434"),n("2532"),n("159b"),n("5530")),M=n("1108"),V=n.n(M),R=n("c8f6"),N=n.n(R),$=n("e470"),U=n.n($),K=n("ba77"),q=n.n(K),G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.dialog,"close-on-click-modal":!1,title:"用户选择","append-to-body":"",top:"5vh",width:"1200px"},on:{"update:visible":function(t){e.dialog=t}}},[n("div",{staticClass:"app-container"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.data,"highlight-current-row":!e.multiple,size:"small"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),n("el-table-column",{attrs:{prop:"realName",label:"姓名",width:"180"}}),n("el-table-column",{attrs:{prop:"address",label:"地址"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"text",size:"small"},on:{click:e.cancel}},[e._v("取消")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.doSubmit}},[e._v("确认")])],1)])},H=[],z={name:"UserSelect",data:function(){return{dialog:!1,multiple:!1,selectedUsers:[],data:[{id:"1",date:"2016-05-02",realName:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{id:"2",date:"2016-05-04",realName:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{id:"3",date:"2016-05-01",realName:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{id:"4",date:"2016-05-03",realName:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},methods:{handleSelectionChange:function(e){this.selectedUsers=e},cancel:function(){this.multipleSelection=[],this.$refs.multipleTable.clearSelection(),this.dialog=!1},doSubmit:function(){!this.multiple&&this.selectedUsers.length>1?this.$message.error("你最多只能选择一个用户"):(this.$emit("callback",this.selectedUsers),this.cancel())}}},X=z,J=n("2877"),W=Object(J["a"])(X,G,H,!1,null,"34910579",null),Q=W.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.dialog,"close-on-click-modal":!1,title:"添加监听器","append-to-body":"",width:"900px"},on:{"update:visible":function(t){e.dialog=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"事件类型"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.eventType,callback:function(t){e.$set(e.form,"eventType",t)},expression:"form.eventType"}},e._l(e.eventTypes,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"监听类型"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.listenerType,callback:function(t){e.$set(e.form,"listenerType",t)},expression:"form.listenerType"}},e._l(e.listenerTypes,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"值",prop:"value"}},[n("el-input",{model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"text",size:"small"},on:{click:e.cancel}},[e._v("取消")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.doSubmit}},[e._v("确认")])],1)],1)},Z=[];n("4d63"),n("25f0"),n("466d");function ee(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,r="",i=0;i<e;i++)r+=t.charAt(Math.floor(Math.random()*n));return r}var te={name:"FlowListener",data:function(){return{dialog:!1,eventTypes:[{value:"start",label:"start"},{value:"end",label:"end"}],listenerTypes:[{value:"class",label:"类"},{value:"expression",label:"表达式"},{value:"delegateExpression",label:"代理表达式"}],form:{id:"",eventType:"start",listenerType:"class",value:""},rules:{value:[{required:!0,message:"值不能为空",trigger:"blur"}]}}},methods:{randomString:ee,cancel:function(){this.dialog=!1,this.form={id:"",eventType:"start",listenerType:"class",value:""}},doSubmit:function(){var e=this;this.form.id=ee(16),this.$refs["form"].validate((function(t){if(!t)return!1;e.$emit("callback",e.form),e.cancel()}))}}},ne=te,re=Object(J["a"])(ne,Y,Z,!1,null,"73e05198",null),ie=re.exports,ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.dialog,"close-on-click-modal":!1,title:"添加监听器","append-to-body":"",width:"900px"},on:{"update:visible":function(t){e.dialog=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"事件类型"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.eventType,callback:function(t){e.$set(e.form,"eventType",t)},expression:"form.eventType"}},e._l(e.eventTypes,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"监听类型"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.listenerType,callback:function(t){e.$set(e.form,"listenerType",t)},expression:"form.listenerType"}},e._l(e.listenerTypes,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"值",prop:"value"}},[n("el-input",{model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"text",size:"small"},on:{click:e.cancel}},[e._v("取消")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.doSubmit}},[e._v("确认")])],1)],1)},se=[],oe={name:"FlowListener",data:function(){return{dialog:!1,eventTypes:[{value:"create",label:"create"},{value:"assignment",label:"assignment"},{value:"complete",label:"complete"},{value:"delete",label:"delete"}],listenerTypes:[{value:"class",label:"类"},{value:"expression",label:"表达式"},{value:"delegateExpression",label:"代理表达式"}],form:{id:"",eventType:"create",listenerType:"class",value:""},rules:{value:[{required:!0,message:"值不能为空",trigger:"blur"}]}}},methods:{randomString:ee,cancel:function(){this.dialog=!1,this.form={id:"",eventType:"create",listenerType:"class",value:""}},doSubmit:function(){var e=this;this.form.id=ee(16),this.$refs["form"].validate((function(t){if(!t)return!1;e.$emit("callback",e.form),e.cancel()}))}}},le=oe,ue=Object(J["a"])(le,ae,se,!1,null,"0d3904a2",null),ce=ue.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.buttons,"show-header":!1,border:!0},on:{select:e.onTableSelect}},[n("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),n("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}})],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)},de=[],me=(n("7db0"),[{name:"传阅",code:"informed"},{name:"转办",code:"transfer"},{name:"加签",code:"addSignUser"},{name:"退回",code:"backToNode"},{name:"会签",code:"counterSign"},{name:"挂起",code:"hangUp"},{name:"删除",code:"delete"}]),fe={name:"FlowButton",props:{buttonsList:{}},data:function(){return{buttons:me}},mounted:function(){var e=this;this.$nextTick((function(){e.buttonsList.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(e.buttons.find((function(e){return e.code===t.code})))}))}))},methods:{cancel:function(){this.$refs.multipleTable.clearSelection()},onTableSelect:function(e,t){for(var n=0;n<e.length;n++)void 0==e[n]&&(e.splice(n,1),n-=1);var r=e.length&&-1!==e.indexOf(t);r?this.$emit("callback",e,t):this.$emit("removeButton",t)}},watch:{buttonsList:function(){var e=this;this.$refs.multipleTable.clearSelection(),this.buttonsList.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(e.buttons.find((function(e){return e.code===t.code})))}))}}},be=fe,ve=Object(J["a"])(be,pe,de,!1,null,"6c44410c",null),he=ve.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{ref:"multipleTableUser",staticStyle:{width:"100%"},attrs:{data:e.users,"show-header":!1,border:!0},on:{select:e.onTableSelect}},[n("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),n("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}})],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})],1)},ye=[],Ee=[{name:"无需选人",code:"noUser"}],xe={name:"FlowNoUser",props:{noUserData:{}},data:function(){return{users:Ee}},mounted:function(){var e=this;this.$nextTick((function(){e.noUserData.forEach((function(t){e.$refs.multipleTableUser.toggleRowSelection(e.users.find((function(e){return e.code===t.code})))}))}))},methods:{cancel:function(){this.$refs.multipleTableUser.clearSelection()},onTableSelect:function(e,t){for(var n=0;n<e.length;n++)void 0==e[n]&&(e.splice(n,1),n-=1);var r=e.length&&-1!==e.indexOf(t);r?this.$emit("callback",e,t):this.$emit("removeNoUser",t)}},watch:{noUserData:function(){var e=this;this.$refs.multipleTableUser.clearSelection(),this.noUserData.forEach((function(t){e.$refs.multipleTableUser.toggleRowSelection(e.users.find((function(e){return e.code===t.code})))}))}}},we=xe,Te=Object(J["a"])(we,ge,ye,!1,null,"b0e2540e",null),Se=Te.exports,Ce="http://".concat(window.location.host,"/ops/workflow"),Pe=Ce,ke={name:"PropertyPanel",components:{UserSelect:Q,FlowListener:ie,FlowTaskListener:ce,FlowButton:he,FlowNoUser:Se},props:{formKey:{},code:{},processKey:{},processDes:{},value:{},modeler:{type:Object,required:!0}},data:function(){return{collection:[{lable:"ListAssignee",value:"ListAssignee"}],elementVariable:[{lable:"assignee",value:"assignee"}],completionCondition:[{lable:"${nrOfCompletedInstances/nrOfInstances==1}",value:"${nrOfCompletedInstances/nrOfInstances==1}"}],checkedUser:"",codes:this.code,fkey:this.formKey,proDes:this.processDes,dialogTableVisible:!1,selectedElements:[],element:{},rootElement:null,activeName:"1",sxactiveName:"1",activeNames:"shuxing",selectType:"",selectedAssignee:"",listenerData:[],listener:{},taskListenerData:[],taskListener:{},isTaskListener:!1,listenerType:{class:"类",expression:"表达式",delegateExpression:"代理表达式"},buttonsData:[],buttonsList:[],button:[],noUserData:[],noUser:[],fromflow:[],form:{id:"",name:"",proname:this.parentName,formKey:this.fromflow,versionTag:"",taskPriority:"",jobPriority:"",candidateStarterGroups:"",candidateStarterUsersNames:"",candidateStarterUsers:"",historyTimeToLive:"",initiator:"",description:"",assigneeType:"1",assigneeName:"",assignee:"",candidateUsersName:"",candidateUsers:"",candidateGroups:"",calledElement:"",timeDefinitionType:"",eventType:""},remindMsg:[],FormalExpression:{body:""},eventTypes:[{label:"默认",value:""},{label:"MessageEventDefinition",value:"bpmn:MessageEventDefinition"},{label:"TimerEventDefinition",value:"bpmn:TimerEventDefinition"},{label:"ConditionalEventDefinition",value:"bpmn:ConditionalEventDefinition"}],FormalExList:[{label:"1小时",value:"PT1H"},{label:"30分钟",value:"PT30M"}],RemindMsgList:[{label:"短信",value:"sms"},{label:"邮件",value:"email"},{label:"微信",value:"wxsms"}],exclusiveSequence:{conditionExpression:""},excl:{},userTask:{},fullscreenLoading:!1,rolesUser:[],proKey:[],LayoutSettings:[],properties:[],dialogVisible:!1,multiInstanceOptions:[{value:"Parallel",label:"并行多重事件"},{value:"Sequential",label:"顺序多重事件"}],selectedMultiInstance:{isSequential:"",loopCardinality:"",collection:"",elementVariable:"",completionCondition:"",asyncBefore:!1,asyncAfter:!1,failedJobRetryTimeCycle:""},timeDefinitionTypeList:["Cycle"],boundaryEvent:{},multiInstance:{},multiInstanceRules:{loopCardinality:[{required:!0,message:"循环基数不能为空",trigger:"blur"}]},token:""}},computed:{ifTimer:function(){return this.element.businessObject.cancelActivity},isProcess:function(){if(this.element)return this.verifyIsProcess(this.element.type)},isEvent:function(){if(this.element)return this.verifyIsEvent(this.element.type)},isTask:function(){if(this.element)return this.verifyIsTask(this.element.type)},isUserTask:function(){if(this.element)return"bpmn:UserTask"===this.element.type},isCallActivity:function(){if(this.element)return"bpmn:CallActivity"===this.element.type},isSequenceFlow:function(){if(this.element)return"bpmn:SequenceFlow"===this.element.type},isStart:function(){if(this.element)return this.verifyIsStart(this.element.type)},sequenceFlow:function(){if(this.element)return"bpmn:SequenceFlow"===this.element.type},isExclusiveSequenceFlow:function(){if(this.element){var e=this.element.businessObject;return!(!e||!e.sourceRef||"bpmn:ExclusiveGateway"!==e.sourceRef.$type)}},isGateway:function(){if(this.element)return this.verifyIsGateway(this.element.type)},isBoundaryEvent:function(){if(this.element)return this.verifyIsBoundaryEvent(this.element.type)},parentName:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},created:function(){var e=this;this.init();var t=new URLSearchParams(location.search),n=(t.get("id"),new URLSearchParams(location.search));this.token=n.get("token");var r={method:"post"};r.url=Pe+"/formDefinition/rest/queryFormDefinitionList",r.data={formTypeId:"0"},r.headers={token:this.token},this.$axios(r).then((function(t){e.fromflow=t.data.responseBody})).catch((function(e){console.log(e)}));var i={method:"post"};i.url=Pe+"/form/getAllRoleList",i.data={},i.headers={token:this.token},this.$axios(i).then((function(t){0===t.data.errorCode&&(e.rolesUser=t.data.responseBody)})).catch((function(e){console.log(e)}));var a={method:"post"};a.url=Pe+"/app/rest/deploy/query/list",a.data={},a.headers={token:this.token},this.$axios(a).then((function(t){e.proKey=t.data.responseBody})).catch((function(e){console.log(e)}))},methods:{remindMsgs:function(e){console.log(e),this.remindMsg=e;var t=this.listenerData[0];this.listenerDel(t),"bpmn:UserTask"===this.form.$type&&this.handleListenerCallback({eventType:"start",listenerType:"class",value:"org.kingsware.flowable.process.base.BaseNodeHandler "}),"bpmn:BoundaryEvent"===this.form.$type&&this.handleListenerCallback({eventType:"end",listenerType:"delegateExpression",value:"${timeoutReminder}"}),console.log(this.remindMsg)},TimeoutAlarm:function(e,t){console.log("---------------------"),console.log(t),console.log(this.element),console.log(e),this.FormalExpression.body=e},updateTime:function(e){if(console.log(this.element),!this.element||!this.element.businessObject||!this.element.businessObject.eventDefinitions||!this.element.businessObject.eventDefinitions[0])return!1;this.element.businessObject.eventDefinitions[0]=this.modeler._moddle.create("bpmn:TimerEventDefinition");var t="time".concat(e);console.log(t),this.FormalExpression=this.modeler._moddle.create("bpmn:FormalExpression",{body:""}),"timeCycle"===t&&this.$set(this.FormalExpression,"endDate",""),this.element.businessObject.eventDefinitions[0][t]=this.FormalExpression},userCheckbox:function(e){e?(this.updateProperties({assignee:"${applyUser}"}),this.checkedUser="${applyUser}"):(this.updateProperties({assignee:""}),this.checkedUser="")},command:function(e,t){this.form.assignee=e,this.updateProperties({assignee:this.form.assignee})},randomString:ee,init:function(){var e=this,t=this;this.modeler.on("selection.changed",(function(n){n.element;t.selectedElements=n.newSelection,t.element=n.newSelection[0],t.rootElement=null,t.setDefaultProperties(t.element),console.log(t.form.$type),e.listenerData.length>0||("bpmn:UserTask"===t.form.$type&&t.handleListenerCallback({eventType:"start",listenerType:"class",value:"org.kingsware.flowable.process.base.BaseNodeHandler"}),"bpmn:BoundaryEvent"===t.form.$type&&t.handleListenerCallback({eventType:"end",listenerType:"delegateExpression",value:"${timeoutReminder}"}))})),this.modeler.on("element.changed",(function(t){var n=t.element,r=e.element;r&&n.id===r.id&&(e.element=n)})),this.modeler.on("element.click",(function(e){t.element||(t.rootElement=e.element,t.setDefaultProperties(t.rootElement))})),this.modeler.on("root.added",(function(e){t.element||(t.rootElement=e.element,t.setDefaultProperties(t.rootElement))})),this.modeler.on("shape.changed",0,(function(t){var n=t.element;console.log(n),e.element=n,e.updateTime("Cycle"),e.selectedMultiInstance.elementVariable="assignee",e.selectedMultiInstance.collection="ListAssignee",e.selectedMultiInstance.completionCondition="${nrOfCompletedInstances/nrOfInstances==1}"}))},setDefaultProperties:function(e){if(e){var t=e.businessObject;console.log(t),this.buttonsList=[],t.extensionElements&&(this.buttonsList=t.extensionElements.values,this.noUserData=t.extensionElements.values),t.conditionExpression&&(this.excl[t.id]={conditionExpression:t.conditionExpression.body}),t.loopCharacteristics&&(this.multiInstance[e.id]={collection:t.loopCharacteristics.collection,elementVariable:t.loopCharacteristics.elementVariable,completionCondition:t.loopCharacteristics.completionCondition&&t.loopCharacteristics.completionCondition.body}),t.eventDefinitions&&t.eventDefinitions[0]&&(this.FormalExpression.body=t.eventDefinitions[0].timeCycle.body),t.extensionElements&&t.extensionElements.values[0]&&t.extensionElements.values[0].fields[0]&&(this.remindMsg=t.extensionElements.values[0].fields[0].string),["bpmn:MultiInstanceLoopCharacteristics"].includes(t.$type)&&(this.multiInstanceOptions=(t.conditionExpression,""));var n=this.form.candidateStarterUsersNames;this.form=Object(F["a"])({},t,{},t.$attrs,{FormalExpression:{body:""}}),this.form.candidateStarterUsersNames=n,"bpmn:Process"===e.type?this.setProcessUser():this.isUserTask&&this.setUserTaskUser(),this.setListener(e,t),this.setTaskListener(e,t),this.selectedMultiInstance=this.multiInstance[e.id]||{},this.exclusiveSequence=this.excl[e.id]||{}}},setListener:function(e,t){if(this.listenerData=this.listener[e.id]||[],0===this.listenerData.length){for(var n=U.a.getExtensionElements(t,"flowable:ExecutionListener")||[],r=0;r<n.length;r++){var i=n[r],a=q.a.getImplementationType(i);this.listenerData.push({id:ee(16),eventType:i.event||"",listenerType:a,value:i[a]})}this.listener[e.id]=this.listenerData}},setTaskListener:function(e,t){if(this.taskListenerData=this.taskListener[e.id]||[],0===this.taskListenerData.length){for(var n=U.a.getExtensionElements(t,"flowable:TaskListener")||[],r=0;r<n.length;r++){var i=n[r],a=q.a.getImplementationType(i);this.taskListenerData.push({id:ee(16),eventType:i.event||"",listenerType:a,value:i[a]})}this.taskListener[e.id]=this.taskListenerData}},setProcessUser:function(){var e=[];this.form.candidateStarterUsers&&(e=this.form.candidateStarterUsers.split(",")),e.length},setUserTaskUser:function(){var e=[];if(this.userTask.assignee&&e.push(this.userTask.assignee),this.userTask.candidateUsers){var t=this.userTask.candidateUsers.split(",");e.push(t)}e.length},verifyIsEvent:function(e){if(e)return e.includes("Event")},verifyIsTask:function(e){if(e)return e.includes("Task")},verifyIsStart:function(e){return"bpmn:StartEvent"===e},verifyIsGateway:function(e){if(e)return e.includes("Gateway")},verifyIsProcess:function(e){if(e)return e.includes("bpmn:Process")},verifyIsBoundaryEvent:function(e){return"bpmn:BoundaryEvent"===e},changeField:function(e,t){var n=e.target.value;this.element[t]=n;var r={};r[t]=n,"color"===t&&this.onChangeColor(n),this.updateProperties(r)},updateName:function(e){this.updateProperties({name:e})},updateKey:function(e){this.updateProperties({id:e})},changeEventType:function(e){var t=this.modeler,n=this.element,r=e.target.value,i=t.get("bpmnReplace");i.replaceElement(n,{type:n.businessObject.$type,eventDefinitionType:r})},changeTaskType:function(e){var t=this.modeler,n=this.element,r=e.target.value,i=t.get("bpmnReplace");i.replaceElement(n,{type:r})},updateProperties:function(e,t){var n=this.modeler.get("modeling");n.updateProperties(this.element?this.element:this.rootElement,e),"fkey"===t&&this.$emit("update:formKey",this.fkey)},updateDocumentation:function(e){var t=this.modeler.get("bpmnFactory");if(e){var n=[];n.push(t.create("bpmn:Documentation",{text:e}));var r=this.rootElement,i=V.a.setList(r,r.businessObject,"documentation",n);this.executeCommand(i)}},updateConditionType:function(e){alert(e);this.element.businessObject},updateConditionExpression:function(){if(this.element){var e=this.element.businessObject,t=this.modeler.get("bpmnFactory"),n=N.a.createElement("bpmn:FormalExpression",{body:this.exclusiveSequence.conditionExpression},e,t),r=V.a.updateBusinessObject(this.element,e,{conditionExpression:n});this.executeCommand(r),this.excl[this.element.id]=this.exclusiveSequence}},executeCommand:function(e){var t=this.modeler.get("commandStack");t.execute(e.cmd,e.context)},handleChangeAssignee:function(e){"2"===e?(this.selectedAssignee=this.userTask.assignee,this.userTask.assignee="$INITIATOR"):this.userTask.assignee=this.selectedAssignee,this.updateProperties({assignee:this.userTask.assignee})},handleSelectUser:function(e,t){this.selectType=t;var n=this.$refs.UserSelect;n.multiple=e,n.dialog=!0},handleCallback:function(e){for(var t=[],n=[],r=0;r<e.length;r++)t.push(e[r].id),n.push(e[r].realName);"candidateStarterUsers"===this.selectType?(this.form.candidateStarterUsers=t.join(","),this.form.candidateStarterUsersNames=n.join(","),this.updateProperties({candidateStarterUsers:this.form.candidateStarterUsers})):"assignee"===this.selectType?(this.userTask.assignee=t.join(","),this.userTask.assigneeName=n.join(","),this.updateProperties({assignee:this.userTask.assignee})):"candidateUsers"===this.selectType&&(this.userTask.candidateUsers=t.join(","),this.userTask.candidateUsersName=n.join(","),this.updateProperties({candidateUsers:this.userTask.candidateUsersName})),this.$forceUpdate()},addListeners:function(e){this.isTaskListener=e;var t=this.$refs.FlowListener;e&&(t=this.$refs.FlowTaskListener),t.dialog=!0},handleListenerCallback:function(e){var t=this.modeler.get("bpmnFactory"),n=this.rootElement?this.rootElement:this.element;if(!n)return!1;var r,i=n.businessObject,a="";if(this.isTaskListener){a="flowable:TaskListener";for(var s=0;s<this.taskListenerData.length;s++)if(r=this.taskListenerData[s],r.id===e.id){this.listenerDel(r);break}this.taskListenerData.push(e),this.taskListener[n.id]=this.taskListenerData}else{a="flowable:ExecutionListener";for(var o=0;o<this.listenerData.length;o++)if(r=this.listenerData[o],r.id===e.id){this.listenerDel(r);break}this.listenerData.push(e),this.listener[n.id]=this.listenerData}var l=i.extensionElements;if(l||(l=N.a.createElement("bpmn:ExtensionElements",{values:[]},i,t),this.executeCommand(V.a.updateBusinessObject(n,i,{extensionElements:l}))),console.log(i.$type),console.log(i.$type),"bpmn:UserTask"===i.$type){var u=this.modeler._moddle.create("flowable:Field",{string:this.remindMsg,name:"toDoReminder"}),c=[];c[0]=u,this.executeCommand(this.createExtensionElement(n,a,l,e,t)),l.values.forEach((function(e,t){l.values[t].fields=c}))}if("bpmn:BoundaryEvent"===i.$type){var p=this.modeler._moddle.create("flowable:Field",{string:this.remindMsg,name:"timeOutRemind"}),d=[];d[0]=p,this.executeCommand(this.createExtensionElement(n,a,l,e,t)),l.values.forEach((function(e,t){l.values[t].fields=d}))}},createExtensionElement:function(e,t,n,r,i){var a={event:r.eventType};a[r.listenerType]=r.value;var s=N.a.createElement(t,a,n,i);return V.a.addElementsTolist(e,n,"values",[s])},removeExtensionElement:function(e,t,n,r){var i=U.a.getExtensionElements(t,n)||[],a=i[r];if(a)return U.a.removeEntry(t,e,a)},updateListener:function(e,t){this.isTaskListener=t;var n=this.$refs.FlowListener;t&&(n=this.$refs.FlowTaskListener),n.form=Object(F["a"])({},e),n.dialog=!0},listenerDel:function(e,t){var n,r;this.isTaskListener=t;var i=this.rootElement?this.rootElement:this.element,a=i.businessObject;t?(n=this.taskListenerData.indexOf(e),this.taskListenerData.splice(n,1),r="flowable:TaskListener"):(n=this.listenerData.indexOf(e),this.listenerData.splice(n,1),r="flowable:ExecutionListener"),this.executeCommand(this.removeExtensionElement(i,a,r,n))},addButton:function(){var e=this.$refs.FlowButton;e.multipleSelection=this.buttonsList,this.buttonsList.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)}))},addNoUser:function(){var e=this.$refs.FlowNoUser;e.multipleSelection=this.noUserData,this.noUserData.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})),e.dialog=!0},handleUserCallback:function(e,t){this.noUserData=e;var n=this.modeler.get("bpmnFactory"),r=this.rootElement?this.rootElement:this.element,i=r.businessObject,a=i.extensionElements;a||(a=N.a.createElement("bpmn:ExtensionElements",{values:[]},i,n),this.executeCommand(V.a.updateBusinessObject(r,i,{extensionElements:a})));var s=[],o={name:t.name,code:t.code},l=N.a.createElement("flowable:Button",o,a,n);s.push(l),this.executeCommand(V.a.addElementsTolist(r,a,"values",s))},removeNoUser:function(e){var t=this,n="flowable:Button",r=this.rootElement?this.rootElement:this.element,i=r.businessObject,a=i.extensionElements.values;console.log();for(var s=0;s<a.length;s++)void 0==a[s].code&&(a.splice(s,1),s-=1);a.forEach((function(a,s){a.code===e.code&&t.executeCommand(t.removeExtensionElement(r,i,n,s))}))},removeButton:function(e){for(var t=this,n="flowable:Button",r=this.rootElement?this.rootElement:this.element,i=r.businessObject,a=i.extensionElements.values,s=0;s<a.length;s++)void 0==a[s].code&&(a.splice(s,1),s-=1);a.forEach((function(a,s){a.code===e.code&&(console.log(a.code),t.executeCommand(t.removeExtensionElement(r,i,n,s)))}))},handleButtonCallback:function(e,t){this.buttonsList=e;var n=this.modeler.get("bpmnFactory"),r=this.rootElement?this.rootElement:this.element,i=r.businessObject,a=i.extensionElements;a||(a=N.a.createElement("bpmn:ExtensionElements",{values:[]},i,n),this.executeCommand(V.a.updateBusinessObject(r,i,{extensionElements:a})));var s=[],o={name:t.name,code:t.code},l=N.a.createElement("flowable:Button",o,a,n);s.push(l),this.executeCommand(V.a.addElementsTolist(r,a,"values",s))},handleMultiInstance:function(e){var t;this.element.businessObject;if(this.multiInstance[this.element.id]=this.selectedMultiInstance,""===e)t=void 0;else{var n=this.modeler.get("moddle");t=n.create("bpmn:MultiInstanceLoopCharacteristics"),"Sequential"===e&&(t.isSequential=!0)}this.updateProperties({loopCharacteristics:t})},updateFormalExpression:function(e,t){var n=this.modeler.get("bpmnFactory"),r=this.element.businessObject,i=r.loopCharacteristics,a={};if(!t)return a[e]=void 0,void this.executeCommand(V.a.updateBusinessObject(this.element,i,a));var s=i.get(e);if(!s)return a[e]=N.a.createElement("bpmn:FormalExpression",{body:t},parent,n),void this.executeCommand(V.a.updateBusinessObject(this.element,i,a));this.executeCommand(V.a.updateBusinessObject(this.element,s,{body:t}))},updateMultiInstanceProperty:function(e,t){var n=this.element.businessObject;if(n.loopCharacteristics){var r=n.loopCharacteristics,i={};i[e]=t||void 0,this.executeCommand(V.a.updateBusinessObject(this.element,r,i))}else this.$message({message:"请选择多实例类型",type:"warning"})},openFormFieldLayer:function(){var e=this;if(this.formKey){var t=new URLSearchParams(location.search);this.token=t.get("token");var n={method:"post"};n.url=Pe+"/process/rest/config/query/list",n.data={formKey:this.formKey,processKey:this.processKey,nodeId:this.form.id},n.headers={token:this.token},this.$axios(n).then((function(t){0===t.data.errorCode&&(e.properties=t.data.responseBody)})).catch((function(e){console.log(e)}));var r={method:"post"};r.url=Pe+"/process/rest/hide/query/list",r.data={formKey:this.formKey,processKey:this.processKey,nodeId:this.form.id},r.headers={token:this.token},this.$axios(r).then((function(t){0===t.data.errorCode&&(e.LayoutSettings=t.data.responseBody)})).catch((function(e){console.log(e)})),this.dialogVisible=!0}else this.$message({message:"请先选择表单",type:"warning"})},changeCheckbox:function(e){"readonly"===e.column.property&&("true"!==this.properties[e.$index].readonly?this.properties[e.$index].readonly="true":this.properties[e.$index].readonly="false"),"required"===e.column.property&&("true"!==this.properties[e.$index].required?this.properties[e.$index].required="true":this.properties[e.$index].required="false"),"processVariable"===e.column.property&&("true"!==this.properties[e.$index].processVariable?this.properties[e.$index].processVariable="true":this.properties[e.$index].processVariable="false"),"hide"===e.column.property&&("true"!==this.LayoutSettings[e.$index].hide?this.LayoutSettings[e.$index].hide="true":this.LayoutSettings[e.$index].hide="false")},confirmFormFieldLayer:function(){var e=this,t=new URLSearchParams(location.search);this.token=t.get("token");var n=this.properties;this.LayoutSettings.forEach((function(e){var t=n.findIndex((function(t){return t.fieldId===e.fieldId}));n[t]?n[t].hide=e.hide:n.push(e)}));var r={method:"post"};r.url=Pe+"/process/rest/form/config/save",r.data={formKey:this.formKey,processKey:this.processKey,nodeId:this.form.id,list:n},r.headers={token:this.token},this.$axios(r).then((function(t){0===t.data.errorCode?(e.$message({message:"保存成功",type:"success"}),e.closedDialog()):e.$message.error("保存失败")})).catch((function(e){console.log(e)})),this.dialogVisible=!1},cancelForm:function(){this.closedDialog()},closedDialog:function(){this.properties=[],this.LayoutSettings=[],this.dialogVisible=!1},processDesChange:function(e){this.$emit("update:processDes",e)},processCodeChange:function(e){this.$emit("update:code",e)}}},Oe=ke,Be=(n("4f2a"),Object(J["a"])(Oe,L,A,!1,null,null,null)),_e=Be.exports,je=(n("d5e0"),n("a7be"),n("b866"),n("697e"),n("4895"),n("cbc8"),n("a2c1"),n("8d70"),n("aedd"),n("9f09"),n("164b"),n("31c5"),{name:"Bpmn",components:{codemirror:B["codemirror"],panel:_e},props:{isAdd:{type:Boolean,required:!0}},data:function(){return{modelId:null,bpmnModeler:null,encodedData:null,dialog:!1,loading:!1,title:"流程设计",bpmnXml:"",processKey:"",customTranslate:{translate:["value",T]},activeName:"1",cmOptions:{tabSize:4,mode:{name:"xml",json:!0},theme:"idea",styleActiveLine:!0,lineNumbers:!0,line:!0,foldgutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter","CodeMirror-lint-markers"],lineWrapping:!0,foldGutter:!0,matchBrackets:!0,autoCloseBrackets:!0},fromflow:{},form:{id:"",code:"",processName:"",description:"",processDes:"",orderId:"",formKey:this.fromflow,property:"",processGroup:"",fromflow:[]},token:"",fullscreenLoading:!1,issueLoading:!1,dialogXmlimg:!1}},mounted:function(){var e=this,t=new URLSearchParams(location.search),n=t.get("id"),r=new URLSearchParams(location.search);this.token=r.get("token");var i={method:"post"};i.url=Pe+"/formDefinition/rest/queryFormDefinitionList",i.data={formTypeId:"0"},i.headers={token:this.token},this.$axios(i).then((function(t){e.fromflow=t.data.responseBody})).catch((function(e){console.log(e)}));var a={method:"post"};a.url=Pe+"/app/rest/deploy/query",a.data={id:n},a.headers={token:this.token},this.$axios(a).then((function(t){console.log(t),t.data.responseBody.bpmnxml&&(e.bpmnXml=t.data.responseBody.bpmnxml),e.form.id=t.data.responseBody.id,e.form.code=t.data.responseBody.code,e.form.processName=t.data.responseBody.processName,e.form.processDes=t.data.responseBody.processDes,e.form.orderId=t.data.responseBody.orderId,e.form.formKey=t.data.responseBody.formKey,e.form.property=t.data.responseBody.property,e.form.processGroup=t.data.responseBody.processGroup,e.processKey=t.data.responseBody.processKey,null!=e.bpmnXml&&""!=e.bpmnXml||(e.bpmnXml='\n            <?xml version="1.0" encoding="UTF-8"?>\n              <definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:flowable="http://flowable.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNamespace="http://www.flowable.org/processdef">\n                <process id="'.concat(e.processKey,'" name="').concat(e.form.processName,'" isExecutable="true" >\n                  <documentation></documentation>\n                <startEvent id="StartEvent_1kvyueq" name="开始">\n                    <documentation></documentation>\n                   <extensionElements />\n             <outgoing>SequenceFlow_1t99g2a</outgoing>\n            </startEvent>\n            <userTask id="UserTask_1p7apma" name="用户任务">\n              <documentation></documentation>\n              <extensionElements />\n              <incoming>SequenceFlow_1t99g2a</incoming>\n            </userTask>\n            <sequenceFlow id="SequenceFlow_1t99g2a" sourceRef="StartEvent_1kvyueq" targetRef="UserTask_1p7apma" />\n          </process>\n          <bpmndi:BPMNDiagram id="BPMNDiagram_kfw200318105905138">\n            <bpmndi:BPMNPlane id="BPMNPlane_kfw200318105905138" bpmnElement="kfw200318105905138">\n              <bpmndi:BPMNShape id="StartEvent_1kvyueq_di" bpmnElement="StartEvent_1kvyueq">\n                <omgdc:Bounds x="52" y="102" width="36" height="36" />\n              </bpmndi:BPMNShape>\n              <bpmndi:BPMNShape id="UserTask_1p7apma_di" bpmnElement="UserTask_1p7apma">\n                <omgdc:Bounds x="210" y="80" width="100" height="80" />\n              </bpmndi:BPMNShape>\n              <bpmndi:BPMNEdge id="SequenceFlow_1t99g2a_di" bpmnElement="SequenceFlow_1t99g2a">\n                <omgdi:waypoint x="88" y="120" />\n                <omgdi:waypoint x="210" y="120" />\n              </bpmndi:BPMNEdge>\n            </bpmndi:BPMNPlane>\n          </bpmndi:BPMNDiagram> \n        </definitions>')),e.$nextTick((function(){e.handleOpen(),e.handleTabClick({name:1}),e.handleClose()}))})).catch((function(e){console.log(e)}))},methods:{handleCloseXml:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},openDiagram:function(e){this.bpmnModeler.importXML(e,(function(e){e&&console.error("====>>>err",e)}))},handleOpen:function(){this.bpmnModeler||(this.bpmnModeler=new x({container:"#canvas",additionalModules:[I,C.a,k.a,this.customTranslate],moddleExtensions:{flowable:O}}),this.isAdd?this.openDiagram(this.bpmnXml):this.getFlowXml(this.modelId))},handleClose:function(){this.openDiagram(this.bpmnXml),this.activeName="1"},handleTabClick:function(e){if("2"===e.name){var t=this;this.bpmnModeler.saveXML({format:!0},(function(e,n){e||(t.bpmnXml=n)}))}},handXml:function(){var e=this;this.bpmnModeler.saveXML({format:!0},(function(t,n){t||(e.bpmnXml=n)}))},showRealPath:function(){var e=this.$refs.file.files[0],t="";try{var n=e.name.split(".");t=n[n.length-1]}catch(a){t=""}if(""===t||"xml"!==t&&"bpmn"!==t)this.$message({message:"不是有效的流程文件！",type:"warning"});else{var r=new FileReader;r.readAsText(e);var i=this;r.onload=function(){i.openDiagram(this.result)},this.$refs.file.value=null}},openFile:function(){this.$refs.file.dispatchEvent(new MouseEvent("click"))},undo:function(){this.bpmnModeler.get("commandStack").undo()},redo:function(){this.bpmnModeler.get("commandStack").redo()},saveFlow:function(){var e=this;this.handXml(),this.fullscreenLoading=!0;var t={method:"post"};t.url=Pe+"/process/rest/deploy/save",t.data={id:this.form.id,processName:this.form.processName,orderId:this.form.orderId,bpmnxml:this.bpmnXml,formKey:this.form.formKey,property:this.form.property,processGroup:this.form.processGroup,description:this.form.description,code:this.form.code,processDes:this.form.processDes},t.headers={token:this.token},this.$axios(t).then((function(t){0===t.data.errorCode?e.$message({message:"保存成功",type:"success"}):e.$message.error("保存失败")})).catch((function(t){e.$message.error("保存失败")})).finally((function(){e.fullscreenLoading=!1}))},releaseFlow:function(){var e=this;this.handXml();var t={method:"post"};t.url=Pe+"/process/rest/deploy/save",t.data={id:this.form.id,processName:this.form.processName,orderId:this.form.orderId,bpmnxml:this.bpmnXml,formKey:this.form.formKey,property:this.form.property,processGroup:this.form.processGroup,description:this.form.description,code:this.form.code,processDes:this.form.processDes},t.headers={token:this.token},this.$axios(t).then((function(t){if(console.log(t),0===t.data.errorCode){e.issueLoading=!0,console.log(e.token);var n={method:"post"};n.url=Pe+"/process/rest/deploy/publish",n.data={processKey:e.processKey},n.headers={token:e.token},e.$axios(n).then((function(t){console.log(t),0===t.data.errorCode?e.$message({message:"发布成功",type:"success"}):e.$message.error("发布失败")})).catch((function(t){e.$message.error("发布失败"),console.log(t)})).finally((function(){e.issueLoading=!1}))}else e.$message.error("保存失败")})).catch((function(t){console.log(t),e.$message.error("保存失败")})).finally((function(){e.fullscreenLoading=!1}))}}}),De=je,Ie=(n("3633"),Object(J["a"])(De,s,o,!1,null,null,null)),Le=Ie.exports,Ae={name:"App",components:{FlowDesigner:Le},methods:{}},Fe=Ae,Me=(n("034f"),Object(J["a"])(Fe,i,a,!1,null,null,null)),Ve=Me.exports,Re=n("5c96"),Ne=n.n(Re),$e=(n("0fae"),n("f0d9")),Ue=n.n($e),Ke=(n("b20f"),n("bc3a")),qe=n.n(Ke),Ge=(n("4ea5"),n("ebed"));r["default"].prototype.$axios=qe.a,r["default"].use(Ne.a,{locale:Ue.a}),r["default"].config.productionTip=!1,r["default"].use(Ge["a"]),new r["default"]({render:function(e){return e(Ve)}}).$mount("#app")},5948:function(e,t,n){"use strict";n("99af"),n("c975");var r=n("5eaa"),i=n("1108"),a=n("e470"),s=n("c8f6"),o=n("dce5"),l=n("dd61"),u=["class","expression","delegateExpression"],c={"flowable:class":void 0,"flowable:expression":void 0,"flowable:delegateExpression":void 0,"flowable:resultVariable":void 0},p={"flowable:decisionRef":void 0,"flowable:decisionRefBinding":"latest","flowable:decisionRefVersion":void 0,"flowable:mapDecisionResult":"resultList","flowable:decisionRefTenantId":void 0},d={"flowable:type":void 0,"flowable:topic":void 0};e.exports=function(e,t,n,m){var f=[{value:"class",name:m("Java Class")},{value:"expression",name:m("Expression")},{value:"delegateExpression",name:m("Delegate Expression")}],b=[{value:"dmn",name:m("DMN")}],v=[{value:"external",name:m("External")}],h=[{value:"connector",name:m("Connector")}],g=[{value:"script",name:m("Script")}],y=n.getImplementationType,E=n.getBusinessObject,x=n.hasDmnSupport,w=n.hasExternalSupport,T=n.hasServiceTaskLikeSupport,S=n.hasScriptSupport,C=[],P=f.concat([]);return x&&(P=P.concat(b)),w&&(P=P.concat(v)),T&&(P=P.concat(h)),S&&(P=P.concat(g)),P.push({value:""}),C.push(r.selectBox({id:"implementation",label:m("Implementation"),selectOptions:P,modelProperty:"implType",get:function(e,t){return{implType:y(e)||""}},set:function(e,n,r){var m=E(e),f=y(e),b=n.implType,v=o({},c);if(-1!==u.indexOf(b)){var h="";-1!==u.indexOf(f)&&(h=m.get("flowable:"+f)),v["flowable:"+b]=h}x&&(v=o(v,p),"dmn"===b&&(v["flowable:decisionRef"]="")),w&&(v=o(v,d),"external"===b&&(v["flowable:type"]="external",v["flowable:topic"]="")),S&&(v["flowable:script"]=void 0,"script"===b&&(v["flowable:script"]=s.createElement("flowable:Script",{},m,t)));var g=[];if(g.push(i.updateBusinessObject(e,m,v)),T){var C=a.getExtensionElements(m,"flowable:Connector");if(g.push(l(C,(function(t){return a.removeEntry(m,e,t)}))),"connector"===b){var P=m.get("extensionElements");P||(P=s.createElement("bpmn:ExtensionElements",{values:[]},m,t),g.push(i.updateBusinessObject(e,m,{extensionElements:P})));var k=s.createElement("flowable:Connector",{},P,t);g.push(i.addAndRemoveElementsFromList(e,P,"values","extensionElements",[k],[]))}}return g}})),C}},"5ac4":function(e,t,n){"use strict";n("a4d3"),n("e01a");var r=n("dce5"),i=n("2769"),a=n("e506").query,s=n("922e").escapeHTML,o=n("d7ec"),l=n("672b"),u=function(e){var t=e.selectOptions,n=e.modelProperty,u=e.customValue||"custom",c=e.customName||"custom "+n,p=e.description,d=function(e){if("undefined"===typeof e[n])return!1;var r=!i(t,(function(t){return e[n]===t.value}));return r},m=r({},e);m.showCustomInput=function(t,n){var r=a('[data-entry="'+e.id+'"] select',n.parentNode);return!!r&&r.value===u},m.get=function(t,r){var i=e.get(t,r),a={};return d(i)?(a[n]=u,a["custom-"+n]=i[n],a):(a[n]=i[n]||"",a)},m.set=function(t,r,i){var a={};return r[n]===u?a[n]=r["custom-"+n]||"":e.emptyParameter&&""===r[n]?a[n]=void 0:a[n]=r[n],e.set(t,a,i)},m.selectOptions.push({name:c,value:u});var f=r({},o(m,m));return f.html+='<div class="bpp-field-wrapper bpp-combo-input" data-show="showCustomInput"><input id="flowable-'+s(e.id)+'-input" type="text" name="custom-'+s(n)+'"  /></div>',p&&(f.html+=l(p)),f};e.exports=u},"5eaa":function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("9911");var r=n("7a6b").getBusinessObject,i=n("a833"),a=n("3805"),s=n("4542"),o=n("d7ec"),l=n("5ac4"),u=n("4974"),c=n("2f32"),p=n("3238"),d=n("361f"),m=n("c20a"),f=n("1108");function b(e){if(!e)throw new Error(e+" must be set.");return e}var v=function(e){var t=function(t){var n=r(t),i={},a=b(e.modelProperty);return i[a]=n.get(a),i},n=function(t,n){var r={},i=b(e.modelProperty);return""!==n[i]?r[i]=n[i]:r[i]=void 0,f.updateProperties(t,r)},i=function(){return{}};return{id:e.id,description:e.description||"",get:e.get||t,set:e.set||n,validate:e.validate||i,html:""}};function h(){}h.textField=function(e){return i(e,v(e))},h.userSelectField=function(e){return a(e,v(e))},h.validationAwareTextField=function(e){return c(e,v(e))},h.checkbox=function(e){return s(e,v(e))},h.textBox=function(e){return u(e,v(e))},h.selectBox=function(e){return o(e,v(e))},h.comboBox=function(e){return l(e)},h.table=function(e){return p(e)},h.label=function(e){return d(e)},h.link=function(e){return m(e)},e.exports=h},"5fd0":function(e,t,n){"use strict";var r=n("5eaa"),i=n("1108");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.textField({id:"candidateStarterGroups",label:a("Candidate Starter Groups"),modelProperty:"candidateStarterGroups",description:a("Specify more than one group as a comma separated list."),get:function(e,t){var n=s(e),r=n.get("flowable:candidateStarterGroups");return{candidateStarterGroups:r||""}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:candidateStarterGroups":t.candidateStarterGroups||void 0})}}),l=r.textField({id:"candidateStarterUsers",label:a("Candidate Starter Users"),modelProperty:"candidateStarterUsers",description:a("Specify more than one user as a comma separated list."),get:function(e,t){var n=s(e),r=n.get("flowable:candidateStarterUsers");return{candidateStarterUsers:r||""}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:candidateStarterUsers":t.candidateStarterUsers||void 0})}});return[o,l]}},"634a":function(e,t,n){"use strict";var r=n("7a6b").getBusinessObject,i=n("e506").query,a=n("e506").closest,s=n("e506").domify,o=n("6cd4"),l=n("c8f6"),u=n("1108"),c=n("922e"),p=c.escapeHTML;function d(e,t){var n=a(e,"div.bpp-properties-tab"),r="select[name=selectedExtensionElement]"+(t?"[id=cam-extensionElements-"+t+"]":"");return i(r,n)}function m(e,t){var n=d(e,t);return{value:(n||{}).value,idx:(n||{}).selectedIndex}}function f(e){return e+="_",c.nextId(e)}var b="create-extension-element",v="remove-extension-element";e.exports=function(e,t,n,i){var a=n.id,c=n.prefix||"elem",h=n.label||a,g=!1!==n.idGeneration||n.idGeneration,y=n.businessObject||r(e),E=n.modelProperty||"id",x=n.getExtensionElements,w=n.createExtensionElement,T="function"===typeof w,S=n.removeExtensionElement,C="function"===typeof S,P=n.onSelectionChange,k=n.hideExtensionElements,O="function"===typeof k,B=n.setOptionLabelValue,_=n.size||5,j=n.resizable,D=n.reference||void 0,I=function(e,t,n,r){if("function"===typeof P)return P(e,t,n,r)},L=function(e){return'<option value="'+p(e)+'" data-value data-name="extensionElementValue">'+p(e)+"</option>"},A=function(e,t){j&&(e.size=t>_?t:_)};return{id:a,html:'<div class="bpp-row bpp-element-list" '+(O?'data-show="hideElements"':"")+'><label for="cam-extensionElements-'+p(a)+'">'+p(h)+'</label><div class="bpp-field-wrapper"><select id="cam-extensionElements-'+p(a)+'"name="selectedExtensionElement" size="'+p(_)+'" data-list-entry-container data-on-change="selectElement"></select>'+(T?'<button class="add" id="cam-extensionElements-create-'+p(a)+'" data-action="createElement"><span>+</span></button>':"")+(C?'<button class="clear" id="cam-extensionElements-remove-'+p(a)+'" data-action="removeElement" data-disable="disableRemove"><span>-</span></button>':"")+"</div></div>",get:function(e,t){var n=x(e,t),r=[];o(n,(function(e){r.push({extensionElementValue:e.get(E)})}));var i=d(t.parentNode,a);return A(i,r.length),r},set:function(e,n,i){var a=this.__action;delete this.__action,y=y||r(e);var s=D&&y.get(D)?y.get(D):y,o=s.get("extensionElements");if(a.id===b){var c=[];return o||(o=l.createElement("bpmn:ExtensionElements",{values:[]},s,t),c.push(u.updateBusinessObject(e,s,{extensionElements:o}))),c.push(w(e,o,a.value,i)),c}if(a.id===v)return S(e,o,a.value,a.idx,i)},createListEntryTemplate:function(e,t,n){return A(n,n.options.length+1),L(e.extensionElementValue)},deselect:function(e,t){var n=d(t,a);n.selectedIndex=-1},getSelected:function(e,t){return m(t,a)},setControlValue:function(e,t,n,r,i,a){t.value=i,B?B(e,t,n,r,i,a):t.text=i},createElement:function(e,t){var n;g&&(n=f(c));var r=d(t,a),i=s(L(n));return r.appendChild(i),r.lastChild.selected="selected",I(e,t),A(r,r.options.length),this.__action={id:b,value:n},!0},removeElement:function(e,t){var n=m(t,a),r=d(t,a);return r.removeChild(r.options[n.idx]),A(r,r.options.length),this.__action={id:v,value:n.value,idx:n.idx},!0},hideElements:function(e,t,n,r){return!k(e,t,n,r)},disableRemove:function(e,t,n,r){return(m(t,a)||{}).idx<0},selectElement:I}}},6552:function(e,t,n){"use strict";n("4160"),n("159b");var r=n("3ff1");function i(){this._templates={},this.set=function(e){var t=this._templates={};return e.forEach((function(e){t[e.id]=e})),this},this.get=function(e){return this._templates[e]},this.getAll=function(){return r(this._templates)}}e.exports=i},"672b":function(e,t,n){"use strict";n("a15b"),n("ac1f");var r=n("922e").escapeHTML;e.exports=function(e){var t,n,i,a=[],s=/(?:\[([^\]]+)\]\((https?:\/\/[^"<>\]]+)\))|(?:<a href="(https?:\/\/[^"<>]+)">([^<]*)<\/a>)/gi,o=0;while(t=s.exec(e))t.index>o&&a.push(r(e.substring(o,t.index))),n=t[2]||t[3],i=t[1]||t[4],a.push('<a href="'+n+'" target="_blank">'+r(i)+"</a>"),o=t.index+t[0].length;return o<e.length&&a.push(r(e.substring(o))),'<div class="bpp-field-description">'+a.join("")+"</div>"}},6892:function(e,t,n){"use strict";var r=n("6cd4"),i={"properties-panel.update-businessobject":n("6dde"),"properties-panel.create-and-reference":n("bc4f"),"properties-panel.create-businessobject-list":n("9aa0"),"properties-panel.update-businessobject-list":n("3c4c"),"properties-panel.multi-command-executor":n("afcf")};function a(e,t){e.on("diagram.init",(function(){r(i,(function(e,n){t.registerHandler(n,e)}))}))}a.$inject=["eventBus","commandStack"],e.exports={__init__:[a]}},"6af2":function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("18b5"),s=n("4f31");e.exports=function(e,t,n,o){var l=i(t);(r(t,"flowable:JobPriorized")||r(t,"bpmn:Participant")&&l.get("processRef"))&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},o))),r(t,"flowable:AsyncCapable")&&(e.entries=e.entries.concat(s(t,n,{getBusinessObject:i},o)))}},"6d8d":function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("ba77"),i=n("ee81");e.exports=function(e,t,n,a){var s=r.getServiceTaskLikeBusinessObject(t);if(s){var o=i(t,n,a,{businessObject:s});o&&o.length>0&&(e.entries=e.entries.concat(o))}}},"6dde":function(e,t,n){"use strict";var r=n("50ca"),i=n("7a6b").is,a=n("ec69"),s=n("6cd4");function o(e){this._elementRegistry=e}function l(e){var t=e;while(t.$parent)t=t.$parent;return t}function u(e,t){return r(t,(function(t,n){return t[n]=e.get(n),t}),{})}function c(e,t){s(t,(function(t,n){e.set(n,t)}))}o.$inject=["elementRegistry"],e.exports=o,o.prototype.execute=function(e){var t=e.element,n=e.businessObject,r=l(n).rootElements,o=e.referenceType,p=e.referenceProperty,d=[t];if(!t)throw new Error("element required");if(!n)throw new Error("businessObject required");var m=e.properties,f=e.oldProperties||u(n,a(m));return"undefined"!==typeof o&&"undefined"!==typeof p&&s(r,(function(e){i(e,o)&&e.id===m[p]&&(m[p]=e)})),c(n,m),e.oldProperties=f,e.changed=d,d},o.prototype.revert=function(e){var t=e.oldProperties,n=e.businessObject;return c(n,t),e.changed}},"70aa":function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("1827"),i=n("dce5");e.exports=function(e,t,n,a,s){e.entries=e.entries.concat(r(t,n,i({},a),s))}},7602:function(e,t,n){"use strict";n("c975"),n("ac1f"),n("5319"),n("1276");var r=n("3fb5"),i=n("e581").getTemplate,a=n("0693"),s=1100;function o(e,t){a.call(this,e,s),this.isEntryVisible=function(e,n){var r=i(n,t);if(r&&!p(e,r))return!1},this.isPropertyEditable=function(e,n,r){var a=i(r,t);if(a&&!d(e,a))return!1}}o.$inject=["eventBus","elementTemplates"],r(o,a),e.exports=o;var l=/^custom-/,u={_all:!1,id:!0,name:!0};function c(e){return l.test(e.id)}function p(e,t){var n=e.id;if("elementTemplate-chooser"===n||c(e))return!0;var r=t.entriesVisible||u;if("boolean"===typeof r)return r;var i=r._all||!1,a=r[n];return!0===i&&!1!==a||!1===i&&!0===a}function d(e,t){var n;return!c(e)||(n=m(t,e),n&&!1!==n.editable)}function m(e,t){var n,r=t.id.replace("custom-"+e.id+"-","");if(-1!==r.indexOf("-")){var i=r.split("-");if(2===i.length){var a=i[0].replace(/_/g,":");if(n=parseInt(i[1],10),a&&!isNaN(n))return e.scopes[a].properties[n]}}else if(n=parseInt(r,10),!isNaN(n))return e.properties[n];throw new Error("cannot extract property index for entry <"+t.id+">")}},"7da0":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("b9b5"),i=n("c8f6"),a=n("1108");e.exports=function(e,t,n,s){var o=r(t,n,{id:"properties",modelProperties:["name","value"],labels:[s("Name"),s("Value")],getParent:function(e,t,n){return n.extensionElements},createParent:function(e,t){var r=i.createElement("bpmn:ExtensionElements",{values:[]},t,n),s=a.updateBusinessObject(e,t,{extensionElements:r});return{cmd:s,parent:r}}},s);o&&e.entries.push(o)}},"7dc1":function(e,t,n){"use strict";var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("6cd4"),s={};e.exports=s,s.getEventDefinition=function(e,t){var n=r(e),s=null;return n.eventDefinitions&&a(n.eventDefinitions,(function(e){i(e,t)&&(s=e)})),s},s.getTimerEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:TimerEventDefinition")},s.getMessageEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:MessageEventDefinition")},s.getSignalEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:SignalEventDefinition")},s.getErrorEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:ErrorEventDefinition")},s.getEscalationEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:EscalationEventDefinition")},s.getCompensateEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:CompensateEventDefinition")},s.getLinkEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:LinkEventDefinition")},s.getConditionalEventDefinition=function(e){return this.getEventDefinition(e,"bpmn:ConditionalEventDefinition")}},8124:function(e,t,n){"use strict";n("c975");var r=n("5eaa"),i=n("1108"),a=["class","expression","delegateExpression"],s={class:"flowable:class",expression:"flowable:expression",delegateExpression:"flowable:delegateExpression"};function o(e){return-1!==a.indexOf(e)}function l(e){return s[e]}e.exports=function(e,t,n,a){var s=n.getImplementationType,u=n.getBusinessObject;function c(e){switch(e){case"class":return a("Java Class");case"expression":return a("Expression");case"delegateExpression":return a("Delegate Expression");default:return""}}var p=r.textField({id:"delegate",label:a("Value"),dataValueLabel:"delegationLabel",modelProperty:"delegate",get:function(e,t){var n=u(e),r=s(e),i=l(r),a=c(r);return{delegate:n.get(i),delegationLabel:a}},set:function(e,t,n){var r=u(e),a=s(e),o=l(a),c={};return c[o]=t.delegate||"",i.updateBusinessObject(e,r,c)},validate:function(e,t,n){return o(s(e))&&!t.delegate?{delegate:a("Must provide a value")}:{}},hidden:function(e,t){return!o(s(e))}});return[p]}},"82ac":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("634a"),s=n("e470"),o=n("1108"),l=n("c8f6"),u=n("ba77");function c(e,t){return e&&s.getExtensionElements(e,t)||[]}var p="flowable:ExecutionListener",d="flowable:TaskListener";e.exports=function(e,t,n,m){var f,b={class:m("Java Class"),expression:m("Expression"),delegateExpression:m("Delegate Expression"),script:m("Script")},v={getSelectedListener:y},h=v.entries=[],g=u.isSequenceFlow(e);function y(e,t){var n=T&&T.getSelected(e,t)||{idx:-1},r=c(f,p)[n.idx];return!r&&S&&(n=S.getSelected(e,t),r=c(f,d)[n.idx]),r}var E=function(e){return function(t,n,r,i,a,s){var o=c(f,e),l=o[s],p=u.getImplementationType(l),d=l.get("event")?l.get("event"):"<empty>",m=(d||"*")+" : "+(b[p]||"");r.text=m}},x=function(e,n,r){return function(e,i,a){var s={event:r,class:""},u=l.createElement(n,s,i,t);return o.addElementsTolist(e,i,"values",[u])}},w=function(e,t){return function(e,n,r,i){var a=c(f,t),o=a[i];if(o)return s.removeEntry(f,e,o)}};if((r(e,"bpmn:FlowElement")||r(e,"bpmn:Process")||r(e,"bpmn:Participant"))&&(f=i(e),r(e,"bpmn:Participant")&&(e=e.processRef,f=f.get("processRef")),f)){var T=a(e,t,{id:"executionListeners",label:m("Execution Listener"),modelProperty:"name",idGeneration:"false",reference:"processRef",createExtensionElement:x(e,p,g?"take":"start"),removeExtensionElement:w(e,p),getExtensionElements:function(e){return c(f,p)},onSelectionChange:function(e,t,n,r){S&&S.deselect(e,t)},setOptionLabelValue:E(p)});h.push(T)}if(r(e,"bpmn:UserTask")){f=i(e);var S=a(e,t,{id:"taskListeners",label:m("Task Listener"),modelProperty:"name",idGeneration:"false",createExtensionElement:x(e,d,"create"),removeExtensionElement:w(e,d),getExtensionElements:function(e){return c(f,d)},onSelectionChange:function(e,t,n,r){T.deselect(e,t)},setOptionLabelValue:E(d)});h.push(S)}return v}},8319:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("ba77"),i=n("ee7d"),a=n("5eaa"),s=n("1108");function o(e){return r.getImplementationType(e)}function l(e){return r.getServiceTaskLikeBusinessObject(e)}function u(e){return i.getConnector(e)}function c(e){return"connector"===o(e)}e.exports=function(e,t,n,r){e.entries.push(a.textField({id:"connectorId",label:r("Connector Id"),modelProperty:"connectorId",get:function(e,t){var n=l(e),r=n&&u(n),i=r&&r.get("connectorId");return{connectorId:i}},set:function(e,t,n){var r=l(e),i=u(r);return s.updateBusinessObject(e,i,{connectorId:t.connectorId||void 0})},validate:function(e,t,n){return c(e)&&!t.connectorId?{connectorId:r("Must provide a value")}:{}},hidden:function(e,t){return!c(e)}}))}},"85ec":function(e,t,n){},"8b9e":function(e,t,n){"use strict";n("99af"),n("b0c0"),n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("1108"),a=n("7dc1"),s=n("922e"),o=n("7a6b").getBusinessObject,l=n("7a6b").is,u=n("6cd4"),c=n("2769"),p=n("9380");function d(e){return f(e,"bpmn:Activity")}function m(e){return f(e,"bpmn:BoundaryEvent")}function f(e,t){return s.filterElementsByType(e.flowElements,t)}function b(e,t){var n=e.id,r=c(t,(function(e){var t=a.getCompensateEventDefinition(e),r=e.attachedToRef;return t&&r&&r.id===n}));return!!r}function v(e,t){return l(e,"bpmn:SubProcess")&&!e.triggeredByEvent||l(e,"bpmn:CallActivity")||b(e,t)}function h(e){var t=m(e);return p(d(e),(function(e){return v(e,t)}))}function g(e){var t=o(e),n=t.$parent,r=h(n);return l(n,"bpmn:SubProcess")&&n.triggeredByEvent&&(n=n.$parent,n&&(r=r.concat(h(n)))),r}function y(e){var t=[{value:""}],n=g(e);return u(n,(function(e){var n=e.id,r=(e.name?e.name+" ":"")+"(id="+n+")";t.push({value:n,name:r})})),t}e.exports=function(e,t,n,a,s,l){e.entries.push(r.checkbox({id:"wait-for-completion",label:l("Wait for Completion"),modelProperty:"waitForCompletion",get:function(e,t){return{waitForCompletion:a.waitForCompletion}},set:function(e,t){return t.waitForCompletion=t.waitForCompletion||!1,i.updateBusinessObject(e,a,t)}})),e.entries.push(r.selectBox({id:"activity-ref",label:l("Activity Ref"),selectOptions:y(t),modelProperty:"activityRef",get:function(e,t){var n=a.activityRef;return n=n&&n.id,{activityRef:n||""}},set:function(e,t){var n=t.activityRef||void 0;return n=n&&o(s.get(n)),i.updateBusinessObject(e,a,{activityRef:n})}}))}},"922e":function(e,t,n){"use strict";n("b0c0"),n("ac1f"),n("5319");var r=n("e506").query,i=n("e506").clear,a=n("7a6b").is,s=n("6cd4"),o=n("e506").domify,l=n("e6a4").default,u=/\s/,c=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,p=/^[a-z_][\w-.]*$/i,d=/\$\{([^}]*)\}/g,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function f(e){if(e.selectedIndex>=0)return e.options[e.selectedIndex].value}function b(e,t){var n=r(e,t);return f(n)}function v(e){var t=e;while(t.$parent)t=t.$parent;return t}function h(e,t){var n=e||[],r=[];return s(n,(function(e){a(e,t)&&r.push(e)})),r}function g(e,t){var n=v(e);return h(n.rootElements,t)}function y(e){while(e.firstChild)e.removeChild(e.firstChild)}function E(e){return e.push({label:"",value:"",name:""})}function x(e,t){var n=[],r=g(e,t);return s(r,(function(e){n.push({label:(e.name||"")+" (id="+e.id+")",value:e.id,name:e.name})})),n}function w(e,t,n,a){var l=x(t,n);E(l);var u=r(e,a);return i(u),s(l,(function(e){var t=o('<option value="'+B(e.value)+'">'+B(e.label)+"</option>");u.appendChild(t)})),l}function T(e,t,n){var r=e.$model.ids.assigned(t),i=r&&r!==e;return!t||i?n("Element must have an unique id."):S(t,n)}function S(e,t){return e=P(e),C(e)?t("Id must not contain spaces."):p.test(e)?void 0:c.test(e)?t("Id must not contain prefix."):t("Id must be a valid QName.")}function C(e){return u.test(e)}function P(e){return e.replace(d,"$1")}function k(e){var t=new l([32,32,1]);return t.nextPrefixed(e)}function O(e){var t,n="click";if(document.createEvent){try{t=new MouseEvent(n,{view:window,bubbles:!0,cancelable:!0})}catch(r){t=document.createEvent("MouseEvent"),t.initEvent(n,!0,!0)}return e.dispatchEvent(t)}return t=document.createEventObject(),e.fireEvent("on"+n,t)}function B(e){return e=""+e,e&&e.replace(/[&<>"']/g,(function(e){return m[e]}))}e.exports.selectedOption=f,e.exports.selectedType=b,e.exports.getRoot=v,e.exports.filterElementsByType=h,e.exports.findRootElementsByType=g,e.exports.removeAllChildren=y,e.exports.addEmptyParameter=E,e.exports.refreshOptionsModel=x,e.exports.updateOptionsDropDown=w,e.exports.isIdValid=T,e.exports.validateId=S,e.exports.containsSpace=C,e.exports.nextId=k,e.exports.triggerClickEvent=O,e.exports.escapeHTML=B},9366:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").getBusinessObject,i=n("c8f6"),a=n("e470"),s=n("ee7d"),o=n("1108"),l=n("634a");function u(e,t){return s.getInputOutput(e,t)}function c(e){return s.getConnector(e)}function p(e,t){return s.getInputParameters(e,t)}function d(e,t){return s.getOutputParameters(e,t)}function m(e,t,n){return s.getInputParameter(e,t,n)}function f(e,t,n){return s.getOutputParameter(e,t,n)}function b(e,t,n,r){return i.createElement(e,r,t,n)}function v(e,t,n){return b("flowable:InputOutput",e,t,n)}function h(e,t,n,r){return b(e,t,n,r)}function g(e,t){return s.isInputOutputSupported(e,t)}function y(e,t){return s.areOutputParametersSupported(e,t)}e.exports=function(e,t,n,i){var s={"flowable:Map":i("Map"),"flowable:List":i("List"),"flowable:Script":i("Script")};n=n||{};var b=!!n.insideConnector,E=n.idPrefix||"",x=function(e,t){var n=k&&k.getSelected(e,t)||{idx:-1},r=m(e,b,n.idx);return!r&&O&&(n=O.getSelected(e,t),r=f(e,b,n.idx)),r},w={getSelectedParameter:x},T=w.entries=[];if(!g(e))return w;var S=function(e,n,r){return function(r,i,a){var s=[],l=u(r,b);if(!l){var p=b?c(r):i;l=v(p,t,{inputParameters:[],outputParameters:[]}),b?s.push(o.updateBusinessObject(r,p,{inputOutput:l})):s.push(o.addAndRemoveElementsFromList(r,i,"values","extensionElements",[l],[]))}var d=h(e,l,t,{name:a});return s.push(o.addElementsTolist(r,l,n,[d])),s}},C=function(e,t,n){return function(i,s,l,p){var d=u(i,b),m=e(i,b,p),f=[];f.push(o.removeElementsFromList(i,d,t,null,[m]));var v=d.get(t).length-1,h=(d.get(n)||[]).length;if(!v&&!h)if(b){var g=c(i);f.push(o.updateBusinessObject(i,g,{inputOutput:void 0}))}else f.push(a.removeEntry(r(i),i,d));return f}},P=function(e){return function(t,n,r,i,a,o){var l=e(t,b,o),u="Text",c=l.get("definition");if("undefined"!==typeof c){var p=c.$type;u=s[p]}r.text=(a||"")+" : "+u}},k=l(e,t,{id:E+"inputs",label:i("Input Parameters"),modelProperty:"name",prefix:"Input",resizable:!0,createExtensionElement:S("flowable:InputParameter","inputParameters"),removeExtensionElement:C(m,"inputParameters","outputParameters"),getExtensionElements:function(e){return p(e,b)},onSelectionChange:function(e,t,n,r){O&&O.deselect(e,t)},setOptionLabelValue:P(m)});if(T.push(k),y(e,b)){var O=l(e,t,{id:E+"outputs",label:i("Output Parameters"),modelProperty:"name",prefix:"Output",resizable:!0,createExtensionElement:S("flowable:OutputParameter","outputParameters"),removeExtensionElement:C(f,"outputParameters","inputParameters"),getExtensionElements:function(e){return d(e,b)},onSelectionChange:function(e,t,n,r){k.deselect(e,t)},setOptionLabelValue:P(f)});T.push(O)}return w}},"949b":function(e,t,n){e.exports=n("e5de")},"999c":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("1108"),a=n("ba77"),s=n("ed92");e.exports=function(e,t,n,o,l){var u={class:l("Java Class"),expression:l("Expression"),delegateExpression:l("Delegate Expression"),script:l("Script")};o=o||{};var c=o.getSelectedListener,p="class",d="expression",m="delegateExpression",f="script",b=a.isSequenceFlow(t)?[{name:l("take"),value:"take"}]:[{name:l("start"),value:"start"},{name:l("end"),value:"end"}],v=[{name:l("create"),value:"create"},{name:l("assignment"),value:"assignment"},{name:l("complete"),value:"complete"},{name:l("delete"),value:"delete"}],h=function(e,t){return c(e,t)};e.entries.push(r.selectBox({id:"listener-event-type",label:l("Event Type"),modelProperty:"eventType",emptyParameter:!1,get:function(e,t){var n=c(e,t),r=n&&n.get("event");return{eventType:r}},set:function(e,t,n){var r=t.eventType;return i.updateBusinessObject(e,c(e,n),{event:r})},selectOptions:function(e,t){var n,r=c(e,t);return a.isTaskListener(r)?n=v:a.isExecutionListener(r)&&(n=b),n},hidden:function(e,t){return!h(e,t)}})),e.entries.push(r.selectBox({id:"listener-type",label:l("Listener Type"),selectOptions:[{value:p,name:l("Java Class")},{value:d,name:l("Expression")},{value:m,name:l("Delegate Expression")},{value:f,name:l("Script")}],modelProperty:"listenerType",emptyParameter:!1,get:function(e,t){var n=c(e,t);return{listenerType:a.getImplementationType(n)}},set:function(e,t,r){var a=c(e,r),s=t.listenerType||void 0,o={};return o[p]=s===p?"":void 0,o[d]=s===d?"":void 0,o[m]=s===m?"":void 0,o[f]=s===f?n.create("flowable:Script"):void 0,i.updateBusinessObject(e,a,o)},hidden:function(e,t){return!h(e,t)}})),e.entries.push(r.textField({id:"listener-value",dataValueLabel:"listenerValueLabel",modelProperty:"listenerValue",get:function(e,t){var n={},r=c(e,t),i=a.getImplementationType(r);return n.listenerValueLabel=u[i]||"",n.listenerValue=r&&r.get(i)||void 0,n},set:function(e,t,n){var r={},s=c(e,n),o=a.getImplementationType(s);return r[o]=t.listenerValue||"",i.updateBusinessObject(e,s,r)},hidden:function(e,t){var n=c(e,t);return!n||n.script},validate:function(e,t){var n=t.listenerValue,r={};return n||(r.listenerValue=l("Must provide a value")),r}}));var g=s("scriptFormat","value",!0,l);e.entries.push({id:"listener-script-value",html:'<div data-show="isScript">'+g.template+"</div>",get:function(e,t){var n=c(e,t);return n&&n.script?g.get(e,n.script):{}},set:function(e,t,n){var r=c(e,n),a=g.set(e,t,r);return i.updateBusinessObject(e,r.script,a)},validate:function(e,t,n){var r=c(e,n);return r&&r.script?g.validate(e,t):{}},isScript:function(e,t){var n=c(e,t);return n&&n.script},script:g})}},"99bb":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("7a6b").is,a=n("7a6b").getBusinessObject;e.exports=function(e,t,n){var s=a(t);s&&i(t,"flowable:Initiator")&&!i(t.parent,"bpmn:SubProcess")&&e.entries.push(r.textField({id:"initiator",label:n("Initiator"),modelProperty:"initiator"}))}},"9aa0":function(e,t,n){"use strict";n("d3b7"),n("25f0");var r=n("6cd4"),i=n("c8f6");function a(e,t){this._elementRegistry=e,this._bpmnFactory=t}function s(e,t){if(!e)throw new Error(t+" required");return e}function o(e,t){if(!e||"[object Array]"!==Object.prototype.toString.call(e))throw new Error(t+" needs to be a list");return e}a.$inject=["elementRegistry","bpmnFactory"],e.exports=a,a.prototype.execute=function(e){var t=s(e.currentObject,"currentObject"),n=s(e.propertyName,"propertyName"),a=o(e.newObjects,"newObjects"),l=[e.element],u=[],c=this;return r(a,(function(e){var n=i.createElement(e.type,e.properties,t,c._bpmnFactory);u.push(n)})),e.childObject=u,e.previousChilds=t[n],t[n]=u,e.changed=l,l},a.prototype.revert=function(e){var t=e.currentObject,n=e.propertyName,r=e.previousChilds;return t.set(n,r),e.changed}},"9bcf":function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("4160"),n("c975"),n("b0c0"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("159b"),n("ddb0");var r=n("dce5"),i=n("5eaa"),a=n("7a6b").getBusinessObject,s=n("e581").getTemplate,o=n("1108"),l=n("c8f6"),u=n("e581").findExtension,c=n("e581").findExtensions,p=n("e581").findInputParameter,d=n("e581").findOutputParameter,m=n("e581").findFlowableProperty,f=n("e581").findFlowableInOut,b=n("bdeb").createFlowableProperty,v=n("bdeb").createInputParameter,h=n("bdeb").createOutputParameter,g=n("bdeb").createFlowableIn,y=n("bdeb").createFlowableOut,E=n("bdeb").createFlowableInWithBusinessKey,x=n("bdeb").createFlowableFieldInjection,w="flowable:property",T="flowable:inputParameter",S="flowable:outputParameter",C="flowable:in",P="flowable:out",k="flowable:in:businessKey",O="flowable:executionListener",B="flowable:field",_=["Boolean","Integer","String"],j=[w,T,S,C,P,k,B],D=[T,S],I=[C,P,k];function L(e,t){return function(n){var r=M(n,t);return $(e,r)}}function A(e,t,n){return function(r,i){var a=i[e];return V(r,t,a,n)}}function F(e,t,n){return function(r,i){var a=i[e],s=R(a,t,n);if(s)return $(e,s)}}function M(e,t){var n,r,i,s,o,l,b,v=a(e),h=t.binding,g=t.scope,y=h.type,E=h.name,x=t.value||"";if(g&&(v=u(v,g.name),!v))return x;if("property"===y){var _=v.get(E);return"conditionExpression"===E?_?_.body:x:"undefined"!==typeof _?_:x}if(y===w)return n=g?v.get("properties"):u(v,"flowable:Properties"),n&&(r=m(n,h),r)?r.value:x;if(-1!==D.indexOf(y)&&(i=g?v.get("inputOutput"):u(v,"flowable:InputOutput"),!i))return x;if(y===T){if(s=p(i,h),s){if(!h.scriptFormat)return s.value||"";if(s.definition)return s.definition.value}return x}if(h.type===S)return s=d(i,h),s?s.name:x;if(-1!=I.indexOf(y)){if(o=f(v,h),o){if(y===k)return o.businessKey;if(y===P)return o.target;if(y===C)return o[h.expression?"sourceExpression":"source"]}return x}if(y===O)return l=g?v.get("executionListener"):u(v,"flowable:ExecutionListener"),l.script.value;if(B===y){var j=c(v,["flowable:Field"]);return j.forEach((function(e){e.name===h.name&&(b=e)})),b?b.string||b.expression:""}throw q(t)}function V(e,t,n,r){var i,s,k,O,L,A,F,M,V,R,N=a(e),U=t.binding,K=t.scope,q=U.type,G=U.name,H=[];if(-1!==j.indexOf(q)&&(s=N.get("extensionElements"),s||(s=l.createElement("bpmn:ExtensionElements",null,e,r),H.push(o.updateBusinessObject(e,N,$("extensionElements",s))))),K&&(N=u(N,K.name),N||(N=l.createElement(K.name,null,e,r),H.push(o.addElementsTolist(N,s,"values",[N])))),"property"===q){if("conditionExpression"===G)i=l.createElement("bpmn:FormalExpression",{body:n,language:U.scriptFormat},N,r);else{var z=N.$descriptor.propertiesByName[G],X=z.type;if(-1===_.indexOf(X))throw new Error("cannot set moddle type <"+X+">");"Boolean"===X?i=!!n:"Integer"===X?(i=parseInt(n,10),isNaN(i)&&(i=void 0)):i=n}void 0!==i&&H.push(o.updateBusinessObject(e,N,$(G,i)))}if(q===w&&(k=K?N.get("properties"):u(s,"flowable:Properties"),k||(k=l.createElement("flowable:Properties",null,N,r),K?H.push(o.updateBusinessObject(e,N,{properties:k})):H.push(o.addElementsTolist(e,s,"values",[k]))),O=m(k,U),L=b(U,n,r),H.push(o.addAndRemoveElementsFromList(e,k,"values",null,[L],O?[O]:[]))),-1!==D.indexOf(q)&&(A=K?N.get("inputOutput"):u(s,"flowable:InputOutput"),A||(A=l.createElement("flowable:InputOutput",null,N,r),K?H.push(o.updateBusinessObject(e,N,{inputOutput:A})):H.push(o.addElementsTolist(e,s,"values",A)))),q===T&&(F=p(A,U),M=v(U,n,r),H.push(o.addAndRemoveElementsFromList(e,A,"inputParameters",null,[M],F?[F]:[]))),q===S&&(F=d(A,U),M=h(U,n,r),H.push(o.addAndRemoveElementsFromList(e,A,"outputParameters",null,[M],F?[F]:[]))),-1!==I.indexOf(q)&&(V=f(N,U),R=q===C?g(U,n,r):q===P?y(U,n,r):E(U,n,r),H.push(o.addAndRemoveElementsFromList(e,s,"values",null,[R],V?[V]:[]))),q===B){var J=c(N,["flowable:Field"]),W=[];J.length>0?J.forEach((function(e){e.name===U.name?W.push(x(U,n,r)):W.push(e)})):W.push(x(U,n,r)),H.push(o.addAndRemoveElementsFromList(e,s,"values",null,W,J||[]))}if(H.length)return H;console.warn("no update",e,t,n)}function R(e,t,n){var r=t.constraints||{};if(r.notEmpty&&K(e))return n("Must not be empty");if(r.maxLength&&e.length>r.maxLength)return n("Must have max length {length}",{length:r.maxLength});if(r.minLength&&e.length<r.minLength)return n("Must have min length {length}",{length:r.minLength});var i,a=r.pattern;return a&&("string"!==typeof a&&(i=a.message,a=a.value),!U(e,a))?i||n("Must match pattern {pattern}",{pattern:a}):void 0}function N(e,t){return t?r({},e,{scope:{name:t}}):e}function $(e,t){var n={};return n[e]=t,n}function U(e,t){var n=new RegExp(t);return n.test(e)}function K(e){return!e||/^\s*$/.test(e)}function q(e){var t=e.binding;return new Error("unknown binding: <"+t.type+">")}e.exports=function(e,t,n,r){var a=s(e,t);if(!a)return[];var o,l,u=function(e,t,a){var s,o=t.type,l={id:e,description:t.description,label:t.label?r(t.label):t.label,modelProperty:e,get:L(e,t),set:A(e,t,n),validate:F(e,t,r)};return"Boolean"===o&&(s=i.checkbox(l)),"String"===o&&(s=i.textField(l)),"Text"===o&&(s=i.textBox(l)),"Dropdown"===o&&(l.selectOptions=t.choices,s=i.selectBox(l)),s},c=[],p={id:"customField",label:r("Custom Fields"),entries:[]};if(a.properties.forEach((function(e,t){o="custom-"+a.id+"-"+t,l=u(o,e,t),l&&p.entries.push(l)})),p.entries.length>0&&c.push(p),a.scopes)for(var d in a.scopes){var m=a.scopes[d],f=d.replace(/:/g,"_"),b={id:"customField-"+f,label:r("Custom Fields for scope: ")+d,entries:[]};m.properties.forEach((function(e,t){var n="custom-"+a.id+"-"+f+"-"+t,r=N(e,d);l=u(n,r,t),l&&b.entries.push(l)})),b.entries.length>0&&c.push(b)}return c},e.exports.getPropertyValue=M,e.exports.setPropertyValue=V},"9c32":function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("dd28"),i=n("ef82");e.exports=function(e,t,n,a,s){e.entries=e.entries.concat(r(t,a,n,{label:s("Signal"),elementName:"signal",elementType:"bpmn:Signal",referenceProperty:"signalRef",newElementIdPrefix:"Signal_"})),e.entries=e.entries.concat(i(t,a,n,{id:"signal-element-name",label:s("Signal Name"),referenceProperty:"signalRef",modelProperty:"name",shouldValidate:!0}))}},a08f:function(e,t,n){"use strict";n("a623"),n("4de4"),n("4160"),n("c975"),n("a15b"),n("b0c0"),n("159b");var r=n("6747"),i=n("1a8c"),a="Dropdown",s=["String","Text","Boolean","Hidden",a],o="property",l="flowable:property",u="flowable:inputParameter",c="flowable:outputParameter",p="flowable:in",d="flowable:out",m="flowable:in:businessKey",f="flowable:executionListener",b="flowable:field",v=[o,l,u,c,p,d,m,f,b];function h(){this._templatesById={},this._validTemplates=[],this._errors=[],this.addAll=function(e){return r(e)?e.forEach(this.add,this):this._logError("templates must be []"),this},this.add=function(e){var t=this._validateTemplate(e);return t||(this._templatesById[e.id]=e,this._validTemplates.push(e)),this},this._validateTemplate=function(e){var t,n=e.id,i=e.appliesTo,a=e.properties,s=e.scopes;return n?n in this._templatesById?this._logError("template id <"+n+"> already used"):(r(i)||(t=this._logError("missing appliesTo=[]",e)),r(a)?this._validateProperties(a)||(t=new Error("invalid properties")):t=this._logError("missing properties=[]",e),s&&(t=this._validateScopes(e,s)),t):this._logError("missing template id")},this._validateScopes=function(e,t){var n,a,s;if(!i(t)||r(t))return this._logError("invalid scopes, should be scopes={}",e);for(s in t)a=t[s],i(a)&&!r(a)||(n=this._logError("invalid scope, should be scope={}",e)),r(a.properties)?this._validateProperties(a.properties)||(n=new Error("invalid properties in scope <"+s+">")):n=this._logError("missing properties=[] in scope <"+s+">",e);return n},this._validateProperties=function(e){var t=e.filter(this._validateProperty,this);return e.length===t.length},this._validateProperty=function(e){var t,n=e.type,i=e.binding,m=i.type;return-1===s.indexOf(n)&&(t=this._logError("invalid property type <"+n+">; must be any of { "+s.join(", ")+" }")),n===a&&m!==f&&(r(e.choices)?e.choices.every(g)||(t=this._logError("{ name, value } must be specified for "+a+" choices")):t=this._logError("must provide choices=[] with "+a+" type")),i?(-1===v.indexOf(m)&&(t=this._logError("invalid property.binding type <"+m+">; must be any of { "+v.join(", ")+" }")),m!==o&&m!==l&&m!==u&&m!==b||i.name||(t=this._logError("property.binding <"+m+"> requires name")),m===c&&(i.source||(t=this._logError("property.binding <"+m+"> requires source"))),m===p&&(i.variables||i.target||(t=this._logError("property.binding <"+m+"> requires variables or target"))),m===d&&(i.variables||i.source||i.sourceExpression||(t=this._logError("property.binding <"+m+"> requires variables, sourceExpression or source"))),m===f&&"Hidden"!==n&&(t=this._logError("invalid property type <"+n+"> for "+f+"; must be <Hidden>")),!t):this._logError("property missing binding")},this._logError=function(e,t){return"string"===typeof e&&(t&&(e="template(id: "+t.id+") "+e),e=new Error(e)),this._errors.push(e),e},this.getErrors=function(){return this._errors},this.getValidTemplates=function(){return this._validTemplates}}function g(e){return"name"in e&&"value"in e}e.exports=h},a134:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("1108"),a=n("7a6b"),s=a.is,o=a.getBusinessObject;e.exports=function(e,t,n,a){var l,u=function(e){return function(t){var n=e&&e.get("documentation"),r=n&&n.length>0?n[0].text:"";return{documentation:r}}},c=function(e){return function(t,r){var a=[];return"undefined"!==typeof r.documentation&&""!==r.documentation&&a.push(n.create("bpmn:Documentation",{text:r.documentation})),i.setList(t,e,"documentation",a)}},p=r.textBox({id:"documentation",label:a("Element Documentation"),modelProperty:"documentation"});if(p.set=c(o(t)),p.get=u(o(t)),e.entries.push(p),s(t,"bpmn:Participant")&&(l=o(t).processRef,l)){var d=r.textBox({id:"process-documentation",label:a("Process Documentation"),modelProperty:"documentation"});d.set=c(l),d.get=u(l),e.entries.push(d)}}},a333:function(e,t,n){"use strict";n("99af"),n("13d5"),n("b0c0"),n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("7a6b").is,a=n("e581").getTemplate,s=n("e581").getTemplateId,o=n("2769"),l=n("e581").TEMPLATE_ATTR;function u(e,t){return t.reduce((function(t,n){return t||i(e,n)}),!1)}function c(e,t,n){var r=a(e,n),i=n.get(t);if(r!==i)return{cmd:"propertiesPanel.flowable.changeTemplate",context:{element:e,oldTemplate:r,newTemplate:i}}}function p(e,t,n){var r=s(e),i={name:"",value:""},a=t.getAll().reduce((function(t,r){return u(e,r.appliesTo)?t.concat({name:n(r.name),value:r.id,isDefault:r.isDefault}):t}),[i]),l=o(a,(function(e){return m(e)})),c=o(a,(function(e){return e.value===r}));if(r&&!c&&(c=d(r,n),a.push(c)),!l)return a;var p=[];return r||p.push({name:"",value:""}),c&&c!==l&&p.push(c),p.push(l),p}function d(e,t){return{name:t("[unknown template: {templateId}]",{templateId:e}),value:e}}function m(e){return e.isDefault}e.exports=function(e,t,n,i){var s=p(t,n,i);(1!==s.length||s[0].isDefault)&&e.entries.push(r.selectBox({id:"elementTemplate-chooser",label:i("Element Template"),modelProperty:"flowable:modelerTemplate",selectOptions:s,set:function(e,t){return c(e,t[l],n)},disabled:function(){var e=a(t,n);return e&&m(e)}}))}},a6da:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("18aa9"),i=n("c8f6"),a=n("1108");e.exports=function(e,t,n,s){var o=r(t,n,{id:"buttons",modelProperties:["name","code","next"],labels:[s("Name"),s("Code"),s("Next")],getParent:function(e,t,n){return n.extensionElements},createParent:function(e,t){var r=i.createElement("bpmn:ExtensionElements",{values:[]},t,n),s=a.updateBusinessObject(e,t,{extensionElements:r});return{cmd:s,parent:r}}},s);o&&e.entries.push(o)}},a76b:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("143b");e.exports=function(e,t,n,s){i(t,"flowable:AsyncCapable")&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:r},s)))}},a7a2:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("9366");e.exports=function(e,t,n,i){var a=r(t,n,{idPrefix:"connector-",insideConnector:!0},i);return e.entries=e.entries.concat(a.entries),{getSelectedParameter:a.getSelectedParameter}}},a833:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("b0c0");var r=n("922e").escapeHTML,i=n("e506").query,a=n("672b"),s=function(e,t){var n=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return r.value="",!0},s=function(t,n){var r=i('input[name="'+e.modelProperty+'"]',n);return""!==r.value},o=t,l=e.label||o.id,u=e.dataValueLabel,c=e.buttonLabel||"X",p="undefined"!==typeof e.buttonAction?e.buttonAction.name:"clear",d="undefined"!==typeof e.buttonAction?e.buttonAction.method:n,m="undefined"!==typeof e.buttonShow?e.buttonShow.name:"canClear",f="undefined"!==typeof e.buttonShow?e.buttonShow.method:s,b=!!e.disabled&&"function"===typeof e.disabled,v=!!e.hidden&&"function"===typeof e.hidden,h=e.description;return o.html='<label for="flowable-'+r(o.id)+'" '+(b?'data-disable="isDisabled" ':"")+(v?'data-show="isHidden" ':"")+(u?'data-value="'+r(u)+'"':"")+">"+r(l)+'</label><div class="bpp-field-wrapper" '+(b?'data-disable="isDisabled"':"")+(v?'data-show="isHidden"':"")+'><input id="flowable-'+r(o.id)+'" type="text" name="'+r(e.modelProperty)+'" '+(b?'data-disable="isDisabled"':"")+(v?'data-show="isHidden"':"")+' /><button class="'+r(p)+'" data-action="'+r(p)+'" data-show="'+r(m)+'" '+(b?'data-disable="isDisabled"':"")+(v?' data-show="isHidden"':"")+"><span>"+r(c)+"</span></button></div>",h&&(o.html+=a(h)),o[p]=d,o[m]=f,b&&(o.isDisabled=function(){return e.disabled.apply(o,arguments)}),v&&(o.isHidden=function(){return!e.hidden.apply(o,arguments)}),o.cssClasses=["bpp-textfield"],o};e.exports=s},aaec:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("5657");e.exports=function(e,t,n,s){var o=i(t);(r(t,"flowable:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},s)))}},ae41:function(e,t,n){"use strict";var r=n("5eaa");e.exports=function(e,t,n){t=t||{};var i=t.id||"name",a=t.label||n("Name"),s=t.modelProperty||"name",o=r.textBox({id:i,label:a,modelProperty:s,get:t.get,set:t.set});return[o]}},afcf:function(e,t,n){"use strict";var r=n("6cd4");function i(e){this._commandStack=e}i.$inject=["commandStack"],e.exports=i,i.prototype.preExecute=function(e){var t=this._commandStack;r(e,(function(e){t.execute(e.cmd,e.context)}))}},b0d9:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("7a6b").getBusinessObject,a=n("922e"),s=n("1108");e.exports=function(e,t,n,o){var l=o&&o.description;e.entries.push(r.validationAwareTextField({id:"id",label:n("Id"),description:l&&n(l),modelProperty:"id",getProperty:function(e){return i(e).id},setProperty:function(e,t){return e=e.labelTarget||e,s.updateProperties(e,t)},validate:function(e,t){var r=t.id,s=i(e),o=a.isIdValid(s,r,n);return o?{id:o}:{}}}))}},b20f:function(e,t,n){},b696:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("c8f6"),i=n("1108"),a=n("5eaa");function s(e){var t=e.get("timeDate");if("undefined"!==typeof t)return"timeDate";var n=e.get("timeCycle");if("undefined"!==typeof n)return"timeCycle";var r=e.get("timeDuration");return"undefined"!==typeof r?"timeDuration":void 0}function o(e,t,n){return t=t||void 0,r.createElement("bpmn:FormalExpression",{body:t},e,n)}function l(e,t,n,r,l){var u=[{value:"timeDate",name:l("Date")},{value:"timeDuration",name:l("Duration")},{value:"timeCycle",name:l("Cycle")}];e.entries.push(a.selectBox({id:"timer-event-definition-type",label:l("Timer Definition Type"),selectOptions:u,emptyParameter:!0,modelProperty:"timerDefinitionType",get:function(e,t){return{timerDefinitionType:s(r)||""}},set:function(e,t){var a={timeDuration:void 0,timeDate:void 0,timeCycle:void 0},l=t.timerDefinitionType;if(t.timerDefinitionType){var u,c=s(r);if(c){var p=r.get(c);u=p.get("body")}a[l]=o(r,u,n)}return i.updateBusinessObject(e,r,a)}})),e.entries.push(a.textField({id:"timer-event-definition",label:l("Timer Definition"),modelProperty:"timerDefinition",get:function(e,t){var n=s(r),i=n&&r.get(n),a=i&&i.get("body");return{timerDefinition:a}},set:function(e,t){var n=s(r),a=n&&r.get(n);if(a)return i.updateBusinessObject(e,a,{body:t.timerDefinition||void 0})},validate:function(e){var t=s(r),n=t&&r.get(t);if(n){var i=n.get("body");if(!i)return{timerDefinition:l("Must provide a value")}}},hidden:function(e){return!s(r)}}))}e.exports=l},b9b5:function(e,t,n){"use strict";n("c975"),n("d3b7"),n("ddb0");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("5eaa"),s=n("c8f6"),o=n("e470"),l=n("1108"),u=n("922e"),c=n("dce5"),p=n("6cd4"),d=n("2769");function m(){return u.nextId("Property_")}function f(e){var t=e&&b(e);return t&&t.values?t.values:[]}function b(e){return h(e)?v(e):e.properties}function v(e){return d(e.values,(function(e){return i(e,"flowable:Properties")}))}function h(e){return i(e,"bpmn:ExtensionElements")}e.exports=function(e,t,n,d){var v=n.getParent,g=n.modelProperties,y=n.createParent,E=r(e);if(i(e,"bpmn:Participant")&&(E=E.get("processRef")),E)return c(n,{addLabel:d("Add Property"),getElements:function(e,t){var n=v(e,t,E);return f(n)},addElement:function(e,n){var r=[],i=v(e,n,E);if(!i&&"function"===typeof y){var a=y(e,E);i=a.parent,r.push(a.cmd)}var o=b(i);o||(o=s.createElement("flowable:Properties",{},i,t),h(i)?r.push(l.addAndRemoveElementsFromList(e,i,"values","extensionElements",[o],[])):r.push(l.updateBusinessObject(e,i,{properties:o})));var u={};p(g,(function(e){u[e]=void 0})),g.indexOf("id")>=0&&(u.id=m());var c=s.createElement("flowable:Property",u,o,t);return r.push(l.addElementsTolist(e,o,"values",[c])),r},updateElement:function(e,t,n,r){var i=v(e,n,E),a=f(i)[r];return p(g,(function(e){t[e]=t[e]||void 0})),l.updateBusinessObject(e,a,t)},validate:function(e,t,n,r){if(g.indexOf("id")>=0){var i=v(e,n,E),a=f(i),s=a[r];if(s){var o=u.isIdValid(s,t.id,d);if(o)return{id:o}}}},removeElement:function(e,t,n){var r=[],a=v(e,t,E),s=b(a),u=f(a),c=u[n];return r.push(l.removeElementsFromList(e,s,"values",null,[c])),1===u.length&&(h(a)?p(a.values,(function(t){i(t,"flowable:Properties")&&r.push(o.removeEntry(E,e,t))})):r.push(l.updateBusinessObject(e,a,{properties:void 0}))),r}}),a.table(n)}},ba77:function(e,t,n){"use strict";var r=n("7a6b"),i=r.is,a=r.getBusinessObject,s=n("7dc1"),o=n("e470"),l={};e.exports=l,l.isServiceTaskLike=function(e){return i(e,"flowable:ServiceTaskLike")},l.isDmnCapable=function(e){return i(e,"flowable:DmnCapable")},l.isExternalCapable=function(e){return i(e,"flowable:ExternalCapable")},l.isTaskListener=function(e){return i(e,"flowable:TaskListener")},l.isExecutionListener=function(e){return i(e,"flowable:ExecutionListener")},l.isListener=function(e){return this.isTaskListener(e)||this.isExecutionListener(e)},l.isSequenceFlow=function(e){return i(e,"bpmn:SequenceFlow")},l.getServiceTaskLikeBusinessObject=function(e){if(i(e,"bpmn:IntermediateThrowEvent")||i(e,"bpmn:EndEvent")){var t=s.getMessageEventDefinition(e);t&&(e=t)}return this.isServiceTaskLike(e)&&a(e)},l.getImplementationType=function(e){var t=this.getServiceTaskLikeBusinessObject(e);if(!t){if(!this.isListener(e))return;t=e}if(this.isDmnCapable(t)){var n=t.get("flowable:decisionRef");if("undefined"!==typeof n)return"dmn"}if(this.isServiceTaskLike(t)){var r=o.getExtensionElements(t,"flowable:Connector");if("undefined"!==typeof r)return"connector"}if(this.isExternalCapable(t)){var i=t.get("flowable:type");if("external"===i)return"external"}var a=t.get("flowable:class");if("undefined"!==typeof a)return"class";var s=t.get("flowable:expression");if("undefined"!==typeof s)return"expression";var l=t.get("flowable:delegateExpression");if("undefined"!==typeof l)return"delegateExpression";if(this.isListener(t)){var u=t.get("script");if("undefined"!==typeof u)return"script"}}},bc26:function(e,t,n){e.exports={__depends__:[n("2841"),n("b71e").default],__init__:["propertiesProvider"],propertiesProvider:["type",n("418b")]}},bc4f:function(e,t,n){"use strict";n("c975"),n("a434");var r=n("c8f6");function i(e,t){this._elementRegistry=e,this._bpmnFactory=t}function a(e,t){if(!e)throw new Error(t+" required");return e}i.$inject=["elementRegistry","bpmnFactory"],e.exports=i,i.prototype.execute=function(e){var t=a(e.referencingObject,"referencingObject"),n=a(e.referenceProperty,"referenceProperty"),i=a(e.newObject,"newObject"),s=a(e.newObjectContainer,"newObjectContainer"),o=a(e.newObjectParent,"newObjectParent"),l=[e.element],u=r.createElement(i.type,i.properties,o,this._bpmnFactory);return e.referencedObject=u,s.push(u),e.previousReference=t[n],t[n]=u,e.changed=l,l},i.prototype.revert=function(e){var t=e.referencingObject,n=e.referenceProperty,r=e.previousReference,i=e.referencedObject,a=e.newObjectContainer;return t.set(n,r),a.splice(a.indexOf(i),1),e.changed}},bdeb:function(e,t,n){"use strict";n("4160"),n("b0c0");var r=n("dce5");function i(e,t,n){var r,i,a=e.scriptFormat;return a?i=n.create("flowable:Script",{scriptFormat:a,value:t}):r=t,n.create("flowable:InputParameter",{name:e.name,value:r,definition:i})}function a(e,t,n){var r,i,a=e.scriptFormat;return a?i=n.create("flowable:Script",{scriptFormat:a,value:e.source}):r=e.source,n.create("flowable:OutputParameter",{name:t,value:r,definition:i})}function s(e,t,n){return n.create("flowable:Property",{name:e.name,value:t||""})}function o(e,t,n){var r=d(e,t);return n.create("flowable:In",r)}function l(e,t,n){return n.create("flowable:In",{businessKey:t})}function u(e,t,n){var r=d(e,t);return n.create("flowable:Out",r)}function c(e,t,n){var r,i,a=e.scriptFormat;return a?i=n.create("flowable:Script",{scriptFormat:a,value:t}):r=t,n.create("flowable:ExecutionListener",{event:e.event,value:r,script:i})}function p(e,t,n){var i={string:void 0,expression:void 0,name:void 0},a=r({},i);return e.expression?a.expression=t:a.string=t,a.name=e.name,n.create("flowable:Field",a)}function d(e,t){var n={};return e.target?(n.target=e.target,e.expression?n.sourceExpression=t:n.source=t):e.variables?(n.variables="all","local"===e.variables&&(n.local=!0)):(n.target=t,["source","sourceExpression"].forEach((function(t){e[t]&&(n[t]=e[t])}))),n}e.exports.createInputParameter=i,e.exports.createOutputParameter=a,e.exports.createFlowableProperty=s,e.exports.createFlowableIn=o,e.exports.createFlowableInWithBusinessKey=l,e.exports.createFlowableOut=u,e.exports.createFlowableExecutionListenerScript=c,e.exports.createFlowableFieldInjection=p},c144:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("d949");e.exports=function(e,t,n,s){var o=i(t);(r(t,"flowable:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},s)))}},c20a:function(e,t,n){"use strict";n("a4d3"),n("e01a");var r=n("922e").escapeHTML,i=n("672b"),a=n("2696");function s(e){var t=e.id,n=e.label||t,s=e.showLink,o=e.handleClick,l=e.description;if(s&&"function"!==typeof s)throw new Error("options.showLink must be a function");if("function"!==typeof o)throw new Error("options.handleClick must be a function");var u={id:t};return u.html='<a data-action="handleClick" '+(s?'data-show="showLink" ':"")+'class="bpp-entry-link'+(e.cssClasses?" "+r(e.cssClasses):"")+'">'+r(n)+"</a>",l&&(u.html+=i(l)),u.handleClick=a(o,u),"function"===typeof s&&(u.showLink=function(){return s.apply(u,arguments)}),u}e.exports=s},c4c5:function(e,t,n){"use strict";var r=n("ea6d").add,i=n("7a6b").getBusinessObject,a={};e.exports=a,a.createCategoryValue=function(e,t){var n=t.create("bpmn:CategoryValue"),a=t.create("bpmn:Category",{categoryValue:[n]});return r(e.get("rootElements"),a),i(a).$parent=e,i(n).$parent=a,n}},c6e1:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("5eaa"),s=n("1108"),o=n("ed92");e.exports=function(e,t,n,l){var u;if(i(t,"bpmn:ScriptTask")&&(u=r(t)),u){var c=o("scriptFormat","script",!1,l);e.entries.push({id:"script-implementation",label:l("Script"),html:c.template,get:function(e){return c.get(e,u)},set:function(e,t,n){var r=c.set(e,t,n);return s.updateProperties(e,r)},validate:function(e,t){return c.validate(e,t)},script:c,cssClasses:["bpp-textfield"]}),e.entries.push(a.textField({id:"scriptResultVariable",label:l("Result Variable"),modelProperty:"scriptResultVariable",get:function(e,t){var n=u.get("flowable:resultVariable");return{scriptResultVariable:n}},set:function(e,t,n){return s.updateProperties(e,{"flowable:resultVariable":t.scriptResultVariable.length?t.scriptResultVariable:void 0})}}))}}},c7fd:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("5fd0");e.exports=function(e,t,n,s){var o=i(t);(r(t,"flowable:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))&&(e.entries=e.entries.concat(a(t,n,{getBusinessObject:function(e){var t=i(e);return r(t,"bpmn:Participant")?t.get("processRef"):t}},s)))}},c8f6:function(e,t,n){"use strict";var r={};e.exports=r,r.createElement=function(e,t,n,r){var i=r.create(e,t);return i.$parent=n,i}},cab0:function(e,t,n){"use strict";var r=n("a08f");function i(e,t,n){this._loadTemplates=e,this._eventBus=t,this._elementTemplates=n;var r=this;t.on("diagram.init",(function(){r.reload()}))}e.exports=i,i.$inject=["config.elementTemplates","eventBus","elementTemplates"],i.prototype.reload=function(){var e=this,t=this._loadTemplates;if("undefined"!==typeof t)return"function"===typeof t?t((function(t,n){if(t)return e.templateErrors([t]);e.setTemplates(n)})):t.length?this.setTemplates(t):void 0},i.prototype.setTemplates=function(e){var t=this._elementTemplates,n=(new r).addAll(e),i=n.getErrors(),a=n.getValidTemplates();t.set(a),i.length&&this.templateErrors(i),this.templatesChanged()},i.prototype.templatesChanged=function(){this._eventBus.fire("elementTemplates.changed")},i.prototype.templateErrors=function(e){this._eventBus.fire("elementTemplates.errors",{errors:e})}},d509:function(e,t,n){"use strict";var r=n("7a6b").getBusinessObject,i=n("922e").escapeHTML,a=n("5eaa"),s=n("c8f6"),o=n("1108"),l=n("e506").classes;function u(e,t){var n=p(e);return n&&n.get(t)}function c(e){return e&&e.get("body")}function p(e){var t=r(e);return t.loopCharacteristics}function d(e){return u(e,"loopCardinality")}function m(e){var t=d(e);return c(t)}function f(e){return u(e,"completionCondition")}function b(e){var t=f(e);return c(t)}function v(e){return u(e,"flowable:collection")}function h(e){return u(e,"flowable:elementVariable")}function g(e,t,n){return s.createElement("bpmn:FormalExpression",{body:t},e,n)}function y(e,t,n,r){var i=p(e),a={};if(!n)return a[t]=void 0,o.updateBusinessObject(e,i,a);var s=i.get(t);return s?o.updateBusinessObject(e,s,{body:n}):(a[t]=g(i,n,r),o.updateBusinessObject(e,i,a))}e.exports=function(e,t,n){var r=[];return r.push({id:"multiInstance-errorMessage",html:'<div data-show="isValid"><span class="bpp-icon-warning"></span> '+i(n("Must provide either loop cardinality or collection"))+"</div>",isValid:function(e,t,n,r){var i=p(e),a=!0;if(i){var s=m(e),o=v(e);a=!s&&!o}return l(t).toggle("bpp-hidden",!a),l(n).toggle("bpp-error-message",a),a}}),r.push(a.textField({id:"multiInstance-loopCardinality",label:n("Loop Cardinality"),modelProperty:"loopCardinality",get:function(e,t){return{loopCardinality:m(e)}},set:function(e,n){return y(e,"loopCardinality",n.loopCardinality,t)}})),r.push(a.textField({id:"multiInstance-collection",label:n("Collection"),modelProperty:"collection",get:function(e,t){return{collection:v(e)}},set:function(e,t){var n=p(e);return o.updateBusinessObject(e,n,{"flowable:collection":t.collection||void 0})},validate:function(e,t,n){var r=v(e),i=h(e);if(!r&&i)return{collection:"Must provide a value"}}})),r.push(a.textField({id:"multiInstance-elementVariable",label:n("Element Variable"),modelProperty:"elementVariable",get:function(e,t){return{elementVariable:h(e)}},set:function(e,t){var n=p(e);return o.updateBusinessObject(e,n,{"flowable:elementVariable":t.elementVariable||void 0})}})),r.push(a.textField({id:"multiInstance-completionCondition",label:n("Completion Condition"),modelProperty:"completionCondition",get:function(e){return{completionCondition:b(e)}},set:function(e,n){return y(e,"completionCondition",n.completionCondition,t)}})),r}},d712:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("d509"),s=n("4f31"),o=n("143b");function l(e){var t=r(e);return t.loopCharacteristics}function u(e){var t=l(e);return!!t&&i(t,"flowable:Collectable")}e.exports=function(e,t,n,r){u(t)&&(e.entries=e.entries.concat(a(t,n,r)),e.entries=e.entries.concat(o(t,n,{getBusinessObject:l,idPrefix:"multiInstance-",labelPrefix:r("Multi Instance ")},r)),e.entries=e.entries.concat(s(t,n,{getBusinessObject:l,idPrefix:"multiInstance-",labelPrefix:r("Multi Instance ")},r)))}},d7ec:function(e,t,n){"use strict";n("a4d3"),n("e01a"),n("99af"),n("b0c0"),n("d3b7"),n("25f0");var r=n("922e").escapeHTML,i=n("e506").domify,a=n("6cd4"),s=n("672b"),o=function(e){return!(!e||"[object Array]"!==Object.prototype.toString.call(e))},l=function(e){return e.concat([{name:"",value:""}])},u=function(e){return'<option value="'+e.value+'">'+e.name+"</option>"},c=function(e,t){var n=t,c=e.label||n.id,p=e.selectOptions||[{name:"",value:""}],d=e.modelProperty,m=e.emptyParameter,f=!!e.disabled&&"function"===typeof e.disabled,b=!!e.hidden&&"function"===typeof e.hidden,v=e.description;return m&&(p=l(p)),n.html='<label for="flowable-'+r(n.id)+'"'+(f?'data-disable="isDisabled" ':"")+(b?'data-show="isHidden" ':"")+">"+r(c)+'</label><select id="flowable-'+r(n.id)+'-select" name="'+r(d)+'"'+(f?'data-disable="isDisabled" ':"")+(b?'data-show="isHidden" ':"")+" data-value>",o(p)&&a(p,(function(e){n.html+='<option value="'+r(e.value)+'">'+(e.name?r(e.name):"")+"</option>"})),n.html+="</select>",v&&"function"!==typeof e.showCustomInput&&(n.html+=s(v)),n.setControlValue=function(e,t,n,r,s){if("function"===typeof p){var o=p(e,n);if(o){while(n.firstChild)n.removeChild(n.firstChild);a(o,(function(e){var t=i(u(e));n.appendChild(t)}))}}void 0!==s&&(n.value=s)},f&&(n.isDisabled=function(){return e.disabled.apply(n,arguments)}),b&&(n.isHidden=function(){return!e.hidden.apply(n,arguments)}),n.cssClasses=["bpp-dropdown"],n};e.exports=c},d949:function(e,t,n){"use strict";var r=n("5eaa"),i=n("1108");e.exports=function(e,t,n,a){var s=n.getBusinessObject,o=r.checkbox({id:"isStartableInTasklist",label:a("Startable"),modelProperty:"isStartableInTasklist",get:function(e,t){var n=s(e),r=n.get("flowable:isStartableInTasklist");return{isStartableInTasklist:r||""}},set:function(e,t){var n=s(e);return i.updateBusinessObject(e,n,{"flowable:isStartableInTasklist":!!t.isStartableInTasklist})}});return[o]}},dc10:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("5eaa"),i=n("1108"),a=n("dd28"),s=n("ef82");e.exports=function(e,t,n,o,l,u){e.entries=e.entries.concat(a(t,o,n,{label:u("Escalation"),elementName:"escalation",elementType:"bpmn:Escalation",referenceProperty:"escalationRef",newElementIdPrefix:"Escalation_"})),e.entries=e.entries.concat(s(t,o,n,{id:"escalation-element-name",label:u("Escalation Name"),referenceProperty:"escalationRef",modelProperty:"name",shouldValidate:!0})),e.entries=e.entries.concat(s(t,o,n,{id:"escalation-element-code",label:u("Escalation Code"),referenceProperty:"escalationRef",modelProperty:"escalationCode"})),l&&e.entries.push(r.textField({id:"escalationCodeVariable",label:u("Escalation Code Variable"),modelProperty:"escalationCodeVariable",get:function(e){var t=o.get("flowable:escalationCodeVariable");return{escalationCodeVariable:t}},set:function(e,t){return i.updateBusinessObject(e,o,{"flowable:escalationCodeVariable":t.escalationCodeVariable||void 0})}}))}},dd28:function(e,t,n){"use strict";n("a4d3"),n("e01a");var r=n("1108"),i=n("e506").query,a=n("e506").domify,s=n("e506").attr,o=n("6cd4"),l=n("2769"),u=n("c8f6"),c=n("922e"),p=c.escapeHTML,d="select[name=selectedElement]";function m(e){return i(d,e.parentElement)}function f(e,t,n){var r=c.findRootElementsByType(e,t);return l(r,(function(e){return e.id===n}))}e.exports=function(e,t,n,i){var l=i.elementName||"",b=i.elementType,v=i.referenceProperty,h=i.newElementIdPrefix||"elem_",g=i.label||"",y=i.description||"",E=[];return E.push({id:"event-definitions-"+l,description:y,html:'<div class="bpp-row bpp-select"><label for="flowable-'+p(l)+'">'+p(g)+'</label><div class="bpp-field-wrapper"><select id="flowable-'+p(l)+'" name="selectedElement" data-value></select><button class="add" id="addElement" data-action="addElement"><span>+</span></button></div></div>',get:function(e,n){c.updateOptionsDropDown(d,t,b,n);var r=t.get(v);return{selectedElement:r&&r.id||""}},set:function(e,i){var a=i.selectedElement,s={};if(!a||"undefined"===typeof a)return s[v]=void 0,r.updateBusinessObject(e,t,s);var o=[],l=f(t,b,a);if(!l){var p=c.getRoot(t);l=u.createElement(b,{name:a},p,n),o.push(r.addAndRemoveElementsFromList(e,p,"rootElements",null,[l]))}return s[v]=l,o.push(r.updateBusinessObject(e,t,s)),o},addElement:function(e,t){var n=c.nextId(h),r=a('<option value="'+p(n)+'"> (id='+p(n)+")</option>"),i=m(t);return i.insertBefore(r,i.firstChild),o(i,(function(e){e.value===n?s(e,"selected","selected"):s(e,"selected",null)})),!0}}),E}},dd97:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("dce5"),i=n("ee81");e.exports=function(e,t,n,a,s){a=r({idPrefix:"listener-",insideListener:!0},a);var o=i(t,n,s,a);o&&o.length>0&&(e.entries=e.entries.concat(o))}},dee8:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("5eaa"),s=n("1108"),o=n("6cd4");function l(e){var t=i(e),n=null;return t.eventDefinitions&&o(t.eventDefinitions,(function(e){r(e,"bpmn:LinkEventDefinition")&&(n=e)})),n}e.exports=function(e,t,n){var i=["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"];o(i,(function(i){if(r(t,i)){var o=l(t);if(o){var u=a.textField({id:"link-event",label:n("Link Name"),modelProperty:"link-name"});u.get=function(){return{"link-name":o.get("name")}},u.set=function(e,t){var n={name:t["link-name"]};return s.updateBusinessObject(e,o,n)},e.entries.push(u)}}}))}},e470:function(e,t,n){"use strict";n("4de4");var r=n("1108"),i=n("c8f6"),a=n("7a6b").is,s={},o=function(e){return e.get("extensionElements")};s.getExtensionElements=function(e,t){var n=o(e);if("undefined"!==typeof n){var r=n.get("values");if("undefined"!==typeof r){var i=r.filter((function(e){return a(e,t)}));if(i.length)return i}}},s.addEntry=function(e,t,n,a){var s=e.get("extensionElements");return s?r.addElementsTolist(t,s,"values",[n]):(s=i.createElement("bpmn:ExtensionElements",{values:[n]},e,a),{extensionElements:s})},s.removeEntry=function(e,t,n){var i=e.get("extensionElements");return i?r.removeElementsFromList(t,i,"values","extensionElements",[n]):{}},e.exports=s},e581:function(e,t,n){"use strict";n("4de4"),n("b0c0");var r=n("7a6b").getBusinessObject,i=n("7a6b").is,a=n("145d").isAny,s=n("2769"),o="flowable:modelerTemplate";function l(e){var t=r(e);if(t)return t.get(o)}function u(e,t){var n=l(e);return n&&t.get(n)}function c(e,t){return t.getAll().filter((function(t){return a(e,t.appliesTo)&&t.isDefault}))[0]}function p(e,t){var n,a=r(e);return n=i(a,"bpmn:ExtensionElements")?a:a.extensionElements,n?s(n.get("values"),(function(e){return i(e,t)})):null}function d(e,t){var n=h(e);return n?n.get("values").filter((function(e){return a(e,t)})):[]}function m(e,t){var n,r=h(e);if(r)return"flowable:in"===t.type?n=function(e){return i(e,"flowable:In")&&g(e,t)}:"flowable:out"===t.type?n=function(e){return i(e,"flowable:Out")&&g(e,t)}:"flowable:in:businessKey"===t.type&&(n=function(e){return i(e,"flowable:In")&&"businessKey"in e}),s(r.get("values"),n)}function f(e,t){return s(e.get("values"),(function(e){return e.name===t.name}))}function b(e,t){var n=e.get("inputParameters");return s(n,(function(e){return e.name===t.name}))}function v(e,t){var n=e.get("outputParameters");return s(n,(function(e){var n=e.value;if(!t.scriptFormat)return n===t.source;var r=e.definition;return!(!r||t.scriptFormat!==r.scriptFormat)&&r.value===t.source}))}function h(e){var t=r(e);return i(t,"bpmn:ExtensionElements")?t:t.extensionElements}function g(e,t){if("flowable:in"===t.type&&t.target)return e.target===t.target;if("flowable:out"===t.type){if(t.source)return e.source===t.source;if(t.sourceExpression)return e.sourceExpression===t.sourceExpression}return t.variables?"all"===e.variables&&("local"!==t.variables||e.local):void 0}e.exports.TEMPLATE_ATTR=o,e.exports.getTemplateId=l,e.exports.getTemplate=u,e.exports.getDefaultTemplate=c,e.exports.findExtension=p,e.exports.findExtensions=d,e.exports.findFlowableInOut=m,e.exports.findFlowableProperty=f,e.exports.findInputParameter=b,e.exports.findOutputParameter=v},e5b2:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("dce5"),i=n("1827");e.exports=function(e,t,n,a,s){a=r({idPrefix:"connector-",insideConnector:!0},a),e.entries=e.entries.concat(i(t,n,a,s))}},e5de:function(e,t,n){e.exports={__depends__:[n("6892"),n("b71e").default],__init__:["propertiesPanel"],propertiesPanel:["type",n("1721")]}},ed92:function(e,t,n){"use strict";var r=n("e506").query,i=n("922e").escapeHTML,a=n("922e");function s(e){return a.selectedType("select[name=scriptType]",e.parentElement)}e.exports=function(e,t,n,a){return{template:'<div class="bpp-row bpp-textfield"><label for="cam-script-format">'+i(a("Script Format"))+'</label><div class="bpp-field-wrapper"><input id="cam-script-format" type="text" name="scriptFormat" /><button class="clear" data-action="script.clearScriptFormat" data-show="script.canClearScriptFormat"><span>X</span></button></div></div><div class="bpp-row"><label for="cam-script-type">'+i(a("Script Type"))+'</label><div class="bpp-field-wrapper"><select id="cam-script-type" name="scriptType" data-value><option value="script" selected>'+i(a("Inline Script"))+'</option><option value="scriptResource">'+i(a("External Resource"))+'</option></select></div></div><div class="bpp-row bpp-textfield"><label for="cam-script-resource-val" data-show="script.isScriptResource">'+i(a("Resource"))+'</label><div class="bpp-field-wrapper" data-show="script.isScriptResource"><input id="cam-script-resource-val" type="text" name="scriptResourceValue" /><button class="clear" data-action="script.clearScriptResource" data-show="script.canClearScriptResource"><span>X</span></button></div></div><div class="bpp-row"><label for="cam-script-val" data-show="script.isScript">'+i(a("Script"))+'</label><div class="bpp-field-wrapper" data-show="script.isScript"><textarea id="cam-script-val" type="text" name="scriptValue"></textarea></div></div>',get:function(n,r){var i={},a=r.get("flowable:resource"),s=r.get(t),o=r.get(e);return"undefined"!==typeof a?(i.scriptResourceValue=a,i.scriptType="scriptResource"):(i.scriptValue=s,i.scriptType="script"),i.scriptFormat=o,i},set:function(r,i,a){var s=i.scriptFormat,o=i.scriptType,l=i.scriptResourceValue,u=i.scriptValue,c={"flowable:resource":void 0};return c[t]=void 0,c[e]=void 0,n?c[e]=s||"":""!==s&&(c[e]=s),"scriptResource"===o?c["flowable:resource"]=l||"":c[t]=u||"",c},validate:function(e,t){var r={};return"script"!==t.scriptType||t.scriptValue||(r.scriptValue=a("Must provide a value")),"scriptResource"!==t.scriptType||t.scriptResourceValue||(r.scriptResourceValue=a("Must provide a value")),!n||t.scriptFormat&&0!==t.scriptFormat.length||(r.scriptFormat=a("Must provide a value")),r},clearScriptFormat:function(e,t,n,i){return r("input[name=scriptFormat]",i).value="",!0},canClearScriptFormat:function(e,t,n,i){var a=r("input[name=scriptFormat]",i);return""!==a.value},clearScriptResource:function(e,t,n,i){return r("input[name=scriptResourceValue]",i).value="",!0},canClearScriptResource:function(e,t,n,i){var a=r("input[name=scriptResourceValue]",i);return""!==a.value},clearScript:function(e,t,n,i){return r("textarea[name=scriptValue]",i).value="",!0},canClearScript:function(e,t,n,i){var a=r("textarea[name=scriptValue]",i);return""!==a.value},isScriptResource:function(e,t,n,r){var i=s(r);return"scriptResource"===i},isScript:function(e,t,n,r){var i=s(r);return"script"===i}}}},ee7d:function(e,t,n){"use strict";var r=n("7a6b"),i=r.is,a=r.getBusinessObject,s=n("e470"),o=n("ba77"),l={};function u(e,t,n){var r=s.getExtensionElements(e,t)||[];return n?(r[0]||{})[n]||[]:r}function c(e,t,n){var r=l.getInputOutput(e,n);return r&&r.get(t)||[]}e.exports=l,l.getInputOutput=function(e,t){if(!t){var n=a(e);return(u(n,"flowable:InputOutput")||[])[0]}var r=this.getConnector(e);return r&&r.get("inputOutput")},l.getConnector=function(e){var t=o.getServiceTaskLikeBusinessObject(e);return t&&(u(t,"flowable:Connector")||[])[0]},l.getInputParameters=function(e,t){return c.apply(this,[e,"inputParameters",t])},l.getOutputParameters=function(e,t){return c.apply(this,[e,"outputParameters",t])},l.getInputParameter=function(e,t,n){return this.getInputParameters(e,t)[n]},l.getOutputParameter=function(e,t,n){return this.getOutputParameters(e,t)[n]},l.isInputOutputSupported=function(e,t){if(t)return!0;var n=a(e);return i(n,"bpmn:FlowNode")&&!(i(n,"bpmn:StartEvent")||i(n,"bpmn:Gateway")||i(n,"bpmn:BoundaryEvent")||i(n,"bpmn:SubProcess")&&n.get("triggeredByEvent"))},l.areOutputParametersSupported=function(e,t){var n=a(e);return t||!i(n,"bpmn:EndEvent")&&!n.loopCharacteristics}},ee81:function(e,t,n){"use strict";n("b0c0");var r=n("e470"),i=n("c8f6"),a=n("1108"),s=n("922e"),o=n("5eaa"),l=n("634a"),u=n("7a6b"),c=u.getBusinessObject,p=n("dce5"),d={stringValue:void 0,string:void 0,expression:void 0},m="flowable:Field";e.exports=function(e,t,n,u){u=u||{};var f=!!u.insideListener,b=u.idPrefix||"",v=u.getSelectedListener,h=u.businessObject||c(e),g=[],y=function(e,t){return E(e,t)};function E(e,t){var n=k.getSelected(e,t.parentNode);if(-1!==n.idx){var r=x(e,t);return r[n.idx]}}function x(e,t){return f?w(e,t):h&&r.getExtensionElements(h,m)||[]}function w(e,t){var n=v(e,t);return n&&n.fields||[]}function T(e){var t="string",n=e&&e.expression,r=e&&(e.string||e.stringValue);return"undefined"!==typeof r?t="string":"undefined"!==typeof n&&(t="expression"),t}var S=function(){return function(e,t,n,r,i,a){var s=x(e,t),o=s[a];i=o.name?o.name:"<empty>";var l=a+" : "+i;n.text=l}},C=function(){return function(e,n,r,s){var o,l={name:"",string:""};if(f){var u=v(e,s);return o=i.createElement(m,l,u,t),a.addElementsTolist(e,u,"fields",[o])}return o=i.createElement(m,l,n,t),a.addElementsTolist(e,n,"values",[o])}},P=function(){return function(e,t,n,i,s){var o=x(e,s),l=o[i];if(l){if(!f)return r.removeEntry(h,e,l);var u=v(e,s);return a.removeElementsFromList(e,u,"fields",null,[l])}}},k=l(e,t,{id:b+"fields",label:n("Fields"),modelProperty:"fieldName",idGeneration:"false",businessObject:h,createExtensionElement:C(),removeExtensionElement:P(),getExtensionElements:function(e,t){return x(e,t)},setOptionLabelValue:S()});g.push(k),g.push(o.validationAwareTextField({id:b+"field-name",label:n("Name"),modelProperty:"fieldName",getProperty:function(e,t){return(E(e,t)||{}).name},setProperty:function(e,t,n){var r=E(e,n);return a.updateBusinessObject(e,r,{name:t.fieldName})},validate:function(e,t,r){var i=E(e,r),a={};if(i){var o=t.fieldName;o?s.containsSpace(o)&&(a.fieldName=n("Name must not contain spaces")):a.fieldName=n("Parameter must have a name")}return a},hidden:function(e,t){return!y(e,t)}}));var O=[{name:n("String"),value:"string"},{name:n("Expression"),value:"expression"}];return g.push(o.selectBox({id:b+"field-type",label:n("Type"),selectOptions:O,modelProperty:"fieldType",get:function(e,t){var n=E(e,t),r=T(n);return{fieldType:r}},set:function(e,t,n){var r=p({},d),i=t.fieldType;return"string"===i?r.string="":"expression"===i&&(r.expression=""),a.updateBusinessObject(e,E(e,n),r)},hidden:function(e,t){return!y(e,t)}})),g.push(o.textBox({id:b+"field-value",label:n("Value"),modelProperty:"fieldValue",get:function(e,t){var n,r=E(e,t),i=T(r);return"string"===i?n=r&&(r.string||r.stringValue):"expression"===i&&(n=r&&r.expression),{fieldValue:n}},set:function(e,t,n){var r=E(e,n),i=T(r),s=p({},d),o=t.fieldValue||void 0;return"string"===i?s.string=o:"expression"===i&&(s.expression=o),a.updateBusinessObject(e,r,s)},validate:function(e,t,r){var i=E(e,r),a={};return i&&(t.fieldValue||(a.fieldValue=n("Must provide a value"))),a},show:function(e,t){return y(e,t)}})),g}},ef82:function(e,t,n){"use strict";var r=n("5eaa"),i=n("1108");e.exports=function(e,t,n,a){var s=a.id||"element-property",o=a.label,l=a.referenceProperty,u=a.modelProperty||"name",c=a.shouldValidate||!1,p=r.textField({id:s,label:o,modelProperty:u,get:function(e,n){var r=t.get(l),i={};return i[u]=r&&r.get(u),i},set:function(e,n,r){var a=t.get(l),s={};return s[u]=n[u]||void 0,i.updateBusinessObject(e,a,s)},hidden:function(e,n){return!t.get(l)}});return c&&(p.validate=function(e,n,r){var i=t.get(l);if(i&&!n[u]){var a={};return a[u]="Must provide a value",a}}),[p]}},f221:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("145d").isAny,a=n("7a6b").getBusinessObject,s=n("922e").escapeHTML,o=n("e506").query,l=n("1108"),u=n("c8f6"),c=n("7dc1"),p=n("ed92");e.exports=function(e,t,n,i){var d=a(t);if(d){var f=c.getConditionalEventDefinition(t);if(r(t,"bpmn:SequenceFlow")&&m(t.source)||f){var b=p("language","body",!0,i);e.entries.push({id:"condition",label:i("Condition"),html:'<div class="bpp-row"><label for="cam-condition-type">'+s(i("Condition Type"))+'</label><div class="bpp-field-wrapper"><select id="cam-condition-type" name="conditionType" data-value><option value="expression">'+s(i("Expression"))+'</option><option value="script">'+s(i("Script"))+'</option><option value="" selected></option></select></div></div><div class="bpp-row"><label for="cam-condition" data-show="isExpression">'+s(i("Expression"))+'</label><div class="bpp-field-wrapper" data-show="isExpression"><input id="cam-condition" type="text" name="condition" /><button class="clear" data-action="clear" data-show="canClear"><span>X</span></button></div><div data-show="isScript">'+b.template+"</div></div>",get:function(e,t){var n=c.getConditionalEventDefinition(e),r=n?n.condition:d.conditionExpression,i={},a="";if(r){var s=r.language;"undefined"!==typeof s?(a="script",i=b.get(e,r)):(a="expression",i.condition=r.get("body"))}return i.conditionType=a,i},set:function(e,t,r){var i,a=t.conditionType,s=[],o={body:void 0};if("script"===a)o=b.set(e,t,r);else{var c=t.condition;o.body=c}if(a){i=u.createElement("bpmn:FormalExpression",o,f||d,n);var p=e.source;p&&p.businessObject.default===d&&s.push(l.updateProperties(p,{default:void 0}))}var m=f?{condition:i}:{conditionExpression:i};return s.push(l.updateBusinessObject(e,f||d,m)),s},validate:function(e,t){var n={};return t.condition||"expression"!==t.conditionType?"script"===t.conditionType&&(n=b.validate(e,t)):n.condition=i("Must provide a value"),n},isExpression:function(e,t){var n=o("select[name=conditionType]",t);if(n.selectedIndex>=0)return"expression"===n.options[n.selectedIndex].value},isScript:function(e,t){var n=o("select[name=conditionType]",t);if(n.selectedIndex>=0)return"script"===n.options[n.selectedIndex].value},clear:function(e,t){return o("input[name=condition]",t).value="",!0},canClear:function(e,t){var n=o("input[name=condition]",t);return""!==n.value},script:b,cssClasses:["bpp-textfield"]})}}};var d=["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:ComplexGateway"];function m(e){return i(e,d)}},f274:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("82ac");e.exports=function(e,t,n,i){var a=r(t,n,{},i);return e.entries=e.entries.concat(a.entries),{getSelectedListener:a.getSelectedListener}}},f3d8:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("5eaa");e.exports=function(e,t,n){r(t,"flowable:Assignable")&&(e.entries.push(i.userSelectField({id:"assignee",label:n("Assignee"),modelProperty:"assignee"})),e.entries.push(i.userSelectField({id:"candidateUsers",label:n("Candidate Users"),modelProperty:"candidateUsers"})),e.entries.push(i.userSelectField({id:"candidateGroups",label:n("Candidate Groups"),modelProperty:"candidateGroups"})),e.entries.push(i.textField({id:"dueDate",description:n("The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)"),label:n("Due Date"),modelProperty:"dueDate"})),e.entries.push(i.textField({id:"followUpDate",description:n("The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)"),label:n("Follow Up Date"),modelProperty:"followUpDate"})),e.entries.push(i.textField({id:"priority",label:n("Priority"),modelProperty:"priority"})))}},f6da:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("ba77"),s=n("00c2");function o(e){var t=a.getServiceTaskLikeBusinessObject(e);return t||(t=i(e)),t}e.exports=function(e,t,n,i){var a=o(t);a&&(r(a,"flowable:TaskPriorized")||r(a,"bpmn:Participant")&&a.get("processRef"))&&(e.entries=e.entries.concat(s(t,n,{getBusinessObject:function(e){return r(a,"bpmn:Participant")?a.get("processRef"):a}},i)))}},f9f7:function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a6b").is,i=n("7a6b").getBusinessObject,a=n("5eaa"),s=n("25f2");e.exports=function(e,t,n){var o=i(t);if(o&&(r(t,"bpmn:Process")||r(t,"bpmn:Participant")&&o.get("processRef"))){var l=a.checkbox({id:"process-is-executable",label:n("Executable"),modelProperty:"isExecutable"});r(t,"bpmn:Participant")&&(l.get=function(e){return s.getProcessBusinessObject(e,"isExecutable")},l.set=function(e,t){return s.modifyProcessBusinessObject(e,"isExecutable",t)}),e.entries.push(l)}}}});